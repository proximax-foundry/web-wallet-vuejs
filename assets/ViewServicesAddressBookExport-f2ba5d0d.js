import{d as $,u as S,r as b,c as f,w as h,a8 as V,H as w,i as _,o as C,b as B,e as r,m as n,v as d,x as i,t as a,O as P,R as A,y as u}from"./index-3fab2394.js";import{_ as L}from"./icon-search_black-a392bb0f.js";import{_ as D}from"./icon-upload-6def9237.js";import{s as c,a as K}from"./column.esm-360d7e8e.js";const N={class:"w-9/12 ml-auto mr-auto mt-5"},I={class:"flex text-xs font-semibold border-b-2 menu_title_div"},T={class:"w-18 text-center border-b-2 pb-3 border-yellow-500"},F={class:"mt-10"},G={class:"text-md my-5 font-semibold"},M={class:"flex cursor-pointer"},R={class:"border-2 border-blue-primary p-1 mb-3 w-16 text-white bg-blue-primary text-xs text-center font-semibold"},U={class:"text-tsm"},E={class:"my-4 flex flex-wrap gap-2 justify-between"},j={class:"flex gap-3 items-center"},H={class:"w-60 px-3 py-1 flex justify-between mb-3 mt-3 md:mt-0 md:mb-0 border border-gray-200"},O=["placeholder"],W=r("img",{src:L,class:"inline-block"},null,-1),z=r("img",{src:D,class:"inline-block mr-4 relative"},null,-1),Z=$({__name:"ViewServicesAddressBookExport",setup(q){const{t:g}=S(),p=b({value:"",label:g("general.showAll")}),y=f(()=>{var e;const l=[...new Set((e=h.currentLoggedInWallet)==null?void 0:e.contacts.map(o=>o.group))].filter(o=>o!="-none-");return[{value:"",label:g("general.showAll")}].concat(l.map(o=>({label:o,value:o})))}),m=b({global:{value:null,matchMode:V.CONTAINS}}),x=f(()=>{var l;const t=(l=h.currentLoggedInWallet)==null?void 0:l.contacts.map(e=>({name:e.name,address:w.createAddress(e.address).pretty(),group:e.group,publicKey:e.publicKey?e.publicKey:null}));return p.value.value==""?t.sort((e,o)=>e.name>o.name?1:e.name<o.name?-1:0):t.filter(e=>e.group==p.value.value).sort((e,o)=>e.name>o.name?1:e.name<o.name?-1:0)}),v=b(),k=()=>{v.value.exportCSV()};return(t,l)=>{const e=_("router-link"),o=_("Dropdown");return C(),B("div",null,[r("div",N,[r("div",I,[n(e,{to:{name:"ViewServicesAddressBook"},class:"w-18 text-center border-b pb-3"},{default:d(()=>[i(a(t.$t("general.list")),1)]),_:1}),n(e,{to:{name:"ViewServicesAddressBookImport"},class:"w-18 text-center border-b pb-3"},{default:d(()=>[i(a(t.$t("general.import")),1)]),_:1}),r("div",T,a(t.$t("general.export")),1)]),r("div",F,[r("div",G,a(t.$t("addressBook.exportContacts")),1),r("div",M,[r("div",R,a(t.$t("general.group")),1),n(e,{to:{name:"ViewServicesAddressBookExportSelect"},class:"border-2 border-blue-primary p-1 mb-3 w-16 text-blue-primary text-xs text-center font-semibold"},{default:d(()=>[i(a(t.$t("general.name")),1)]),_:1})]),r("div",U,a(t.$t("addressBook.exportBackUpContact")),1),r("div",E,[n(o,{modelValue:p.value,"onUpdate:modelValue":l[0]||(l[0]=s=>p.value=s),options:y.value,"option-label":"label",placeholder:"Group",class:"w-60 mr-2 text-xs"},null,8,["modelValue","options"]),r("div",j,[r("div",H,[P(r("input",{"onUpdate:modelValue":l[1]||(l[1]=s=>m.value.global.value=s),type:"text",class:"w-28 outline-none text-xs float-left",placeholder:t.$t("general.search")},null,8,O),[[A,m.value.global.value]]),W]),r("div",{onClick:l[2]||(l[2]=s=>k()),class:"cursor-pointer px-5 py-0.5 rounded-md w-36 bg-blue-primary text-white text-tsm drop-shadow-lg filter hover:bg-blue-600 transition-all duration-500"},[z,i(a(t.$t("general.export")),1)])])])]),n(u(K),{value:x.value,ref_key:"dt",ref:v,filters:m.value,"onUpdate:filters":l[3]||(l[3]=s=>m.value=s),paginator:!0,rows:10,responsiveLayout:"scroll",scrollDirection:"horizontal",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",currentPageReportTemplate:"",globalFilterFields:["group"]},{default:d(()=>[n(u(c),{field:"name",header:t.$t("general.label"),headerStyle:"width:30%"},{body:d(({data:s})=>[i(a(s.name),1)]),_:1},8,["header"]),n(u(c),{field:"address",header:t.$t("general.address"),headerStyle:"width:55%"},{body:d(({data:s})=>[i(a(u(w).createAddress(s.address).pretty()),1)]),_:1},8,["header"]),n(u(c),{field:"group",header:t.$t("general.group"),headerStyle:"width:30%"},{body:d(({data:s})=>[i(a(s.group),1)]),_:1},8,["header"]),n(u(c),{field:"publicKey",header:t.$t("general.publicKey"),headerStyle:"width:55%"},{body:d(({data:s})=>[i(a(s.publicKey),1)]),_:1},8,["header"])]),_:1},8,["value","filters"])])])}}});export{Z as default};
