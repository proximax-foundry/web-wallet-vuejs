import"./vue-86063517.js";import{T as at}from"./TextInputClean-5873929f.js";import{S as ot,_ as rt}from"./icon-dots-dbe35a85.js";import{S as it}from"./SelectInputAccount-e6550db6.js";import{_ as nt,x as lt,n as ee,A as te,w as k,H as se}from"./index-e91c98d3.js";import{c as ct}from"./functions-3b5b4af7.js";import{u as dt}from"./primevue-e09f7e84.js";import{S as T}from"./swapUtils-5635efc9.js";import{_ as mt}from"./eth-aa063e38.js";import{_ as ut}from"./icon-metamask-fox-25ba78e6.js";import{_ as Ee}from"./icon-connected-48d7208e.js";import{_ as ft}from"./icon-xpx-072deeab.js";import{r as s,aJ as vt,c as _,w as ht,B as A,o,z as n,A as t,D as i,g as f,e as u,l as m,a as h,b as x,m as ae,p as pt,bn as xt}from"./@vue-a9ecc9f1.js";import{W as Ae}from"./@ethersproject-91cc0060.js";import"./@js-joda-d98eb16f.js";import"./jdenticon-e4458e79.js";import"./node-stdlib-browser-23a8bc7f.js";import"./buffer-6d367910.js";import"./base64-js-50a5cdf9.js";import"./ieee754-44f7831e.js";import"./process-2209b2b3.js";import"./tsjs-xpx-chain-sdk-84426b6a.js";import"./rxjs-1250b26d.js";import"./tslib-8dbab242.js";import"./@noble-f8eff84a.js";import"./js-sha3-d7d4f583.js";import"./utf8-c941a4a0.js";import"./bip39-936aefa9.js";import"./axios-b48d2c29.js";import"./flatbuffers-edc4f8d7.js";import"./ws-0a714537.js";import"./vue-router-21fffbbf.js";import"./crypto-js-e64ac54c.js";import"./crypto-browserify-4fd8cccd.js";import"./randombytes-685e9383.js";import"./safe-buffer-c463177b.js";import"./create-hash-92c04a28.js";import"./inherits-804453d8.js";import"./md5.js-8d474739.js";import"./hash-base-bb85fc42.js";import"./readable-stream-2241ee9e.js";import"./events-86ccc6d8.js";import"./util-06f7ff32.js";import"./is-arguments-86164331.js";import"./has-tostringtag-7c6352d6.js";import"./has-symbols-cd7870b9.js";import"./call-bind-9e7f09da.js";import"./get-intrinsic-f35014ba.js";import"./has-proto-8ede3a55.js";import"./function-bind-68631a08.js";import"./has-ab8e2922.js";import"./is-generator-function-06dfaf9d.js";import"./which-typed-array-cf6b6a29.js";import"./for-each-f57c5052.js";import"./is-callable-7492318c.js";import"./available-typed-arrays-61974ec7.js";import"./gopd-bab4d6bd.js";import"./is-typed-array-037eef20.js";import"./util-deprecate-c3aabb3c.js";import"./string_decoder-ef7b01fe.js";import"./ripemd160-58dcfa02.js";import"./sha.js-cea3da2e.js";import"./cipher-base-aee0e03d.js";import"./stream-browserify-7496a08f.js";import"./create-hmac-e8b5ea4a.js";import"./browserify-sign-a708a95f.js";import"./browserify-rsa-bfbdcbb6.js";import"./bn.js-1ae23332.js";import"./elliptic-75e883ee.js";import"./minimalistic-assert-4cc49674.js";import"./minimalistic-crypto-utils-6f869a51.js";import"./brorand-03f0f79d.js";import"./hash.js-4f5dfe73.js";import"./hmac-drbg-87799258.js";import"./parse-asn1-465c125b.js";import"./asn1.js-405e93e4.js";import"./safer-buffer-2ac6237e.js";import"./evp_bytestokey-e91543fa.js";import"./browserify-aes-ce20a0e6.js";import"./buffer-xor-87a7236a.js";import"./pbkdf2-e2ae8643.js";import"./browserify-cipher-c4c37ca3.js";import"./browserify-des-3f7e64d9.js";import"./des.js-d262604a.js";import"./diffie-hellman-c8260aab.js";import"./miller-rabin-de27bf02.js";import"./create-ecdh-ffe720e9.js";import"./public-encrypt-fc0568a2.js";import"./randomfill-2874e5f1.js";import"./mathjs-2a513dae.js";import"./@babel-484168fe.js";import"./typed-function-4896e4f1.js";import"./decimal.js-d133ee8e.js";import"./complex.js-cf2520e8.js";import"./fraction.js-39e7906a.js";import"./javascript-natural-sort-c4dd0c27.js";import"./escape-latex-c8a96e7a.js";import"./seedrandom-c8f991ad.js";import"./tiny-emitter-56d49cfd.js";import"./crypto-random-string-d158262e.js";import"./jose-92e5544c.js";import"./vue-i18n-728f748b.js";import"./@intlify-16888cd3.js";import"./vue-loading-overlay-b89251b1.js";import"./jspdf-30014160.js";import"./fflate-8981c52c.js";import"./vue-debounce-3bbbf8c6.js";import"./mitt-f7ef348c.js";/* empty css                   */import"./maska-6f10db43.js";import"./@fortawesome-014b81f2.js";import"./vue3-blocks-tree-e53499e3.js";import"./qrcode-generator-0cbfda4c.js";import"./bech32-123a6149.js";const yt={name:"ViewServicesMainnetSwapCheckETHToSirius",components:{TextInputClean:at,SwapCertificateComponent:ot,SelectInputAccount:it},setup(){let p;const r=s(!0);window.ethereum&&(window.ethereum.isMetaMask||(r.value=!1)),vt(()=>{p&&clearInterval(p)});let b=new lt(ee.chainNetworkName);b.init();const e=s(""),E=s("");(async()=>{try{const a=await T.fetchTokenServiceInfo(b.swap_IN_SERVICE_URL,"xpx");a.status==200?(E.value=a.data.ethInfo.scAddress,e.value=a.data.ethInfo.sinkAddress,S.value=""):S.value="Swapping service is temporary not available. Please try again later"}catch{S.value="Swapping service is temporary not available. Please try again later"}})();const oe="^[0-9A-Za-z]{66}$",l=s(""),P=_(()=>!l.value.match(oe)&&l.value.length>0);let C=b.ETHChainId,Z=b.ETHNetworkName;const V=s(!1),c=s(!1),g=s(null),Pe=s(""),N=s(!1),R=s(!1),j=s(!1),L=s("Retry"),re=s(!1),Ve=s(!1),D=s(!1),ie=s(!1),I=s(!1),Ne=s("xpx"),Re=b.ETHScanUrl,je=T.getIncoming_ETHCheckStatus_URL(b.swap_IN_SERVICE_URL,Ne.value),Le=T.getIncoming_ETHSwapTransfer_URL(b.swap_IN_SERVICE_URL);let w,G;typeof window.ethereum<"u"?(w=new Ae(window.ethereum),G=w.getSigner(),V.value=!0,c.value=!!ethereum.isConnected(),ethereum.request({method:"eth_accounts"}).then(ne).catch(a=>{console.error(a)}),ethereum.request({method:"eth_chainId"}).then(a=>{le(a)}).catch(a=>{console.error(a)}),ethereum.on("accountsChanged",De),ethereum.on("chainChanged",a=>{le(a)})):console.log("MetaMask not installed");function ne(a){a.length===0?g.value="":a[0]!==g.value&&(g.value=a[0]),c.value=!!ethereum.isConnected()}function De(a){window.ethereum.isMetaMask&&(a.length===0?g.value="":a[0]!==g.value&&(g.value=a[0],S.value="")),c.value=!!ethereum.isConnected()}function le(a){Pe.value=a,C===parseInt(a)?Q.value="":Q.value="Please select "+Z+" on MetaMask to swap"}const Ue=()=>{window.ethereum.isMetaMask==null?r.value=!1:(r.value=!0,ethereum.request({method:"eth_requestAccounts"}).then(ne).catch(a=>{a.code===4001?console.log("Please connect to MetaMask."):a.code=="-32002"&&(S.value="Please click on MetaMask extension to approve connection")}))},M=s(!1),ce=s(!1),de=s(!1),me=s(!1),ue=s(!1),fe=s(!1),ve=s(""),U=s(""),F=s(""),B=s(""),W=s(""),Fe=()=>{T.generateIncomingPdfCert("ETH",U.value,q.value,F.value,B.value,W.value)},Be=dt(),We=a=>{let d=document.getElementById(a).getAttribute("copyValue"),v=document.getElementById(a).getAttribute("copySubject");ct(d),Be.add({severity:"info",summary:v+" copied",detail:d,group:"br-custom",life:3e3})},K=s(1),O=s(!0),q=s(""),Q=s(""),S=s(""),Oe=_(()=>!(!Q.value&&!(P.value&&l.value.length>0)&&l.value.length>0)),qe=()=>{K.value=2,setTimeout(()=>de.value=!0,1e3),setTimeout(()=>{(async()=>(await Qe()?setTimeout(()=>{ue.value=!0,setTimeout(async()=>{await Ge(),setTimeout(()=>fe.value=!0,1e3)},3e3)},1e3):re.value=!0,me.value=!0))()},2e3)},X=_(()=>Re+l.value),he=s(!1),Y=s(0),Qe=async()=>{try{let a=await w.getTransactionReceipt(l.value),d=await w.getTransaction(l.value);return a&&a.status===1&&d.to.toLowerCase()==E.value.toLowerCase()?d.confirmations<12?new Promise(function(v){p=setInterval(async()=>{let y=await w.getTransaction(l.value);y.confirmations<12?(I.value=!0,Y.value=y.confirmations):(I.value=!1,clearInterval(p),v(!0))},3e3)}):!0:a&&a.status===0?(ie.value=!0,he.value=!0,!1):!a&&!d?(D.value=!0,!1):d&&d.to.toLowerCase()==E.value.toLowerCase()?new Promise(function(v){p=setInterval(async()=>{let y=await w.getTransaction(l.value);y.confirmations<12?(I.value=!0,Y.value=y.confirmations):(I.value=!1,clearInterval(p),v(!0))},3e3)}):(ie.value=!0,!1)}catch{return D.value=!0,!1}},$=_(()=>te.nativeToken.label),ze=_(()=>he.value?"Fees might be too low. Please do not change recommended fee in MetaMask.":D.value?"ETH transaction hash is not found. Please initiate new swap from ETH to "+$.value:"ETH transaction hash is invalid. Please initiate new swap from ETH to "+$.value),z=s("");let Je=ee.currentNetworkProfile.chainExplorer.url+"/"+ee.currentNetworkProfile.chainExplorer.hashRoute+"/";const Ze=_(()=>Je+z.value),Ge=async()=>{const a={network:"eth",txnHash:l.value};try{let d=JSON.stringify(a);const v=await fetch(je,{method:"POST",headers:{"Content-Type":"application/json"},body:d});if(v.status==200){const y=await v.json();z.value=y.siriusSwapInfo.status.hash,q.value=y.siriusSwapInfo.recipient,B.value=y.remoteTxnHash,U.value=y.timestamp,F.value=y.ctxId,W.value=T.generateQRCode(X.value),M.value=!1,setTimeout(()=>O.value=!1,1e3)}else v.status==404?(M.value=!0,ce.value=!0):M.value=!0}catch{M.value=!0}},pe=s(!1),xe=s(!1),ye=s(!1),be=s(!1),we=s(!1),_e=s(!1),ge=s(!0),H=s(k.currentLoggedInWallet.selectDefaultAccount().address),ke=s(k.currentLoggedInWallet.selectDefaultAccount().name);ht(H,a=>{let d=k.currentLoggedInWallet.accounts.find(v=>v.address==a);d||(d=k.currentLoggedInWallet.others.find(v=>v.address==a)),ke.value=d.name});const Ke=()=>{we.value=!0},Xe=_(()=>{let a=[];return k.currentLoggedInWallet&&k.currentLoggedInWallet.accounts.forEach(d=>{a.push({label:d.name+" - "+d.address,value:d.address})}),a}),Ye=()=>{H.value=""},$e=_(()=>N.value?"Approval on MetaMask is rejected":"Please sign transaction confirmation in MetaMask"),et=()=>{ge.value=!0,_e.value=!0,setTimeout(()=>pe.value=!0,1e3),setTimeout(()=>{xe.value=!0,(async()=>await Ie())()},2e3)},Se=s(0),Te=s(0),Ce=s(""),Ie=async()=>{try{N.value=!1,w=new Ae(window.ethereum,"any"),G=w.getSigner();const a=await G.signMessage(H.value);ve.value=a;const d={recipient:H.value,signature:a,txnInfo:{network:"ETH",txnHash:l.value}};Ce.value=d,await He()}catch{N.value=!0}},J=s(0),Me=s(!1),He=async()=>{ye.value=!0,be.value=!0,L.value="Initiating swap...",j.value=!0;let a=JSON.stringify(Ce.value);try{const d=await fetch(Le,{method:"POST",headers:{"Content-Type":"application/json"},body:a});if(d.status==200||d.status==201){const v=await d.json();R.value=!1,z.value=v.siriusSwapInfo.status.hash,Se.value=se.convertToCurrency(v.siriusSwapInfo.amount,te.nativeToken.divisibility),Te.value=se.amountFormatterSimple(v.siriusSwapInfo.amount,te.nativeToken.divisibility)-50,q.value=v.siriusSwapInfo.recipient,B.value=v.remoteTxnHash,U.value=v.timestamp,F.value=v.ctxId,W.value=T.generateQRCode(X.value),setTimeout(()=>O.value=!1,1e3),J.value=0}else d.status==208?(Me.value=!0,setTimeout(()=>O.value=!1,1e3)):(R.value=!0,++J.value,L.value="Retry",j.value=!1)}catch{R.value=!0,++J.value,L.value="Retry",j.value=!1}},tt=()=>{K.value=3},st=s(!1);return{err:Q,isInstallMetamask:V,connectMetamask:Ue,isMetamaskConnected:c,currentAccount:g,copy:We,currentPage:K,isDisabledValidate:O,siriusAddress:q,checkStatus:qe,validated:tt,isDisabledCheck:Oe,step1:de,step2:me,step3:ue,step4:fe,remoteTxnLink:X,messageHash:ve,transactionHash:B,swapTimestamp:U,swapId:F,swapQr:W,saveCertificate:Fe,isInvalidRemoteTxnHash:re,isPendingRemoteTxnHash:Ve,serviceErr:S,verifyMetaMaskPlugin:r,showTxnHashError:P,remoteTxnHash:l,isInvalidSwapCheck:M,siriusTxnHash:z,siriusTxnLink:Ze,displayInitiateSwapPanel:Ke,isInitiateSwap:we,siriusAddressOption:Xe,disableSiriusAddress:_e,disableConfirmAddressSelection:ge,siriusAddressSelected:H,siriusAddressSelectedName:ke,clearSiriusAddress:Ye,step5:pe,step6:xe,step7:ye,step8:be,isInvalidSignedMeta:N,isInvalidSwapService:R,disableRetrySwap:j,retrySwapButtonText:L,getSigned:Ie,signatureMessage:$e,afterSigned:He,swapServerErrIndex:J,confirmAddress:et,swapStatus208:Me,savedCheck:st,numConfirmation:Y,transactionPending:I,transactionNotFound:D,txtRemoteTransactionErrorMsg:ze,isCheckSwapStatusNotFound:ce,walletState:k,currentNativeTokenName:$,Helper:se,amount:Se,amountReceived:Te}}},bt={class:"lg:w-9/12 ml-2 mr-2 lg:ml-auto lg:mr-auto mt-5"},wt={class:"mt-6 p-6 border filter shadow-lg text-center"},_t=t("div",{class:"text-md"},"Main Network Swap",-1),gt=t("div",{class:"text-xs my-3 mb-5 sm:mb-10"},[t("img",{src:mt,class:"mr-2 h-5 inline-block"}),m("Check swap from ETH to Proximax Sirius Chain")],-1),kt={class:"flex my-10"},St={class:"flex-none"},Tt={class:"flex border border-gray-300 rounded-md filter shadow-md"},Ct=t("div",{class:"px-4 sm:px-10 self-center text-xxs sm:text-xs hidden md:inline-block lg:hidden xl:inline-block"},"Input Information",-1),It=t("div",{class:"flex-grow self-center md:mx-4 h-0.5 bg-gray-100"},null,-1),Mt={class:"flex-none"},Ht={class:"flex border border-gray-300 rounded-md filter shadow-md"},At={class:"px-4 sm:px-10 self-center text-xxs sm:text-xs hidden md:inline-block lg:hidden xl:inline-block"},Et={key:0},Pt=t("div",{class:"text-lg my-7 font-bold"},"Check Swap Status",-1),Vt={key:0,class:"error error_box mb-5"},Nt={key:1,class:"bg-yellow-200 text-yellow-900 text-tsm p-3 mb-5 rounded-2xl"},Rt=t("b",null,"MetaMask",-1),jt={class:"my-2"},Lt={href:"https://bit.ly/3mVayCu",target:"_new",class:"text-blue-primary"},Dt={key:2,class:"error error_box mb-5"},Ut={key:3,class:"error error_box mb-5"},Ft=t("p",{class:"font-bold text-xs text-left mb-1"},"Type",-1),Bt={class:"mb-5 mt-3 text-left"},Wt=t("button",{class:"bg-blue-primary px-3 py-2 w-20 text-white font-bold rounded-l border border-blue-primary cursor-auto"},"In",-1),Ot=t("span",{class:"text-gray-500 ml-3 text-tsm"},"From ETH to Sirius",-1),qt={class:"mb-5 md:flex md:justify-between border border-gray-200 rounded"},Qt={class:"flex justify-left"},zt=t("div",{class:"w-18 flex items-center justify-center py-5 sm:h-20"},[t("img",{src:ut,class:"w-8 h-8 inline-block"})],-1),Jt={class:"text-left flex items-center"},Zt=t("div",{class:"text-xxs uppercase text-blue-primary font-bold mb-1"},"From MetaMask Address",-1),Gt={class:"font-bold text-black text-tsm break-all mr-2"},Kt={key:0,class:"border-l border-gray-200 text-green-500 font-semibold text-xxs w-16 lg:w-20 flex items-center justify-center uppercase"},Xt=t("div",null,[t("img",{src:Ee,class:"inline-block"}),t("div",null,"Connected")],-1),Yt=[Xt],$t={class:"border-l border-gray-200 text-blue-primary text-tsm font-bold w-16 lg:w-20 flex justify-center items-center"},es={key:0},ts={key:1},ss=t("a",{href:"https://metamask.io/",target:"_new"},"Download",-1),as=[ss],os={class:"md:hidden"},rs={key:0,class:"border-t border-gray-200 text-green-500 font-semibold text-xxs uppercase p-2"},is=t("div",{class:"flex items-center justify-center"},[t("img",{src:Ee,class:"inline-block mr-2 w-4 h-4"}),m(" Connected ")],-1),ns=[is],ls={class:"border-t border-gray-200 text-blue-primary text-tsm font-bold p-3"},cs={key:0},ds={key:1},ms=t("a",{href:"https://metamask.io/",target:"_new"},"Download",-1),us=[ms],fs={class:"mt-10 text-center"},vs=["disabled"],hs={key:1},ps={class:"text-lg my-7"},xs={key:0,class:"error error_box mb-5"},ys={class:"flex border-b border-gray-300 p-3"},bs={class:"flex-none"},ws={class:"flex h-full justify-center"},_s={key:0,class:"text-tsm text-gray-500 my-3"},gs={class:"flex border-b border-gray-300 p-3"},ks={class:"flex-none"},Ss={class:"flex h-full justify-center"},Ts={key:0,class:"mt-2"},Cs={key:0,class:"bg-yellow-100 py-2 px-5 mt-1 rounded-xl flex"},Is=["href","copyValue"],Ms={class:"flex-none"},Hs={key:1,class:"mt-2 text-sm text-gray-700"},As={class:"flex border-b border-gray-300 p-3"},Es={class:"flex-none"},Ps={class:"flex h-full justify-center"},Vs={class:"flex border-b border-gray-300 p-3"},Ns={class:"flex-none"},Rs={class:"flex h-full justify-center"},js={key:0,class:"mt-2"},Ls={key:0,class:"bg-yellow-100 py-2 px-5 mt-1 rounded-xl flex"},Ds=["href","copyValue"],Us={class:"flex-none"},Fs=t("div",{class:"text-gray-600 mt-3 text-tsm ml-2"},"Swap is already in progress or has been completed successfully.",-1),Bs={key:1},Ws={class:"sm:flex my-4"},Os=["disabled"],qs=t("div",{class:"py-2 sm:flex-grow text-tsm"},[t("div",{class:"mb-1"},"Initiative swap with this ETH Transaction Hash")],-1),Qs={key:2},zs={class:"sm:flex justify-between"},Js={class:"w-full"},Zs=["disabled"],Gs={key:1},Ks={class:"flex border-b border-gray-300 p-3"},Xs={class:"flex-none"},Ys={class:"flex h-full justify-center"},$s={class:"flex border-b border-gray-300 p-3"},ea={class:"flex-none"},ta={class:"flex h-full justify-center"},sa={key:0,class:"mt-5"},aa={class:"flex border-b border-gray-300 p-3"},oa={class:"flex-none"},ra={class:"flex h-full justify-center"},ia={key:0,class:"bg-yellow-100 py-2 px-5 mt-1 rounded-xl flex"},na=["copyValue"],la={class:"flex-none"},ca={class:"flex border-b border-gray-300 p-3"},da={class:"flex-none"},ma={class:"flex h-full justify-center"},ua={key:0,class:"mt-5"},fa=["disabled"],va={key:1,class:"mt-5 text-tsm sm:text-sm"},ha=t("b",null,"transaction hash",-1),pa=t("b",null,"signature",-1),xa=t("a",{href:"https://t.me/proximaxhelpdesk",target:"_new",class:"text-blue-primary font-bold underline"},"helpdesk",-1),ya={class:"mt-10 text-center"},ba=["disabled"],wa={key:2},_a=t("h1",{class:"default-title font-bold mt-5 mb-2"},"Congratulations!",-1),ga=t("div",{class:"text-tsm mb-7"},"The swap process has already started!",-1),ka={class:"mt-3"},Sa=["href"],Ta=t("div",{class:"md:mx-20 lg:mx-40 font-bold text-center text-tsm py-5 sm:py-10 mt-5 sm:mt-10 border-t border-gray-200"},"Swap Details",-1),Ca={class:"md:mx-20 lg:mx-10 xl:mx-40 border-2 border-gray-200 mt-4 p-5 text-xs font-bold filter shadow-lg"},Ia=t("div",{class:"text-blue-primary mb-1"},"From: MetaMask Account",-1),Ma={class:"break-all"},Ha={class:"mt-1"},Aa=t("div",null,[t("img",{src:rt,class:"inline-block h-8 my-2"})],-1),Ea={class:"text-blue-primary mb-1"},Pa={class:"mt-1"},Va=t("img",{src:ft,class:"w-3 h-3 ml-2 inline relative",style:{top:"-2px"}},null,-1),Na=t("div",{class:"my-5 sm:my-7 text-gray-500 text-xs md:mx-20 lg:mx-10 xl:mx-40"},"Swap process may take a few hours to complete. Please save a copy of your certificate. It is needed in the event of an error.",-1),Ra={class:"inline-flex items-center mb-5"},ja=t("span",{class:"ml-2 cursor-pointer text-xs font-bold"},"I confirm that I have downloaded a copy of my certificate.",-1),La={class:"sm:mt-5 text-center"};function Da(p,r,b,e,E,oe){const l=A("font-awesome-icon"),P=A("TextInputClean"),C=A("router-link"),Z=A("SelectInputAccount"),V=A("swap-certificate-component");return o(),n("div",null,[t("div",bt,[t("div",wt,[_t,gt,t("div",kt,[t("div",St,[t("div",Tt,[t("div",{class:i(["flex w-6 h-6 sm:w-10 sm:h-10",`${e.currentPage>=1?"bg-yellow-500":"bg-gray-300"}`])},[t("div",{class:i(["self-center inline-block text-center w-full text-txs sm:text-sm font-bold",`${e.currentPage>=1?"text-white":"text-gray-400"}`])},"1",2)],2),Ct])]),It,t("div",Mt,[t("div",Ht,[t("div",{class:i(["flex w-6 h-6 sm:w-10 sm:h-10",`${e.currentPage>=2?"bg-yellow-500":"bg-gray-300"}`])},[t("div",{class:i(["self-center inline-block text-center w-full text-txs sm:text-sm font-bold",`${e.currentPage>=2?"text-white":"text-gray-400"}`])},"2",2)],2),t("div",At,f(p.$t("swap.validation")),1)])])]),e.currentPage==1?(o(),n("div",Et,[Pt,e.isInstallMetamask?u("v-if",!0):(o(),n("div",Vt,f(p.$t("swap.noMetamask")),1)),e.verifyMetaMaskPlugin?u("v-if",!0):(o(),n("div",Nt,[m("Please make sure there is no other crypto wallet extension currently being enabled except "),Rt,m("."),t("div",jt,[m("Refer to the "),t("a",Lt,[m("walkthrough"),h(l,{icon:"external-link-alt",class:"text-blue-primary w-3 h-3 self-center inline-block ml-1"})]),m(" for more details.")]),m("Please refresh this page after disabling other wallet extensions.")])),e.serviceErr!=""?(o(),n("div",Dt,f(e.serviceErr),1)):u("v-if",!0),e.err!=""?(o(),n("div",Ut,f(e.err),1)):u("v-if",!0),Ft,t("div",Bt,[Wt,t("button",{class:"border px-3 py-2 w-20 text-blue-primary font-bold rounded-r cursor-pointer hover:border-blue-primary hover:bg-blue-50 transition-all duration-200",onClick:r[0]||(r[0]=c=>p.$router.push({name:"ViewServicesMainnetSwapCheckSiriusToETH"}))},"Out"),m(),Ot]),t("div",qt,[t("div",Qt,[zt,t("div",Jt,[t("div",null,[Zt,t("div",Gt,f(e.isMetamaskConnected&&e.currentAccount?e.currentAccount:"Not connected"),1)])])]),t("div",{class:i(["md:grid hidden",e.currentAccount?"grid-cols-2":"grid-cols-1"])},[e.currentAccount?(o(),n("div",Kt,Yt)):u("v-if",!0),t("div",$t,[e.isInstallMetamask?(o(),n("div",es,[e.currentAccount?(o(),n("div",{key:1,class:"cursor-pointer",onClick:r[2]||(r[2]=c=>e.connectMetamask())},"Change")):(o(),n("div",{key:0,class:"cursor-pointer",onClick:r[1]||(r[1]=c=>e.connectMetamask())},"Connect"))])):(o(),n("div",ts,as))])],2),t("div",os,[e.currentAccount?(o(),n("div",rs,ns)):u("v-if",!0),t("div",ls,[e.isInstallMetamask?(o(),n("div",cs,[e.currentAccount?(o(),n("div",{key:1,class:"cursor-pointer",onClick:r[4]||(r[4]=c=>e.connectMetamask())},"Change")):(o(),n("div",{key:0,class:"cursor-pointer",onClick:r[3]||(r[3]=c=>e.connectMetamask())},"Connect"))])):(o(),n("div",ds,us))])])]),h(P,{placeholder:"ETH Transaction Hash",errorMessage:"Please key in valid transaction hash",modelValue:e.remoteTxnHash,"onUpdate:modelValue":r[5]||(r[5]=c=>e.remoteTxnHash=c),showError:e.showTxnHashError,class:"w-full inline-block mr-2"},null,8,["modelValue","showError"]),t("div",fs,[t("button",{onClick:r[6]||(r[6]=c=>p.$router.push({name:"ViewServicesMainnetSwap"})),class:"text-black font-bold text-xs mr-5 focus:outline-none disabled:opacity-50"},"Cancel"),t("button",{type:"submit",class:"default-btn focus:outline-none disabled:opacity-50",disabled:e.isDisabledCheck,onClick:r[7]||(r[7]=(...c)=>e.checkStatus&&e.checkStatus(...c))},"Check Status",8,vs)])])):u("v-if",!0),e.currentPage==2?(o(),n("div",hs,[t("div",ps,[e.err!=""?(o(),n("div",xs,f(e.err),1)):u("v-if",!0),t("div",{class:i(["font-bold text-left text-xs md:text-sm",e.step1?"text-gray-700":"text-gray-300"])},"Step 1: Check transaction status",2),t("div",ys,[t("div",bs,[t("div",{class:i(["rounded-full border w-6 h-6 transition-all duration-500",e.step1?"border-blue-primary":"border-gray-300"])},[t("div",ws,[h(l,{icon:"check",class:i([e.step1?"text-blue-primary":"text-gray-300","w-3 h-3 self-center inline-block transition-all duration-500"])},null,8,["class"])])],2)]),t("div",{class:i(["flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500",e.step1?"text-gray-700":"text-gray-300"])},[m("Checking ETH transaction status"),e.transactionPending?(o(),n("div",_s,"Pending confirmation: "+f(e.numConfirmation)+" of 12 confirmations",1)):u("v-if",!0)],2)]),t("div",gs,[t("div",ks,[t("div",{class:i(["rounded-full border w-6 h-6 transition-all duration-500",e.isInvalidRemoteTxnHash?"border-red-primary":e.step2?"border-blue-primary":"border-gray-300"])},[t("div",Ss,[e.isInvalidRemoteTxnHash?(o(),x(l,{key:0,icon:"times",class:"text-red-primary w-3 h-3 self-center inline-block transition-all duration-500"})):(o(),x(l,{key:1,icon:"check",class:i([e.step2?"text-blue-primary":"text-gray-300","w-3 h-3 self-center inline-block transition-all duration-500"])},null,8,["class"]))])],2)]),t("div",{class:i(["flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500",e.step2?"text-gray-700":"text-gray-300"])},[m(f(e.isInvalidRemoteTxnHash?e.transactionNotFound?"Transaction is not found":"Transaction has failed.":"ETH Transaction is successful:")+" ",1),!e.isInvalidRemoteTxnHash&&e.step2?(o(),n("div",Ts,[e.remoteTxnHash?(o(),n("div",Cs,[t("a",{href:e.remoteTxnLink,target:"_new",class:i([e.isInvalidRemoteTxnHash?"text-gray-300":"text-blue-primary","flex-grow break-all text-tsm self-center hover:underline"]),id:"validateTransfer",copyValue:e.remoteTxnHash,copySubject:"Transfer hash"},[h(l,{icon:"external-link-alt",class:"text-blue-primary w-3 h-3 self-center inline-block mr-2"}),m(f(e.remoteTxnHash),1)],10,Is),t("div",Ms,[e.step2?(o(),x(l,{key:0,icon:"copy",onClick:r[8]||(r[8]=c=>e.copy("validateTransfer")),class:"w-5 h-5 text-blue-primary cursor-pointer self-center ml-3 absoltue top-2 hover:opacity-90 duration-800 transition-all"})):u("v-if",!0)])])):u("v-if",!0)])):u("v-if",!0),e.isInvalidRemoteTxnHash&&e.step2?(o(),n("div",Hs,[m(f(e.txtRemoteTransactionErrorMsg)+" ",1),h(C,{to:{name:"ViewServicesMainnetSwapEthOptions"},class:"bg-blue-primary text-white py-2 px-5 rounded-2xl w-24 block text-center my-3 font-bold"},{default:ae(()=>[m("Swap")]),_:1})])):u("v-if",!0)],2)]),t("div",{class:i(["font-bold text-left text-xs md:text-sm mt-4",e.step3?"text-gray-700":"text-gray-300"])},"Step 2: Check swap status",2),t("div",As,[t("div",Es,[t("div",{class:i(["rounded-full border w-6 h-6",e.step3?"border-blue-primary":"border-gray-300"])},[t("div",Ps,[h(l,{icon:"check",class:i([e.step3?"text-blue-primary":"text-gray-300","w-3 h-3 self-center inline-block"])},null,8,["class"])])],2)]),t("div",{class:i(["flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500",e.step3?"text-gray-700":"text-gray-300"])},"Requesting from swap service",2)]),t("div",Vs,[t("div",Ns,[t("div",{class:i(["rounded-full border w-6 h-6",e.isInvalidSwapCheck&&e.step4?"border-red-primary":e.step4?"border-blue-primary":"border-gray-300"])},[t("div",Rs,[e.isInvalidSwapCheck&&e.step4?(o(),x(l,{key:0,icon:"times",class:"text-red-primary w-3 h-3 self-center inline-block"})):(o(),x(l,{key:1,icon:"check",class:i([e.step4?"text-blue-primary":"text-gray-300","w-3 h-3 self-center inline-block"])},null,8,["class"]))])],2)]),t("div",{class:i(["flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500",e.step4?"text-gray-700":"text-gray-300"])},[m(f(e.isInvalidSwapCheck&&e.step4?e.isCheckSwapStatusNotFound?"Transaction is not found in swap service:":"Transaction is invalid in the swap service:":"Swap is successful:")+" ",1),!e.isInvalidSwapCheck&&e.step4?(o(),n("div",js,[e.siriusTxnHash?(o(),n("div",Ls,[t("a",{href:e.siriusTxnLink,target:"_new",class:"text-blue-primary flex-grow break-all text-tsm self-center hover:underline",id:"validateTransfer",copyValue:e.remoteTxnHash,copySubject:"Transfer hash"},[h(l,{icon:"external-link-alt",class:"text-blue-primary w-3 h-3 self-center inline-block mr-2"}),m(f(e.siriusTxnHash),1)],8,Ds),t("div",Us,[e.step4?(o(),x(l,{key:0,icon:"copy",onClick:r[9]||(r[9]=c=>e.copy("validateTransfer")),class:"w-5 h-5 text-blue-primary cursor-pointer self-center ml-3 absoltue top-2 hover:opacity-90 duration-800 transition-all"})):u("v-if",!0)])])):u("v-if",!0),Fs])):u("v-if",!0),e.isInvalidSwapCheck&&e.step4?(o(),n("div",Bs,[t("div",Ws,[t("button",{disabled:e.isInitiateSwap,onClick:r[10]||(r[10]=(...c)=>e.displayInitiateSwapPanel&&e.displayInitiateSwapPanel(...c)),class:"sm:flex-none justify-start sm:justify-end bg-blue-primary h-15 w-40 rounded mr-5 focus:outline-none text-tsm font-bold py-2 border border-blue-primary px-8 text-white hover:shadow-lg mt-3 sm:mt-0 disabled:opacity-50 self-center",type:"button"},"Initiate swap",8,Os),qs])])):u("v-if",!0),e.isInitiateSwap?(o(),n("div",Qs,[t("div",zs,[t("div",Js,[h(Z,{modelValue:e.siriusAddressSelected,"onUpdate:modelValue":r[11]||(r[11]=c=>e.siriusAddressSelected=c),placeholder:"To Sirius Chain Account",selectDefault:e.walletState.currentLoggedInWallet.selectDefaultAccount().address},null,8,["modelValue","selectDefault"])]),t("button",{disabled:!e.siriusAddressSelected||!e.disableConfirmAddressSelection,onClick:r[12]||(r[12]=(...c)=>e.confirmAddress&&e.confirmAddress(...c)),class:"sm:flex-none justify-start sm:justify-end bg-blue-primary h-15 w-40 rounded-3xl sm:ml-5 focus:outline-none text-tsm font-bold py-2 border border-blue-primary px-8 text-white hover:shadow-lg mt-3 sm:mt-2 disabled:opacity-50 self-center",type:"button"},"Confirm",8,Zs)])])):u("v-if",!0)],2)]),e.isInitiateSwap?(o(),n("div",Gs,[t("div",{class:i(["font-bold text-left text-xs md:text-sm mt-4",e.step5?"text-gray-700":"text-gray-300"])},"Step 3: Validate your Sirius address",2),t("div",Ks,[t("div",Xs,[t("div",{class:i(["rounded-full border w-6 h-6",e.step5?"border-blue-primary":"border-gray-300"])},[t("div",Ys,[h(l,{icon:"check",class:i([e.step5?"text-blue-primary":"text-gray-300","w-3 h-3 self-center inline-block"])},null,8,["class"])])],2)]),t("div",{class:i(["flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500",e.step5?"text-gray-700":"text-gray-300"])},"Sending message to MetaMask",2)]),t("div",$s,[t("div",ea,[t("div",{class:i(["rounded-full border w-6 h-6",e.isInvalidSignedMeta?"border-red-primary":e.step6?"border-blue-primary":"border-gray-300"])},[t("div",ta,[e.isInvalidSignedMeta?(o(),x(l,{key:0,icon:"times",class:"text-red-primary w-3 h-3 self-center inline-block"})):(o(),x(l,{key:1,icon:"check",class:i([e.step5?"text-blue-primary":"text-gray-300","w-3 h-3 self-center inline-block"])},null,8,["class"]))])],2)]),t("div",{class:i(["flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500",e.step6?"text-gray-700":"text-gray-300"])},[m(f(e.signatureMessage)+" ",1),e.isInvalidSignedMeta?(o(),n("div",sa,[t("button",{type:"button",class:"bg-blue-primary rounded-3xl mr-5 focus:outline-none text-tmd py-2 px-4 text-white hover:shadow-lg w-24",onClick:r[13]||(r[13]=(...c)=>e.getSigned&&e.getSigned(...c))},"Retry")])):u("v-if",!0)],2)]),t("div",aa,[t("div",oa,[t("div",{class:i(["rounded-full border w-6 h-6",e.step7?"border-blue-primary":"border-gray-300"])},[t("div",ra,[h(l,{icon:"check",class:i([e.step7?"text-blue-primary":"text-gray-300","w-3 h-3 self-center inline-block"])},null,8,["class"])])],2)]),t("div",{class:i(["flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500",e.step7?"text-gray-700":"text-gray-300"])},[m("Message signed with signature: "),e.messageHash&&e.step7?(o(),n("div",ia,[t("div",{class:i([e.step7?"text-gray-500":"text-gray-300","text-tsm break-all flex-grow"]),id:"validateMessage",copyValue:e.messageHash,copySubject:"Signature hash"},f(e.messageHash),11,na),t("div",la,[e.step7?(o(),x(l,{key:0,icon:"copy",onClick:r[14]||(r[14]=c=>e.copy("validateMessage")),class:"w-5 h-5 text-blue-primary cursor-pointer self-center ml-3 absoltue top-2 hover:opacity-90 duration-800 transition-all"})):u("v-if",!0)])])):u("v-if",!0)],2)]),t("div",{class:i(["font-bold text-left text-xs md:text-sm mt-4",e.step8?"text-gray-700":"text-gray-300"])},"Step 4: Initiate swap",2),t("div",ca,[t("div",da,[t("div",{class:i(["rounded-full border w-6 h-6",e.isInvalidSwapService?"border-red-primary":e.step8?"border-blue-primary":"border-gray-300"])},[t("div",ma,[e.isInvalidSwapService?(o(),x(l,{key:0,icon:"times",class:"text-red-primary w-3 h-3 self-center inline-block"})):(o(),x(l,{key:1,icon:"check",class:i([e.step8?"text-blue-primary":"text-gray-300","w-3 h-3 self-center inline-block"])},null,8,["class"]))])],2)]),t("div",{class:i(["flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500",e.step8?"text-gray-700":"text-gray-300"])},[m(f(e.isInvalidSwapService?"Unable to send message to swap service":e.swapStatus208?"Swap has already been initiated earlier.":"Message sent to the swap service, swap initiated...")+" ",1),e.isInvalidSwapService&&e.swapServerErrIndex<=3?(o(),n("div",ua,[t("button",{type:"button",class:"bg-blue-primary rounded-3xl mr-5 focus:outline-none text-tmd py-2 px-4 text-white hover:shadow-lg disabled:opacity-50",onClick:r[15]||(r[15]=(...c)=>e.afterSigned&&e.afterSigned(...c)),disabled:e.disableRetrySwap},f(e.retrySwapButtonText),9,fa)])):u("v-if",!0),e.swapServerErrIndex>3?(o(),n("div",va,[m(" Sorry. Please save the "),ha,m(", the "),pa,m(" and contact our "),xa,m(". ")])):u("v-if",!0)],2)])])):u("v-if",!0)]),t("div",ya,[e.isInitiateSwap&&!e.swapStatus208?(o(),n("button",{key:0,type:"submit",class:"default-btn focus:outline-none disabled:opacity-50",disabled:e.isDisabledValidate,onClick:r[16]||(r[16]=c=>e.validated())},f(p.$t("general.continue")),9,ba)):(o(),x(C,{key:1,to:{name:"ViewServicesMainnetSwap"},class:i(["default-btn focus:outline-none w-40 inline-block",e.isDisabledValidate?"opacity-50":""]),is:e.isDisabledValidate?"span":"router-link",tag:"button"},{default:ae(()=>[m("Done")]),_:1},8,["class","is"]))])])):u("v-if",!0),e.currentPage==3?(o(),n("div",wa,[t("div",null,[_a,ga,h(V,{networkTerm:"ETH",swapType:"In",swapId:e.swapId,swapTimestamp:e.swapTimestamp,transactionHash:e.transactionHash,siriusName:e.siriusAddressSelectedName,swappedAmount:e.amount,siriusAddress:e.Helper.createAddress(e.siriusAddressSelected).pretty(),swapQr:e.swapQr,swapLink:e.remoteTxnLink},null,8,["swapId","swapTimestamp","transactionHash","siriusName","swappedAmount","siriusAddress","swapQr","swapLink"]),t("button",{type:"button",class:"w-40 hover:shadow-lg bg-blue-primary text-white text-xs hover:opacity-50 rounded font-bold px-4 py-3 border border-blue-primary outline-none mr-4 mt-6",onClick:r[17]||(r[17]=(...c)=>e.saveCertificate&&e.saveCertificate(...c))},"Download Certificate"),t("div",ka,[t("a",{href:e.remoteTxnLink,target:"_new",class:"underline self-center text-xs font-bold text-blue-primary"},[m("View Transaction"),h(l,{icon:"external-link-alt",class:"ml-2 text-blue-500 w-3 h-3 self-center inline-block"})],8,Sa)]),Ta,t("div",Ca,[Ia,t("div",Ma,f(e.currentAccount),1),t("div",Ha,"Swap Amount "+f(e.amount),1),Aa,t("div",Ea,"To: "+f(e.siriusAddressSelectedName),1),t("div",null,f(e.Helper.createAddress(e.siriusAddress).pretty()),1),t("div",Pa,[m("Equivalent to "+f(e.amountReceived)+" of "+f(e.currentNativeTokenName)+" ",1),Va])]),Na,t("label",Ra,[pt(t("input",{type:"checkbox",class:"h-5 w-5 bg-blue-primary",value:"true","onUpdate:modelValue":r[18]||(r[18]=c=>e.savedCheck=c)},null,512),[[xt,e.savedCheck]]),ja]),t("div",La,[h(C,{to:{name:"ViewServicesMainnetSwap"},class:i(["default-btn mr-5 focus:outline-none w-40 inline-block mt-1",e.savedCheck?"":"opacity-50"]),is:e.savedCheck?"router-link":"span",tag:"button"},{default:ae(()=>[m("Done")]),_:1},8,["class","is"])])])])):u("v-if",!0)])])])}const zr=nt(yt,[["render",Da],["__file","/home/runner/work/web-wallet-vuejs/web-wallet-vuejs/src/modules/services/submodule/mainnetSwap/submodule2/eth/views/ViewServicesMainnetSwapCheckETHToSirius.vue"]]);export{zr as default};
