import"./node-stdlib-browser-23a8bc7f.js";import{c as ne}from"./@js-joda-d98eb16f.js";import{r as $e}from"./events-86ccc6d8.js";import{b as Ae}from"./buffer-6d367910.js";import{r as Xe}from"./util-06f7ff32.js";import{p as j}from"./process-2209b2b3.js";import{r as J}from"./inherits-804453d8.js";import{r as it}from"./util-deprecate-c3aabb3c.js";import{r as Ne}from"./string_decoder-ef7b01fe.js";var ie={exports:{}},be,qe;function ze(){return qe||(qe=1,be=$e().EventEmitter),be}var pe,Ce;function nt(){if(Ce)return pe;Ce=1;function A(b,y){var d=Object.keys(b);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(b);y&&(c=c.filter(function(E){return Object.getOwnPropertyDescriptor(b,E).enumerable})),d.push.apply(d,c)}return d}function w(b){for(var y=1;y<arguments.length;y++){var d=arguments[y]!=null?arguments[y]:{};y%2?A(Object(d),!0).forEach(function(c){S(b,c,d[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(d)):A(Object(d)).forEach(function(c){Object.defineProperty(b,c,Object.getOwnPropertyDescriptor(d,c))})}return b}function S(b,y,d){return y=h(y),y in b?Object.defineProperty(b,y,{value:d,enumerable:!0,configurable:!0,writable:!0}):b[y]=d,b}function C(b,y){if(!(b instanceof y))throw new TypeError("Cannot call a class as a function")}function N(b,y){for(var d=0;d<y.length;d++){var c=y[d];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(b,h(c.key),c)}}function l(b,y,d){return y&&N(b.prototype,y),d&&N(b,d),Object.defineProperty(b,"prototype",{writable:!1}),b}function h(b){var y=a(b,"string");return typeof y=="symbol"?y:String(y)}function a(b,y){if(typeof b!="object"||b===null)return b;var d=b[Symbol.toPrimitive];if(d!==void 0){var c=d.call(b,y||"default");if(typeof c!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(b)}var n=Ae,u=n.Buffer,g=Xe(),p=g.inspect,s=p&&p.custom||"inspect";function M(b,y,d){u.prototype.copy.call(b,y,d)}return pe=function(){function b(){C(this,b),this.head=null,this.tail=null,this.length=0}return l(b,[{key:"push",value:function(d){var c={data:d,next:null};this.length>0?this.tail.next=c:this.head=c,this.tail=c,++this.length}},{key:"unshift",value:function(d){var c={data:d,next:this.head};this.length===0&&(this.tail=c),this.head=c,++this.length}},{key:"shift",value:function(){if(this.length!==0){var d=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,d}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(d){if(this.length===0)return"";for(var c=this.head,E=""+c.data;c=c.next;)E+=d+c.data;return E}},{key:"concat",value:function(d){if(this.length===0)return u.alloc(0);for(var c=u.allocUnsafe(d>>>0),E=this.head,R=0;E;)M(E.data,c,R),R+=E.data.length,E=E.next;return c}},{key:"consume",value:function(d,c){var E;return d<this.head.data.length?(E=this.head.data.slice(0,d),this.head.data=this.head.data.slice(d)):d===this.head.data.length?E=this.shift():E=c?this._getString(d):this._getBuffer(d),E}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(d){var c=this.head,E=1,R=c.data;for(d-=R.length;c=c.next;){var v=c.data,T=d>v.length?v.length:d;if(T===v.length?R+=v:R+=v.slice(0,d),d-=T,d===0){T===v.length?(++E,c.next?this.head=c.next:this.head=this.tail=null):(this.head=c,c.data=v.slice(T));break}++E}return this.length-=E,R}},{key:"_getBuffer",value:function(d){var c=u.allocUnsafe(d),E=this.head,R=1;for(E.data.copy(c),d-=E.data.length;E=E.next;){var v=E.data,T=d>v.length?v.length:d;if(v.copy(c,c.length-d,0,T),d-=T,d===0){T===v.length?(++R,E.next?this.head=E.next:this.head=this.tail=null):(this.head=E,E.data=v.slice(T));break}++R}return this.length-=R,c}},{key:s,value:function(d,c){return p(this,w(w({},c),{},{depth:0,customInspect:!1}))}}]),b}(),pe}var _e,je;function Je(){if(je)return _e;je=1;function A(h,a){var n=this,u=this._readableState&&this._readableState.destroyed,g=this._writableState&&this._writableState.destroyed;return u||g?(a?a(h):h&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,j.nextTick(N,this,h)):j.nextTick(N,this,h)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(h||null,function(p){!a&&p?n._writableState?n._writableState.errorEmitted?j.nextTick(S,n):(n._writableState.errorEmitted=!0,j.nextTick(w,n,p)):j.nextTick(w,n,p):a?(j.nextTick(S,n),a(p)):j.nextTick(S,n)}),this)}function w(h,a){N(h,a),S(h)}function S(h){h._writableState&&!h._writableState.emitClose||h._readableState&&!h._readableState.emitClose||h.emit("close")}function C(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function N(h,a){h.emit("error",a)}function l(h,a){var n=h._readableState,u=h._writableState;n&&n.autoDestroy||u&&u.autoDestroy?h.destroy(a):h.emit("error",a)}return _e={destroy:A,undestroy:C,errorOrDestroy:l},_e}var ge={},Ie;function $(){if(Ie)return ge;Ie=1;function A(a,n){a.prototype=Object.create(n.prototype),a.prototype.constructor=a,a.__proto__=n}var w={};function S(a,n,u){u||(u=Error);function g(s,M,b){return typeof n=="string"?n:n(s,M,b)}var p=function(s){A(M,s);function M(b,y,d){return s.call(this,g(b,y,d))||this}return M}(u);p.prototype.name=u.name,p.prototype.code=a,w[a]=p}function C(a,n){if(Array.isArray(a)){var u=a.length;return a=a.map(function(g){return String(g)}),u>2?"one of ".concat(n," ").concat(a.slice(0,u-1).join(", "),", or ")+a[u-1]:u===2?"one of ".concat(n," ").concat(a[0]," or ").concat(a[1]):"of ".concat(n," ").concat(a[0])}else return"of ".concat(n," ").concat(String(a))}function N(a,n,u){return a.substr(!u||u<0?0:+u,n.length)===n}function l(a,n,u){return(u===void 0||u>a.length)&&(u=a.length),a.substring(u-n.length,u)===n}function h(a,n,u){return typeof u!="number"&&(u=0),u+n.length>a.length?!1:a.indexOf(n,u)!==-1}return S("ERR_INVALID_OPT_VALUE",function(a,n){return'The value "'+n+'" is invalid for option "'+a+'"'},TypeError),S("ERR_INVALID_ARG_TYPE",function(a,n,u){var g;typeof n=="string"&&N(n,"not ")?(g="must not be",n=n.replace(/^not /,"")):g="must be";var p;if(l(a," argument"))p="The ".concat(a," ").concat(g," ").concat(C(n,"type"));else{var s=h(a,".")?"property":"argument";p='The "'.concat(a,'" ').concat(s," ").concat(g," ").concat(C(n,"type"))}return p+=". Received type ".concat(typeof u),p},TypeError),S("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),S("ERR_METHOD_NOT_IMPLEMENTED",function(a){return"The "+a+" method is not implemented"}),S("ERR_STREAM_PREMATURE_CLOSE","Premature close"),S("ERR_STREAM_DESTROYED",function(a){return"Cannot call "+a+" after a stream was destroyed"}),S("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),S("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),S("ERR_STREAM_WRITE_AFTER_END","write after end"),S("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),S("ERR_UNKNOWN_ENCODING",function(a){return"Unknown encoding: "+a},TypeError),S("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),ge.codes=w,ge}var ye,ke;function Qe(){if(ke)return ye;ke=1;var A=$().codes.ERR_INVALID_OPT_VALUE;function w(C,N,l){return C.highWaterMark!=null?C.highWaterMark:N?C[l]:null}function S(C,N,l,h){var a=w(N,h,l);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var n=h?l:"highWaterMark";throw new A(n,a)}return Math.floor(a)}return C.objectMode?16:16*1024}return ye={getHighWaterMark:S},ye}var ve,We;function Ze(){if(We)return ve;We=1,ve=q;function A(i){var r=this;this.next=null,this.entry=null,this.finish=function(){de(r,i)}}var w;q.WritableState=O;var S={deprecate:it()},C=ze(),N=Ae.Buffer,l=(typeof ne<"u"?ne:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function h(i){return N.from(i)}function a(i){return N.isBuffer(i)||i instanceof l}var n=Je(),u=Qe(),g=u.getHighWaterMark,p=$().codes,s=p.ERR_INVALID_ARG_TYPE,M=p.ERR_METHOD_NOT_IMPLEMENTED,b=p.ERR_MULTIPLE_CALLBACK,y=p.ERR_STREAM_CANNOT_PIPE,d=p.ERR_STREAM_DESTROYED,c=p.ERR_STREAM_NULL_VALUES,E=p.ERR_STREAM_WRITE_AFTER_END,R=p.ERR_UNKNOWN_ENCODING,v=n.errorOrDestroy;J()(q,C);function T(){}function O(i,r,o){w=w||K(),i=i||{},typeof o!="boolean"&&(o=r instanceof w),this.objectMode=!!i.objectMode,o&&(this.objectMode=this.objectMode||!!i.writableObjectMode),this.highWaterMark=g(this,i,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var m=i.decodeStrings===!1;this.decodeStrings=!m,this.defaultEncoding=i.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(D){oe(r,D)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=i.emitClose!==!1,this.autoDestroy=!!i.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new A(this)}O.prototype.getBuffer=function(){for(var r=this.bufferedRequest,o=[];r;)o.push(r),r=r.next;return o},function(){try{Object.defineProperty(O.prototype,"buffer",{get:S.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var W;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(W=Function.prototype[Symbol.hasInstance],Object.defineProperty(q,Symbol.hasInstance,{value:function(r){return W.call(this,r)?!0:this!==q?!1:r&&r._writableState instanceof O}})):W=function(r){return r instanceof this};function q(i){w=w||K();var r=this instanceof w;if(!r&&!W.call(q,this))return new q(i);this._writableState=new O(i,this,r),this.writable=!0,i&&(typeof i.write=="function"&&(this._write=i.write),typeof i.writev=="function"&&(this._writev=i.writev),typeof i.destroy=="function"&&(this._destroy=i.destroy),typeof i.final=="function"&&(this._final=i.final)),C.call(this)}q.prototype.pipe=function(){v(this,new y)};function L(i,r){var o=new E;v(i,o),j.nextTick(r,o)}function B(i,r,o,m){var D;return o===null?D=new c:typeof o!="string"&&!r.objectMode&&(D=new s("chunk",["string","Buffer"],o)),D?(v(i,D),j.nextTick(m,D),!1):!0}q.prototype.write=function(i,r,o){var m=this._writableState,D=!1,e=!m.objectMode&&a(i);return e&&!N.isBuffer(i)&&(i=h(i)),typeof r=="function"&&(o=r,r=null),e?r="buffer":r||(r=m.defaultEncoding),typeof o!="function"&&(o=T),m.ending?L(this,o):(e||B(this,m,i,o))&&(m.pendingcb++,D=ae(this,m,e,i,r,o)),D},q.prototype.cork=function(){this._writableState.corked++},q.prototype.uncork=function(){var i=this._writableState;i.corked&&(i.corked--,!i.writing&&!i.corked&&!i.bufferProcessing&&i.bufferedRequest&&H(this,i))},q.prototype.setDefaultEncoding=function(r){if(typeof r=="string"&&(r=r.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((r+"").toLowerCase())>-1))throw new R(r);return this._writableState.defaultEncoding=r,this},Object.defineProperty(q.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function X(i,r,o){return!i.objectMode&&i.decodeStrings!==!1&&typeof r=="string"&&(r=N.from(r,o)),r}Object.defineProperty(q.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function ae(i,r,o,m,D,e){if(!o){var t=X(r,m,D);m!==t&&(o=!0,D="buffer",m=t)}var f=r.objectMode?1:m.length;r.length+=f;var _=r.length<r.highWaterMark;if(_||(r.needDrain=!0),r.writing||r.corked){var k=r.lastBufferedRequest;r.lastBufferedRequest={chunk:m,encoding:D,isBuf:o,callback:e,next:null},k?k.next=r.lastBufferedRequest:r.bufferedRequest=r.lastBufferedRequest,r.bufferedRequestCount+=1}else F(i,r,!1,f,m,D,e);return _}function F(i,r,o,m,D,e,t){r.writelen=m,r.writecb=t,r.writing=!0,r.sync=!0,r.destroyed?r.onwrite(new d("write")):o?i._writev(D,r.onwrite):i._write(D,e,r.onwrite),r.sync=!1}function fe(i,r,o,m,D){--r.pendingcb,o?(j.nextTick(D,m),j.nextTick(x,i,r),i._writableState.errorEmitted=!0,v(i,m)):(D(m),i._writableState.errorEmitted=!0,v(i,m),x(i,r))}function Q(i){i.writing=!1,i.writecb=null,i.length-=i.writelen,i.writelen=0}function oe(i,r){var o=i._writableState,m=o.sync,D=o.writecb;if(typeof D!="function")throw new b;if(Q(o),r)fe(i,o,m,r,D);else{var e=ee(o)||i.destroyed;!e&&!o.corked&&!o.bufferProcessing&&o.bufferedRequest&&H(i,o),m?j.nextTick(U,i,o,e,D):U(i,o,e,D)}}function U(i,r,o,m){o||Z(i,r),r.pendingcb--,m(),x(i,r)}function Z(i,r){r.length===0&&r.needDrain&&(r.needDrain=!1,i.emit("drain"))}function H(i,r){r.bufferProcessing=!0;var o=r.bufferedRequest;if(i._writev&&o&&o.next){var m=r.bufferedRequestCount,D=new Array(m),e=r.corkedRequestsFree;e.entry=o;for(var t=0,f=!0;o;)D[t]=o,o.isBuf||(f=!1),o=o.next,t+=1;D.allBuffers=f,F(i,r,!0,r.length,D,"",e.finish),r.pendingcb++,r.lastBufferedRequest=null,e.next?(r.corkedRequestsFree=e.next,e.next=null):r.corkedRequestsFree=new A(r),r.bufferedRequestCount=0}else{for(;o;){var _=o.chunk,k=o.encoding,P=o.callback,I=r.objectMode?1:_.length;if(F(i,r,!1,I,_,k,P),o=o.next,r.bufferedRequestCount--,r.writing)break}o===null&&(r.lastBufferedRequest=null)}r.bufferedRequest=o,r.bufferProcessing=!1}q.prototype._write=function(i,r,o){o(new M("_write()"))},q.prototype._writev=null,q.prototype.end=function(i,r,o){var m=this._writableState;return typeof i=="function"?(o=i,i=null,r=null):typeof r=="function"&&(o=r,r=null),i!=null&&this.write(i,r),m.corked&&(m.corked=1,this.uncork()),m.ending||ue(this,m,o),this},Object.defineProperty(q.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function ee(i){return i.ending&&i.length===0&&i.bufferedRequest===null&&!i.finished&&!i.writing}function le(i,r){i._final(function(o){r.pendingcb--,o&&v(i,o),r.prefinished=!0,i.emit("prefinish"),x(i,r)})}function te(i,r){!r.prefinished&&!r.finalCalled&&(typeof i._final=="function"&&!r.destroyed?(r.pendingcb++,r.finalCalled=!0,j.nextTick(le,i,r)):(r.prefinished=!0,i.emit("prefinish")))}function x(i,r){var o=ee(r);if(o&&(te(i,r),r.pendingcb===0&&(r.finished=!0,i.emit("finish"),r.autoDestroy))){var m=i._readableState;(!m||m.autoDestroy&&m.endEmitted)&&i.destroy()}return o}function ue(i,r,o){r.ending=!0,x(i,r),o&&(r.finished?j.nextTick(o):i.once("finish",o)),r.ended=!0,i.writable=!1}function de(i,r,o){var m=i.entry;for(i.entry=null;m;){var D=m.callback;r.pendingcb--,D(o),m=m.next}r.corkedRequestsFree.next=i}return Object.defineProperty(q.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(r){this._writableState&&(this._writableState.destroyed=r)}}),q.prototype.destroy=n.destroy,q.prototype._undestroy=n.undestroy,q.prototype._destroy=function(i,r){r(i)},ve}var we,Be;function K(){if(Be)return we;Be=1;var A=Object.keys||function(u){var g=[];for(var p in u)g.push(p);return g};we=h;var w=et(),S=Ze();J()(h,w);for(var C=A(S.prototype),N=0;N<C.length;N++){var l=C[N];h.prototype[l]||(h.prototype[l]=S.prototype[l])}function h(u){if(!(this instanceof h))return new h(u);w.call(this,u),S.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||j.nextTick(n,this)}function n(u){u.end()}return Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(g){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=g,this._writableState.destroyed=g)}}),we}var Re,Ue;function Le(){if(Ue)return Re;Ue=1;var A=$().codes.ERR_STREAM_PREMATURE_CLOSE;function w(l){var h=!1;return function(){if(!h){h=!0;for(var a=arguments.length,n=new Array(a),u=0;u<a;u++)n[u]=arguments[u];l.apply(this,n)}}}function S(){}function C(l){return l.setHeader&&typeof l.abort=="function"}function N(l,h,a){if(typeof h=="function")return N(l,null,h);h||(h={}),a=w(a||S);var n=h.readable||h.readable!==!1&&l.readable,u=h.writable||h.writable!==!1&&l.writable,g=function(){l.writable||s()},p=l._writableState&&l._writableState.finished,s=function(){u=!1,p=!0,n||a.call(l)},M=l._readableState&&l._readableState.endEmitted,b=function(){n=!1,M=!0,u||a.call(l)},y=function(R){a.call(l,R)},d=function(){var R;if(n&&!M)return(!l._readableState||!l._readableState.ended)&&(R=new A),a.call(l,R);if(u&&!p)return(!l._writableState||!l._writableState.ended)&&(R=new A),a.call(l,R)},c=function(){l.req.on("finish",s)};return C(l)?(l.on("complete",s),l.on("abort",d),l.req?c():l.on("request",c)):u&&!l._writableState&&(l.on("end",g),l.on("close",g)),l.on("end",b),l.on("finish",s),h.error!==!1&&l.on("error",y),l.on("close",d),function(){l.removeListener("complete",s),l.removeListener("abort",d),l.removeListener("request",c),l.req&&l.req.removeListener("finish",s),l.removeListener("end",g),l.removeListener("close",g),l.removeListener("finish",s),l.removeListener("end",b),l.removeListener("error",y),l.removeListener("close",d)}}return Re=N,Re}var Ee,xe;function at(){if(xe)return Ee;xe=1;var A;function w(R,v,T){return v=S(v),v in R?Object.defineProperty(R,v,{value:T,enumerable:!0,configurable:!0,writable:!0}):R[v]=T,R}function S(R){var v=C(R,"string");return typeof v=="symbol"?v:String(v)}function C(R,v){if(typeof R!="object"||R===null)return R;var T=R[Symbol.toPrimitive];if(T!==void 0){var O=T.call(R,v||"default");if(typeof O!="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(R)}var N=Le(),l=Symbol("lastResolve"),h=Symbol("lastReject"),a=Symbol("error"),n=Symbol("ended"),u=Symbol("lastPromise"),g=Symbol("handlePromise"),p=Symbol("stream");function s(R,v){return{value:R,done:v}}function M(R){var v=R[l];if(v!==null){var T=R[p].read();T!==null&&(R[u]=null,R[l]=null,R[h]=null,v(s(T,!1)))}}function b(R){j.nextTick(M,R)}function y(R,v){return function(T,O){R.then(function(){if(v[n]){T(s(void 0,!0));return}v[g](T,O)},O)}}var d=Object.getPrototypeOf(function(){}),c=Object.setPrototypeOf((A={get stream(){return this[p]},next:function(){var v=this,T=this[a];if(T!==null)return Promise.reject(T);if(this[n])return Promise.resolve(s(void 0,!0));if(this[p].destroyed)return new Promise(function(L,B){j.nextTick(function(){v[a]?B(v[a]):L(s(void 0,!0))})});var O=this[u],W;if(O)W=new Promise(y(O,this));else{var q=this[p].read();if(q!==null)return Promise.resolve(s(q,!1));W=new Promise(this[g])}return this[u]=W,W}},w(A,Symbol.asyncIterator,function(){return this}),w(A,"return",function(){var v=this;return new Promise(function(T,O){v[p].destroy(null,function(W){if(W){O(W);return}T(s(void 0,!0))})})}),A),d),E=function(v){var T,O=Object.create(c,(T={},w(T,p,{value:v,writable:!0}),w(T,l,{value:null,writable:!0}),w(T,h,{value:null,writable:!0}),w(T,a,{value:null,writable:!0}),w(T,n,{value:v._readableState.endEmitted,writable:!0}),w(T,g,{value:function(q,L){var B=O[p].read();B?(O[u]=null,O[l]=null,O[h]=null,q(s(B,!1))):(O[l]=q,O[h]=L)},writable:!0}),T));return O[u]=null,N(v,function(W){if(W&&W.code!=="ERR_STREAM_PREMATURE_CLOSE"){var q=O[h];q!==null&&(O[u]=null,O[l]=null,O[h]=null,q(W)),O[a]=W;return}var L=O[l];L!==null&&(O[u]=null,O[l]=null,O[h]=null,L(s(void 0,!0))),O[n]=!0}),v.on("readable",b.bind(null,O)),O};return Ee=E,Ee}var Se,Fe;function ft(){return Fe||(Fe=1,Se=function(){throw new Error("Readable.from is not available in the browser")}),Se}var me,He;function et(){if(He)return me;He=1,me=L;var A;L.ReadableState=q,$e().EventEmitter;var w=function(t,f){return t.listeners(f).length},S=ze(),C=Ae.Buffer,N=(typeof ne<"u"?ne:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function l(e){return C.from(e)}function h(e){return C.isBuffer(e)||e instanceof N}var a=Xe(),n;a&&a.debuglog?n=a.debuglog("stream"):n=function(){};var u=nt(),g=Je(),p=Qe(),s=p.getHighWaterMark,M=$().codes,b=M.ERR_INVALID_ARG_TYPE,y=M.ERR_STREAM_PUSH_AFTER_EOF,d=M.ERR_METHOD_NOT_IMPLEMENTED,c=M.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,E,R,v;J()(L,S);var T=g.errorOrDestroy,O=["error","close","destroy","pause","resume"];function W(e,t,f){if(typeof e.prependListener=="function")return e.prependListener(t,f);!e._events||!e._events[t]?e.on(t,f):Array.isArray(e._events[t])?e._events[t].unshift(f):e._events[t]=[f,e._events[t]]}function q(e,t,f){A=A||K(),e=e||{},typeof f!="boolean"&&(f=t instanceof A),this.objectMode=!!e.objectMode,f&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=s(this,e,"readableHighWaterMark",f),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(E||(E=Ne().StringDecoder),this.decoder=new E(e.encoding),this.encoding=e.encoding)}function L(e){if(A=A||K(),!(this instanceof L))return new L(e);var t=this instanceof A;this._readableState=new q(e,this,t),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),S.call(this)}Object.defineProperty(L.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),L.prototype.destroy=g.destroy,L.prototype._undestroy=g.undestroy,L.prototype._destroy=function(e,t){t(e)},L.prototype.push=function(e,t){var f=this._readableState,_;return f.objectMode?_=!0:typeof e=="string"&&(t=t||f.defaultEncoding,t!==f.encoding&&(e=C.from(e,t),t=""),_=!0),B(this,e,t,!1,_)},L.prototype.unshift=function(e){return B(this,e,null,!0,!1)};function B(e,t,f,_,k){n("readableAddChunk",t);var P=e._readableState;if(t===null)P.reading=!1,oe(e,P);else{var I;if(k||(I=ae(P,t)),I)T(e,I);else if(P.objectMode||t&&t.length>0)if(typeof t!="string"&&!P.objectMode&&Object.getPrototypeOf(t)!==C.prototype&&(t=l(t)),_)P.endEmitted?T(e,new c):X(e,P,t,!0);else if(P.ended)T(e,new y);else{if(P.destroyed)return!1;P.reading=!1,P.decoder&&!f?(t=P.decoder.write(t),P.objectMode||t.length!==0?X(e,P,t,!1):H(e,P)):X(e,P,t,!1)}else _||(P.reading=!1,H(e,P))}return!P.ended&&(P.length<P.highWaterMark||P.length===0)}function X(e,t,f,_){t.flowing&&t.length===0&&!t.sync?(t.awaitDrain=0,e.emit("data",f)):(t.length+=t.objectMode?1:f.length,_?t.buffer.unshift(f):t.buffer.push(f),t.needReadable&&U(e)),H(e,t)}function ae(e,t){var f;return!h(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(f=new b("chunk",["string","Buffer","Uint8Array"],t)),f}L.prototype.isPaused=function(){return this._readableState.flowing===!1},L.prototype.setEncoding=function(e){E||(E=Ne().StringDecoder);var t=new E(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var f=this._readableState.buffer.head,_="";f!==null;)_+=t.write(f.data),f=f.next;return this._readableState.buffer.clear(),_!==""&&this._readableState.buffer.push(_),this._readableState.length=_.length,this};var F=1073741824;function fe(e){return e>=F?e=F:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function Q(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=fe(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}L.prototype.read=function(e){n("read",e),e=parseInt(e,10);var t=this._readableState,f=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended))return n("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?o(this):U(this),null;if(e=Q(e,t),e===0&&t.ended)return t.length===0&&o(this),null;var _=t.needReadable;n("need readable",_),(t.length===0||t.length-e<t.highWaterMark)&&(_=!0,n("length less than watermark",_)),t.ended||t.reading?(_=!1,n("reading or ended",_)):_&&(n("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=Q(f,t)));var k;return e>0?k=r(e,t):k=null,k===null?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),t.length===0&&(t.ended||(t.needReadable=!0),f!==e&&t.ended&&o(this)),k!==null&&this.emit("data",k),k};function oe(e,t){if(n("onEofChunk"),!t.ended){if(t.decoder){var f=t.decoder.end();f&&f.length&&(t.buffer.push(f),t.length+=t.objectMode?1:f.length)}t.ended=!0,t.sync?U(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,Z(e)))}}function U(e){var t=e._readableState;n("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(n("emitReadable",t.flowing),t.emittedReadable=!0,j.nextTick(Z,e))}function Z(e){var t=e._readableState;n("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,i(e)}function H(e,t){t.readingMore||(t.readingMore=!0,j.nextTick(ee,e,t))}function ee(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0);){var f=t.length;if(n("maybeReadMore read 0"),e.read(0),f===t.length)break}t.readingMore=!1}L.prototype._read=function(e){T(this,new d("_read()"))},L.prototype.pipe=function(e,t){var f=this,_=this._readableState;switch(_.pipesCount){case 0:_.pipes=e;break;case 1:_.pipes=[_.pipes,e];break;default:_.pipes.push(e);break}_.pipesCount+=1,n("pipe count=%d opts=%j",_.pipesCount,t);var k=(!t||t.end!==!1)&&e!==j.stdout&&e!==j.stderr,P=k?G:z;_.endEmitted?j.nextTick(P):f.once("end",P),e.on("unpipe",I);function I(V,Y){n("onunpipe"),V===f&&Y&&Y.hasUnpiped===!1&&(Y.hasUnpiped=!0,rt())}function G(){n("onend"),e.end()}var re=le(f);e.on("drain",re);var Pe=!1;function rt(){n("cleanup"),e.removeListener("close",he),e.removeListener("finish",ce),e.removeListener("drain",re),e.removeListener("error",se),e.removeListener("unpipe",I),f.removeListener("end",G),f.removeListener("end",z),f.removeListener("data",De),Pe=!0,_.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&re()}f.on("data",De);function De(V){n("ondata");var Y=e.write(V);n("dest.write",Y),Y===!1&&((_.pipesCount===1&&_.pipes===e||_.pipesCount>1&&D(_.pipes,e)!==-1)&&!Pe&&(n("false write response, pause",_.awaitDrain),_.awaitDrain++),f.pause())}function se(V){n("onerror",V),z(),e.removeListener("error",se),w(e,"error")===0&&T(e,V)}W(e,"error",se);function he(){e.removeListener("finish",ce),z()}e.once("close",he);function ce(){n("onfinish"),e.removeListener("close",he),z()}e.once("finish",ce);function z(){n("unpipe"),f.unpipe(e)}return e.emit("pipe",f),_.flowing||(n("pipe resume"),f.resume()),e};function le(e){return function(){var f=e._readableState;n("pipeOnDrain",f.awaitDrain),f.awaitDrain&&f.awaitDrain--,f.awaitDrain===0&&w(e,"data")&&(f.flowing=!0,i(e))}}L.prototype.unpipe=function(e){var t=this._readableState,f={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,f),this);if(!e){var _=t.pipes,k=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var P=0;P<k;P++)_[P].emit("unpipe",this,{hasUnpiped:!1});return this}var I=D(t.pipes,e);return I===-1?this:(t.pipes.splice(I,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,f),this)},L.prototype.on=function(e,t){var f=S.prototype.on.call(this,e,t),_=this._readableState;return e==="data"?(_.readableListening=this.listenerCount("readable")>0,_.flowing!==!1&&this.resume()):e==="readable"&&!_.endEmitted&&!_.readableListening&&(_.readableListening=_.needReadable=!0,_.flowing=!1,_.emittedReadable=!1,n("on readable",_.length,_.reading),_.length?U(this):_.reading||j.nextTick(x,this)),f},L.prototype.addListener=L.prototype.on,L.prototype.removeListener=function(e,t){var f=S.prototype.removeListener.call(this,e,t);return e==="readable"&&j.nextTick(te,this),f},L.prototype.removeAllListeners=function(e){var t=S.prototype.removeAllListeners.apply(this,arguments);return(e==="readable"||e===void 0)&&j.nextTick(te,this),t};function te(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function x(e){n("readable nexttick read 0"),e.read(0)}L.prototype.resume=function(){var e=this._readableState;return e.flowing||(n("resume"),e.flowing=!e.readableListening,ue(this,e)),e.paused=!1,this};function ue(e,t){t.resumeScheduled||(t.resumeScheduled=!0,j.nextTick(de,e,t))}function de(e,t){n("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),i(e),t.flowing&&!t.reading&&e.read(0)}L.prototype.pause=function(){return n("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(n("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function i(e){var t=e._readableState;for(n("flow",t.flowing);t.flowing&&e.read()!==null;);}L.prototype.wrap=function(e){var t=this,f=this._readableState,_=!1;e.on("end",function(){if(n("wrapped end"),f.decoder&&!f.ended){var I=f.decoder.end();I&&I.length&&t.push(I)}t.push(null)}),e.on("data",function(I){if(n("wrapped data"),f.decoder&&(I=f.decoder.write(I)),!(f.objectMode&&I==null)&&!(!f.objectMode&&(!I||!I.length))){var G=t.push(I);G||(_=!0,e.pause())}});for(var k in e)this[k]===void 0&&typeof e[k]=="function"&&(this[k]=function(G){return function(){return e[G].apply(e,arguments)}}(k));for(var P=0;P<O.length;P++)e.on(O[P],this.emit.bind(this,O[P]));return this._read=function(I){n("wrapped _read",I),_&&(_=!1,e.resume())},this},typeof Symbol=="function"&&(L.prototype[Symbol.asyncIterator]=function(){return R===void 0&&(R=at()),R(this)}),Object.defineProperty(L.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(L.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(L.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),L._fromList=r,Object.defineProperty(L.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function r(e,t){if(t.length===0)return null;var f;return t.objectMode?f=t.buffer.shift():!e||e>=t.length?(t.decoder?f=t.buffer.join(""):t.buffer.length===1?f=t.buffer.first():f=t.buffer.concat(t.length),t.buffer.clear()):f=t.buffer.consume(e,t.decoder),f}function o(e){var t=e._readableState;n("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,j.nextTick(m,t,e))}function m(e,t){if(n("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var f=t._writableState;(!f||f.autoDestroy&&f.finished)&&t.destroy()}}typeof Symbol=="function"&&(L.from=function(e,t){return v===void 0&&(v=ft()),v(L,e,t)});function D(e,t){for(var f=0,_=e.length;f<_;f++)if(e[f]===t)return f;return-1}return me}var Te,Ge;function tt(){if(Ge)return Te;Ge=1,Te=a;var A=$().codes,w=A.ERR_METHOD_NOT_IMPLEMENTED,S=A.ERR_MULTIPLE_CALLBACK,C=A.ERR_TRANSFORM_ALREADY_TRANSFORMING,N=A.ERR_TRANSFORM_WITH_LENGTH_0,l=K();J()(a,l);function h(g,p){var s=this._transformState;s.transforming=!1;var M=s.writecb;if(M===null)return this.emit("error",new S);s.writechunk=null,s.writecb=null,p!=null&&this.push(p),M(g);var b=this._readableState;b.reading=!1,(b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}function a(g){if(!(this instanceof a))return new a(g);l.call(this,g),this._transformState={afterTransform:h.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,g&&(typeof g.transform=="function"&&(this._transform=g.transform),typeof g.flush=="function"&&(this._flush=g.flush)),this.on("prefinish",n)}function n(){var g=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(p,s){u(g,p,s)}):u(this,null,null)}a.prototype.push=function(g,p){return this._transformState.needTransform=!1,l.prototype.push.call(this,g,p)},a.prototype._transform=function(g,p,s){s(new w("_transform()"))},a.prototype._write=function(g,p,s){var M=this._transformState;if(M.writecb=s,M.writechunk=g,M.writeencoding=p,!M.transforming){var b=this._readableState;(M.needTransform||b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}},a.prototype._read=function(g){var p=this._transformState;p.writechunk!==null&&!p.transforming?(p.transforming=!0,this._transform(p.writechunk,p.writeencoding,p.afterTransform)):p.needTransform=!0},a.prototype._destroy=function(g,p){l.prototype._destroy.call(this,g,function(s){p(s)})};function u(g,p,s){if(p)return g.emit("error",p);if(s!=null&&g.push(s),g._writableState.length)throw new N;if(g._transformState.transforming)throw new C;return g.push(null)}return Te}var Me,Ve;function ot(){if(Ve)return Me;Ve=1,Me=w;var A=tt();J()(w,A);function w(S){if(!(this instanceof w))return new w(S);A.call(this,S)}return w.prototype._transform=function(S,C,N){N(null,S)},Me}var Oe,Ye;function lt(){if(Ye)return Oe;Ye=1;var A;function w(s){var M=!1;return function(){M||(M=!0,s.apply(void 0,arguments))}}var S=$().codes,C=S.ERR_MISSING_ARGS,N=S.ERR_STREAM_DESTROYED;function l(s){if(s)throw s}function h(s){return s.setHeader&&typeof s.abort=="function"}function a(s,M,b,y){y=w(y);var d=!1;s.on("close",function(){d=!0}),A===void 0&&(A=Le()),A(s,{readable:M,writable:b},function(E){if(E)return y(E);d=!0,y()});var c=!1;return function(E){if(!d&&!c){if(c=!0,h(s))return s.abort();if(typeof s.destroy=="function")return s.destroy();y(E||new N("pipe"))}}}function n(s){s()}function u(s,M){return s.pipe(M)}function g(s){return!s.length||typeof s[s.length-1]!="function"?l:s.pop()}function p(){for(var s=arguments.length,M=new Array(s),b=0;b<s;b++)M[b]=arguments[b];var y=g(M);if(Array.isArray(M[0])&&(M=M[0]),M.length<2)throw new C("streams");var d,c=M.map(function(E,R){var v=R<M.length-1,T=R>0;return a(E,v,T,function(O){d||(d=O),O&&c.forEach(n),!v&&(c.forEach(n),y(d))})});return M.reduce(u)}return Oe=p,Oe}var Ke;function yt(){return Ke||(Ke=1,function(A,w){w=A.exports=et(),w.Stream=w,w.Readable=w,w.Writable=Ze(),w.Duplex=K(),w.Transform=tt(),w.PassThrough=ot(),w.finished=Le(),w.pipeline=lt()}(ie,ie.exports)),ie.exports}export{et as a,Ze as b,K as c,tt as d,ot as e,Le as f,lt as g,yt as r};
