import{r as h}from"./events-86ccc6d8.js";import{r as _}from"./inherits-804453d8.js";import{a as q,b as w,c as L,d as b,e as y,f as E,g as S}from"./readable-stream-2241ee9e.js";var u,v;function x(){if(v)return u;v=1,u=i;var t=h().EventEmitter,d=_();d(i,t),i.Readable=q(),i.Writable=w(),i.Duplex=L(),i.Transform=b(),i.PassThrough=y(),i.finished=E(),i.pipeline=S(),i.Stream=i;function i(){t.call(this)}return i.prototype.pipe=function(e,f){var r=this;function m(s){e.writable&&e.write(s)===!1&&r.pause&&r.pause()}r.on("data",m);function l(){r.readable&&r.resume&&r.resume()}e.on("drain",l),!e._isStdio&&(!f||f.end!==!1)&&(r.on("end",c),r.on("close",p));var o=!1;function c(){o||(o=!0,e.end())}function p(){o||(o=!0,typeof e.destroy=="function"&&e.destroy())}function a(s){if(n(),t.listenerCount(this,"error")===0)throw s}r.on("error",a),e.on("error",a);function n(){r.removeListener("data",m),e.removeListener("drain",l),r.removeListener("end",c),r.removeListener("close",p),r.removeListener("error",a),e.removeListener("error",a),r.removeListener("end",n),r.removeListener("close",n),e.removeListener("close",n)}return r.on("end",n),r.on("close",n),e.on("close",n),e.emit("pipe",r),e},u}var P=x();export{x as r,P as s};
