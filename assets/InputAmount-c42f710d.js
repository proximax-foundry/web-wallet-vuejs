import{d as I,g as r,c as f,D,o as b,f as V,e as s,t as A,h as B,_ as F}from"./index-bab83e60.js";const L={class:"border border-gray-200 px-2 py-1 rounded-md"},N={class:"flex flex-col"},S={class:"uppercase font-light text-gray-500 text-txs text-left mb-2"},k={class:"flex w-full"},q=["value","placeholder","maxlength"],c=16,C=I({__name:"InputAmount",props:{modelValue:{type:String,required:!0},decimal:{type:Number,required:!0},placeholder:{type:String,required:!0},disabled:{type:Boolean,required:!1}},emits:["update:modelValue","show-error"],setup(o,{emit:v}){const g=o,p=v,a=r(g.modelValue),n=r(0),u=r(!1),i=r(!1),h=(e,l)=>{const t=e.key;return t>="0"&&t<="9"||t==="."||t==="Backspace"||t==="Delete"||t==="ArrowLeft"||t==="ArrowRight"?(t==="."&&l.includes(".")&&e.preventDefault(),!0):(e.preventDefault(),!1)},_=e=>e.split(",").length-1,x=e=>{e.includes(".")?(e.includes(".0")&&(i.value=!0),u.value=!0):(u.value=!1,i.value=!1),isNaN(parseFloat(e))?a.value="0":a.value=e,p("update:modelValue",a.value)},d=f(()=>{let e=Intl.NumberFormat("en-US",{maximumFractionDigits:n.value}).format(parseFloat(a.value));return u.value&&!e.includes(".")&&(e=e+"."),i.value&&a.value!==e&&(e=e+"0"),e}),y=f(()=>{let e=0;return d.value.includes(",")&&(e=e+_(d.value)),u.value&&(e=e+1),c+e});return D(a,(e,l)=>{if(e.includes(".")){const[t,m]=e.split(".");n.value=c-t.length,m&&m.length>n.value&&(a.value=l)}else e.length>c&&(a.value=l);p("update:modelValue",parseFloat(a.value).toString())}),(e,l)=>(b(),V("div",{class:B(o.disabled?"opacity-50":"")},[s("div",L,[s("div",N,[s("div",S,A(o.placeholder),1),s("div",k,[s("input",{value:d.value,class:"supply_input",placeholder:o.placeholder,maxlength:y.value,onInput:l[0]||(l[0]=t=>x(t.target.value.replace(/,/g,""))),onKeypress:l[1]||(l[1]=t=>h(t,t.target.value))},null,40,q)])])])],2))}});const K=F(C,[["__scopeId","data-v-6a1e18d7"]]);export{K as I};
