import{_ as kt,u as St,c as p,B as u,A as At,l as Tt,r as n,a as X,w as S,H as o,b6 as It,n as ye,i as V,o as v,b as f,e as t,t as a,x as L,j as G,O as st,aa as Pt,F as Ct,g as Nt,f as x,m as U,U as Mt,v as Gt,z as Be,W as Ft,I as Dt,J as Lt}from"./index-8a270fd9.js";import{_ as Ut,S as Bt,M as Et,a as Xt}from"./SelectInputAccountOutgoingSwap-844145ce.js";import{S as Vt,_ as Ht}from"./icon-dots-f139526c.js";import{a as Ot}from"./functions-530edc40.js";import{S as w}from"./swapUtils-1bf8c32f.js";import{_ as jt}from"./bsc-e621c678.js";import{_ as nt}from"./metx-logo-27f23eae.js";import{_ as Rt}from"./proximax-logo-ecfc3767.js";import{_ as Wt}from"./icon-xpx-072deeab.js";import{g as lt}from"./index-c1fcc7bb.js";import"./icon-info-8b4f1351.js";import"./jdenticon-module-e8bbf2b2.js";import"./delete-8b454e7f.js";import"./jspdf.es.min-a3e718f2.js";import"./qrcode-d6e31790.js";const Kt="/web-wallet-vuejs/assets/icon-prx-xpx-blue-05a9ca17.svg";const Jt={name:"ViewServicesMainnetSwapMetxToBSC",components:{PasswordInputClean:Ut,SwapInputClean:Bt,MetamaskAddressInput:Et,SwapCertificateComponent:Vt,SelectInputAccountOutgoingSwap:Xt},setup(){const{t:s}=St(),i=p(()=>u.nativeToken.label),_e=At(),e=Tt(),Ee=n(!0),R=n(180),ke=p(()=>R.value%60),Se=p(()=>Math.floor(R.value/60)),Ae=setInterval(()=>{--R.value},1e3),b=n(""),W=n(""),te=X(()=>R.value,l=>{l<=0&&(ae(),c())}),ae=()=>{te(),Ee.value=!1,clearInterval(Ae)},c=()=>{e.push({name:"ViewServicesMainnetSwap"})},B=n(1),Xe=n(!1),se=n(""),K=n(""),le=n(""),A=n(0),Ve=p(()=>{if(!S.currentLoggedInWallet)return[];let l=S.currentLoggedInWallet.accounts.map(r=>({name:r.name,balance:r.balance,balanceDisplay:o.toCurrencyFormat(r.balance,u.nativeToken.divisibility),type:"",address:o.createAddress(r.address).pretty(),publicKey:r.publicKey,isMultisig:!!r.getDirectParentMultisig().length}));if(Xe.value){let r=S.currentLoggedInWallet.others.filter(d=>d.type==="MULTISIG").map(d=>({name:d.name,balance:d.balance,balanceDisplay:o.toCurrencyFormat(d.balance,u.nativeToken.divisibility),type:"MULTISIG",address:o.createAddress(d.address).pretty(),publicKey:d.publicKey,isMultisig:!0}));return l.concat(r)}else return l}),C=p(()=>Ve.value.find(l=>l.name===se.value)),E=n("");X(E,l=>{if(l){let r=S.currentLoggedInWallet.accounts.find(d=>d.address==l);if(r||(r=S.currentLoggedInWallet.others.find(d=>d.address==l)),se.value=r.name,K.value=r.address,b.value.name.toUpperCase()!="XPX"){let d=r.assets.findIndex(m=>m.idHex==b.value.assetId);A.value=d>-1?r.assets[d].amount:0,k.value=o.convertNumberMinimumFormat(A.value,M.value)}else A.value=r.balance,k.value=o.convertNumberMinimumFormat(r.balance-T.value-_.value,M.value);le.value=r.publicKey}else se.value="",K.value="",A.value="",le.value=""}),X(b,async l=>{let r=await u.chainAPI.assetAPI.getMosaic(new Be.MosaicId(l.assetId));if(M.value=r.divisibility,E.value!=""){let d=S.currentLoggedInWallet.accounts.find(m=>m.address==E.value);if(d||(d=S.currentLoggedInWallet.others.find(m=>m.address==E.value)),l.name.toUpperCase()!="XPX"){let m=d.assets.findIndex(I=>I.idHex==l.assetId);A.value=m>-1?d.assets[m].amount:0,k.value=o.convertNumberMinimumFormat(A.value,M.value)}else A.value=d.balance,k.value=o.convertNumberMinimumFormat(d.balance-T.value-_.value,M.value)}g.value>k.value&&pe()});const Te=1e9,Ie=1.2,H=n(!1),P=n(!1),N=n(!1),rt=n(!1),ne=n(""),He="^[^ ]{8,}$",y=n(!1),J=n(!1),Pe=n(""),Q=n(""),ot=p(()=>!(g.value>0&&ne.value.match(He)&&Q.value!=""&&!N.value&&y.value==!1)),g=n(0),Oe=u.nativeToken.fullNamespace,it=o.createAsset(o.createNamespaceId(Oe).toHex(),1),dt=o.createAsset(o.createNamespaceId("prx.metx").toHex(),1),je=u.buildTxn,re=je.transferBuilder(),Re=je.aggregateCompleteBuilder();let Ce={type:"Swap-xpx-bsc",remoteAddress:"0".repeat(42)};const ct=()=>{Ce.remoteAddress=Q.value,We()};let oe={type:"Swap-xpx-bsc-fees",gasPrice:5,gasLimit:57500},O=new It(ye.chainNetworkName);O.init();let z=O.swap_XPX_BSC_URL,Ne=O.BSCScanUrl,ut=ye.currentNetworkProfile.chainExplorer.url+"/"+ye.currentNetworkProfile.chainExplorer.hashRoute+"/",Me,Ge,q=n([]);const M=n(0),mt=async()=>{let l=await w.getSwapTokenList(z);l&&(q.value=l,b.value=q.value[0],W.value=q.value[0].name,u.chainAPI.assetAPI.getMosaic(new Be.MosaicId(b.value.assetId)).then(r=>{M.value=r.properties.divisibility}))};(async()=>{try{const l=w.getServiceInfoURL(z),r=await w.getOutgoingSwapServiceInfo(l);Me=r.siriusInfo.sinkingFundAddress,Ge=r.siriusInfo.sinkingFeeAddress,vt()}catch{D(s("swap.serviceUnavailable"),s("swap.failGetSink")),c()}})(),mt();let Y,ie,de;const vt=()=>{ie=re.mosaics([dt]).recipient(o.createAddress(Me)).message(o.createPlainMessage(JSON.stringify(Ce))).build(),de=re.mosaics([it]).recipient(o.createAddress(Ge)).message(o.createPlainMessage(JSON.stringify(oe))).build(),Y=Re.innerTransactions(o.createInnerTransaction([ie,de],"0".repeat(64))).build(),T.value=o.convertToExact(Y.maxFee.compact(),u.nativeToken.divisibility),F.value=T.value};let T=n(0);const ft=p(()=>o.toCurrencyFormat(T.value,u.nativeToken.divisibility)),We=()=>{let l;g.value<0?l=0:l=g.value;const r=o.createAsset(o.createNamespaceId(b.value.namespace).toHex(),o.convertToAbsolute(l,M.value)),d=o.createAsset(o.createNamespaceId(Oe).toHex(),o.convertToAbsolute(_.value,u.nativeToken.divisibility));ie=re.mosaics([r]).recipient(o.createAddress(Me)).message(o.createPlainMessage(JSON.stringify(Ce))).build(),de=re.mosaics([d]).recipient(o.createAddress(Ge)).message(o.createPlainMessage(JSON.stringify(oe))).build(),Y=Re.innerTransactions(o.createInnerTransaction([ie,de],le.value)).build(),T.value=o.convertToExact(Y.maxFee.compact(),u.nativeToken.divisibility)},Ke=p(()=>ce.value*me.value/Te),Je=p(()=>Z.value*Fe.value/Te),Qe=p(()=>ue.value*De.value/Te),ze=p(()=>o.convertNumberMinimumFormat(Ke.value*fe.value,2)),qe=p(()=>o.convertNumberMinimumFormat(Je.value*fe.value,2)),Ye=p(()=>o.convertNumberMinimumFormat(Qe.value*fe.value,2)),Ze=p(()=>o.convertNumberMinimumFormat(ze.value/ve.value*Ie,u.nativeToken.divisibility)),$e=p(()=>o.convertNumberMinimumFormat(qe.value/ve.value*Ie,u.nativeToken.divisibility)),et=p(()=>o.convertNumberMinimumFormat(Ye.value/ve.value*Ie,u.nativeToken.divisibility)),ce=n(0),Z=n(0),ue=n(0),me=n(55e3),Fe=n(55e3),De=n(55e3);(async()=>{if(u.networkType===Be.NetworkType.TEST_NET)ce.value=10,Z.value=10,ue.value=10;else{let l=await w.getBSC_SafeGwei(O.gasPriceConsultURL);if(l.status===0)console.log("Error, no data found. Please try again later");else{let r=l.result;ce.value=r.ProposeGasPrice,Z.value=r.FastGasPrice,ue.value=Math.ceil(Z.value*1.1)}}})(),(async()=>{let l=await w.getBSC_GasLimit(O.gasPriceConsultURL);l.status===0?console.log("Error, no gas limit data found. Please try again later"):(me.value=l.standardGasLimit,Fe.value=l.fastGasLimit,De.value=l.rapidGasLimit)})();const ve=n(0),fe=n(0),pt=n(0);(async()=>{let l=await Ot(w.checkSwapPrice(O.priceConsultURL));ve.value=l.xpx,pt.value=l.metx,fe.value=l.bnb})();const pe=()=>{g.value=k.value};X(W,l=>{b.value=q.value.find(r=>r.name===l)});const bt=n(!1),Le=n("");let $=n(0),ee=n(0),_=n(0);const k=n(0),F=n(0),xt=p(()=>C.value?C.value.balance<F.value:!1),tt=l=>{Le.value=l,l==="rapid"?($.value=De.value,ee.value=ue.value,_.value=et.value):l==="fast"?($.value=Fe.value,ee.value=Z.value,_.value=$e.value):($.value=me.value,ee.value=ce.value,_.value=Ze.value),oe.gasPrice=ee.value,oe.gasLimit=$.value,F.value=o.convertNumberMinimumFormat(T.value+_.value,u.nativeToken.divisibility),gt(),We()},gt=async()=>{b.value.name.toUpperCase()!=="XPX"?C.value.balance<_.value+T.value?y.value=!0:y.value=!1:(C.value.balance<F.value&&(g.value=0),C.value.balance<F.value?J.value=!0:(J.value=!1,y.value=!1))};X(_,l=>{let r=S.currentLoggedInWallet.accounts.find(d=>d.address==E.value);r||(r=S.currentLoggedInWallet.others.find(d=>d.address==E.value)),b.value.name!="xpx"?(k.value=o.convertNumberMinimumFormat(A.value,M.value),g.value>k.value&&pe()):(k.value=o.convertNumberMinimumFormat(r.balance-T.value-l,u.nativeToken.divisibility),g.value>k.value&&pe())}),X(me,()=>{B.value==2&&(C.value.balance<=F.value?(J.value=!0,y.value=!0):(J.value=!1,y.value=!1))}),X([A,g],()=>{b.value.name.toUpperCase()!=="XPX"?g.value>k.value?y.value=!0:y.value=!1:A.value<g.value+F.value?y.value=!0:y.value=!1});const j=n(""),wt=()=>{N.value=!0,P.value=!0;try{lt(Q.value)&&(H.value=!1)}catch{H.value=!0,N.value=!1,P.value=!1}if(!H.value)if(Ft.verifyWalletPassword(S.currentLoggedInWallet.name,ye.chainNetworkName,ne.value)){if(Pe.value="",ct(),tt(Le.value),b.value.name=="xpx"){if(g.value+_.value+T.value>C.value.balance){D(s("swap.insufficientAmount"),s("swap.swapInsufficientAmount"),5e3);return}}else if(_.value+T.value>C.value.balance){D(s("swap.insufficientAmount"),s("swap.swapInsufficientAmount"),5e3);return}ae();let l=w.signTransaction(K.value,ne.value,Y);j.value=l.hash,ht().then(r=>{g.value<=r?yt(l.payload):D("Swap Server Error","Insufficient Balance from Funding Account",5e3)})}else Pe.value=s("general.walletPasswordInvalid",{name:S.currentLoggedInWallet.name}),N.value=!1,P.value=!1},ht=async()=>{const l=await w.checkTokenBalance(z,b.value.name);return l.status?l.tokenBalance:0},yt=async l=>{let d=JSON.stringify({txnInfo:{network:"bsc",siriusTxnPayload:l}});try{const m=await fetch(w.getOutgoing_SwapTransfer_URL(z,b.value.name),{method:"POST",headers:{"Content-Type":"application/json"},body:d});if(m.ok){u.txnSwapLog.find(he=>he.txnHash===j.value)||u.txnSwapLog.push({txnHash:j.value,accPubKey:le.value,status:"",statusMsg:"",relatedAddress:[],checkedNum:0});const I=await m.json();ge.value=I.data.txHash,at.value=Ne+I.data.txHash,be.value="",xe.value=I.data.swapId,we.value=w.generateQRCode(Ne+I.data.txHash),B.value=3}else if(m.status==400){const I=await m.json();D(s("swap.swapOperationFail"),I.data.message),N.value=!1,P.value=!1}else if(m.status==409)Ue.value=!0,P.value=!1;else if(m.status==503){const I=await m.json();let he=I.data.message?I.data.message:"";_e.add({severity:"warn",summary:s("swap.serviceUnavailable"),detail:he||s("swap.tryAgain"),group:"br-custom"}),N.value=!1,P.value=!1}else m.status==504&&(D(s("swap.timedOut"),s("swap.checkStatusAgain")),P.value=!1,Ue.value=!0)}catch{D(s("swap.networkErr"),s("swap.serverNotFound")),N.value=!1,P.value=!1}},_t=async()=>{const l=await fetch(w.getOutgoing_SwapCheckByTxID_URL(z,j.value));if(l.status==200){const r=await l.json();ge.value=r.fulfillTransaction,be.value="",xe.value=r.data._id,we.value=w.generateQRCode(Ne+r.fulfillTransaction),B.value=2}else D(s("swap.swapNotFound"),s("swap.txIdNotFound"))},D=(l,r,d=void 0)=>{_e.add({severity:"error",summary:l,detail:r,group:"br-custom",life:d})},at=n(""),be=n(""),xe=n(""),ge=n(""),we=n(""),Ue=n(!1);return{selectedAccountBalance:A,minNativeBalanceAmount:F,includeMultisig:Xe,timerSecondsDisplay:ke,timerMinutes:Se,currentPage:B,bscAddress:Q,showAddressErr:H,showPasswdError:rt,walletPasswd:ne,passwdPattern:He,showAmountErr:y,amount:g,disableAmount:J,updateAmountToMax:pe,bscGasStrategy:Le,isDisabledSwap:ot,err:Pe,swap:wt,savedCheck:bt,allAvailableAccounts:Ve,selectedAccount:C,selectedAccountName:se,selectedGasPriceInGwei:ee,selectedGasLimit:$,standardGasPrice:Ke,fastGasPrice:Je,rapidGasPrice:Qe,standardGasPriceInUSD:ze,fastGasPriceInUSD:qe,rapidGasPriceInUSD:Ye,xpxAmountInStandardGasPrice:Ze,xpxAmountInFastGasPrice:$e,xpxAmountInRapidGasPrice:et,txFeeDisplay:ft,gasPriceInXPX:_,maxSwapAmount:k,changeGasStrategy:tt,swapInProgress:N,certTransactionHash:ge,swapLink:at,swapTimestamp:be,swapId:xe,swapQr:we,saveCertificate:()=>{w.generateoutgoingPdfCert("BSC",be.value,K.value,xe.value,ge.value,we.value,j.value)},selectedAccountAddress:K,isDisabledCancel:P,canCheckStatus:Ue,callTocheckSwapStatus:_t,siriusTransactionHash:j,xpxExplorerUrl:ut,currentNativeTokenName:i,siriusAddress:E,walletState:S,Helper:o,xpxFeeErr:xt,tokenDivisibility:M,tokenList:q,selectedToken:b,selectedTokenName:W,validated:()=>{try{lt(Q.value)&&!y.value&&(H.value=!1,B.value=2)}catch{H.value=!0,N.value=!1,P.value=!1}}}}},h=s=>(Dt("data-v-c1bfd15d"),s=s(),Lt(),s),Qt={class:"lg:w-9/12 ml-2 mr-2 lg:ml-auto lg:mr-auto mt-5"},zt={class:"mt-6 p-6 border filter shadow-lg text-center"},qt={class:"text-md"},Yt={class:"text-xs my-3 mb-5 sm:mb-10"},Zt=h(()=>t("img",{src:jt,class:"mr-2 h-5 inline-block"},null,-1)),$t={class:"flex my-10"},ea={class:"flex-none"},ta={class:"flex border border-gray-300 rounded-md filter shadow-md"},aa={class:"px-4 sm:px-10 self-center text-xxs sm:text-xs hidden md:inline-block lg:hidden xl:inline-block"},sa=h(()=>t("div",{class:"flex-grow self-center md:mx-4 h-0.5 bg-gray-100"},null,-1)),la={class:"flex-none"},na={class:"flex border border-gray-300 rounded-md filter shadow-md"},ra={class:"px-4 sm:px-10 self-center text-xxs sm:text-xs hidden md:inline-block lg:hidden xl:inline-block"},oa=h(()=>t("div",{class:"flex-grow self-center md:mx-4 h-0.5 bg-gray-100"},null,-1)),ia={class:"flex-none"},da={class:"flex border border-gray-300 rounded-md filter shadow-md"},ca={class:"px-4 sm:px-10 self-center text-xxs sm:text-xs hidden md:inline-block lg:hidden xl:inline-block"},ua={key:0},ma=h(()=>t("div",{class:"text-sm my-5 font-bold"},"Select Asset",-1)),va=["value"],fa={class:"text-sm my-5 font-bold"},pa={key:0,class:"error error_box mb-5"},ba={class:"relative"},xa={key:0,class:"opacity-90 w-full h-full absolute z-10 bg-white"},ga={class:"tex-center font-bold text-sm my-5"},wa={class:"md:grid md:grid-cols-3 mb-4"},ha={class:"md:col-span-1 mb-3"},ya={class:"font-bold text-tsm"},_a={class:"md:col-span-1 mb-3"},ka={class:"font-bold text-tsm"},Sa={class:"md:col-span-1 mb-3"},Aa={class:"font-bold text-tsm"},Ta={class:"text-sm text-center mb-2 sm:mb-4"},Ia={class:"tex-center font-bold text-sm mb-2"},Pa={class:"rounded-2xl bg-gray-100 p-5 mb-5"},Ca={class:"inline-block mr-4 text-xs"},Na=h(()=>t("img",{src:Kt,class:"w-5 inline mr-1 text-gray-500"},null,-1)),Ma={class:"mb-5"},Ga={key:1,class:"error error_box mb-5"},Fa={class:"bg-blue-50 border border-blue-primary h-20 mt-5 rounded flex items-center justify-center uppercase"},Da={key:0,src:nt,class:"w-5 h-5 ml-4"},La={key:1,src:Rt,class:"w-5 h-5 ml-4"},Ua={class:"flex justify-center mt-3"},Ba={class:"text-xs text-gray-600 mt-2 max-w-screen-md"},Ea={class:"mt-10 text-center"},Xa=["disabled"],Va=["disabled"],Ha={key:1},Oa={class:"text-lg my-7"},ja={key:0,class:"error error_box mb-5"},Ra=h(()=>t("div",{class:"font-bold text-left text-xs md:text-sm text-gray-700"},"Validate your transaction",-1)),Wa={class:"flex border-b border-gray-300 p-3"},Ka={class:"flex h-full justify-center"},Ja=h(()=>t("div",{class:"self-center inline-block transition-all duration-500 text-xs md:text-sm text-blue-primary"},"Account Name: ",-1)),Qa={class:"flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500 text-gray-700 break-all"},za={class:"flex border-b border-gray-300 p-3"},qa={class:"flex h-full justify-center"},Ya=h(()=>t("div",{class:"self-center inline-block transition-all duration-500 text-xs md:text-sm text-blue-primary"},"Account Address: ",-1)),Za={class:"flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500 text-gray-700 break-all"},$a={class:"flex border-b border-gray-300 p-3"},es={class:"flex h-full justify-center"},ts=h(()=>t("div",{class:"self-center inline-block transition-all duration-500 text-xs md:text-sm text-blue-primary"},"Amount: ",-1)),as={class:"flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500 text-gray-700 break-all"},ss={class:"flex border-b border-gray-300 p-3"},ls={class:"flex h-full justify-center"},ns=h(()=>t("div",{class:"self-center inline-block transition-all duration-500 text-xs md:text-sm text-blue-primary"},"MetaMask Address: ",-1)),rs={class:"flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500 text-gray-700 break-all"},os={class:"flex border-b border-gray-300 p-3"},is={class:"flex h-full justify-center"},ds={class:"self-center inline-block transition-all duration-500 text-xs md:text-sm text-blue-primary"},cs={key:0,class:"flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500 text-gray-700 break-all"},us={class:"font-bold text-tsm"},ms={key:1,class:"flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500 text-gray-700 break-all"},vs={class:"font-bold text-tsm"},fs={key:2,class:"flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500 text-gray-700 break-all"},ps={class:"font-bold text-tsm"},bs={class:"flex border-b border-gray-300 p-3"},xs={class:"flex h-full justify-center"},gs={class:"self-center inline-block transition-all duration-500 text-xs md:text-sm text-blue-primary"},ws={class:"flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500 text-gray-700 break-all"},hs={class:"flex border-b border-gray-300 p-3"},ys={class:"flex h-full justify-center"},_s=h(()=>t("div",{class:"self-center inline-block transition-all duration-500 text-xs md:text-sm text-blue-primary"},"Total Transaction Fee: ",-1)),ks={class:"flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500 text-gray-700 break-all"},Ss={class:"flex border-b border-gray-300 p-3"},As={class:"flex h-full justify-center"},Ts={class:"self-center inline-block transition-all duration-500 text-xs md:text-sm text-blue-primary"},Is={class:"flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500 text-gray-700 break-all"},Ps={class:"mt-10 text-center"},Cs=["disabled"],Ns=["disabled"],Ms={key:2},Gs={class:"default-title font-bold mt-5 mb-2"},Fs={class:"text-sm mb-7"},Ds={class:"mt-5"},Ls=["href"],Us=h(()=>t("br",null,null,-1)),Bs=["href"],Es={class:"md:mx-20 lg:mx-40 font-bold text-center text-tsm py-5 sm:py-10 mt-5 sm:mt-10 border-t border-gray-200"},Xs={class:"md:mx-20 lg:mx-10 xl:mx-40 border-2 border-gray-200 mt-4 p-5 text-xs font-bold filter shadow-lg"},Vs={class:"text-blue-primary mb-1"},Hs={class:"break-all"},Os={class:"mt-1"},js={key:0,src:nt,class:"w-3 h-3 ml-2 inline relative",style:{top:"-2px"}},Rs={key:1,src:Wt,class:"w-3 h-3 ml-2 inline relative",style:{top:"-2px"}},Ws=h(()=>t("div",null,[t("img",{src:Ht,class:"inline-block h-8 my-2"})],-1)),Ks={class:"text-blue-primary mb-1"},Js={class:"mt-1"},Qs={class:"my-5 sm:my-7 text-gray-500 text-xs md:mx-20 lg:mx-10 xl:mx-40"},zs={class:"inline-flex items-center mb-5"},qs={class:"ml-2 cursor-pointer text-xs font-bold"},Ys={class:"sm:mt-5 text-center"},Zs=["disabled"];function $s(s,i,_e,e,Ee,R){const ke=V("SelectInputAccountOutgoingSwap"),Se=V("SwapInputClean"),Ae=V("MetamaskAddressInput"),b=V("PasswordInputClean"),W=V("SwapCertificateComponent"),te=V("font-awesome-icon"),ae=V("router-link");return v(),f("div",null,[t("div",Qt,[t("div",zt,[t("div",qt,a(s.$t("swap.mainNetworkSwap")),1),t("div",Yt,[Zt,L(a(s.$t("swap.swapSiriusToBsc")),1)]),t("div",$t,[t("div",ea,[t("div",ta,[t("div",{class:G(["flex w-6 h-6 sm:w-10 sm:h-10",`${e.currentPage>=1?"bg-yellow-500":"bg-gray-300"}`])},[t("div",{class:G(["self-center inline-block text-center w-full text-txs sm:text-sm font-bold",`${e.currentPage>=1?"text-white":"text-gray-400"}`])},"1",2)],2),t("div",aa,a(s.$t("general.transaction")),1)])]),sa,t("div",la,[t("div",na,[t("div",{class:G(["flex w-6 h-6 sm:w-10 sm:h-10",`${e.currentPage>=2?"bg-yellow-500":"bg-gray-300"}`])},[t("div",{class:G(["self-center inline-block text-center w-full text-txs sm:text-sm font-bold",`${e.currentPage>=2?"text-white":"text-gray-400"}`])},"2",2)],2),t("div",ra,a(s.$t("swap.validation")),1)])]),oa,t("div",ia,[t("div",da,[t("div",{class:G(["flex w-6 h-6 sm:w-10 sm:h-10",`${e.currentPage>=3?"bg-yellow-500":"bg-gray-300"}`])},[t("div",{class:G(["self-center inline-block text-center w-full text-txs sm:text-sm font-bold",`${e.currentPage>=2?"text-white":"text-gray-400"}`])},"3",2)],2),t("div",ca,a(s.$t("general.certificate")),1)])])]),e.currentPage==1?(v(),f("div",ua,[ma,st(t("select",{class:"","onUpdate:modelValue":i[0]||(i[0]=c=>e.selectedTokenName=c)},[(v(!0),f(Ct,null,Nt(e.tokenList,(c,B)=>(v(),f("option",{value:c.name,key:B},a(c.name.toUpperCase()),9,va))),128))],512),[[Pt,e.selectedTokenName]]),t("div",fa,a(s.$t("general.transactionDetails")),1),e.xpxFeeErr?(v(),f("div",pa,a(s.$t("swap.failCoverTxFee")),1)):x("",!0),U(ke,{otherToken:e.selectedToken.namespace,otherTokenId:e.selectedToken.assetId,name:e.selectedToken.name,modelValue:e.siriusAddress,"onUpdate:modelValue":i[1]||(i[1]=c=>e.siriusAddress=c),placeholder:s.$t("swap.fromSiriusAcc"),selectDefault:e.walletState.currentLoggedInWallet.selectDefaultAccount().address,divisibility:e.tokenDivisibility},null,8,["otherToken","otherTokenId","name","modelValue","placeholder","selectDefault","divisibility"]),t("div",ba,[e.siriusAddress?x("",!0):(v(),f("div",xa)),U(Se,{class:"mt-5",disabled:e.disableAmount,remarkOption:e.selectedToken.name=="xpx",modelValue:e.amount,"onUpdate:modelValue":i[2]||(i[2]=c=>e.amount=c),balance:e.selectedAccountBalance,placeholder:`${e.selectedToken.name} `+s.$t("general.amount"),type:"text",showError:e.showAmountErr,errorMessage:s.$t("general.insufficientBalance"),emptyErrorMessage:s.$t("swap.amountEmpty"),maxAmount:e.maxSwapAmount,gasFee:e.gasPriceInXPX,transactionFee:e.txFeeDisplay,onClickedMaxAvailable:i[3]||(i[3]=c=>e.updateAmountToMax()),toolTip:s.$t("swap.bscAmountMsg",{token:e.selectedTokenName.toUpperCase()}),decimal:e.tokenDivisibility},null,8,["disabled","remarkOption","modelValue","balance","placeholder","showError","errorMessage","emptyErrorMessage","maxAmount","gasFee","transactionFee","toolTip","decimal"]),U(Ae,{placeholder:s.$t("swap.bscAddress"),errorMessage:s.$t("swap.bscAddressErr"),class:"mt-5",showError:e.showAddressErr,modelValue:e.bscAddress,"onUpdate:modelValue":i[4]||(i[4]=c=>e.bscAddress=c)},null,8,["placeholder","errorMessage","showError","modelValue"]),t("div",ga,a(s.$t("general.transactionFee"))+" ("+a(s.$t("swap.bsc"))+" BEP20 "+a(s.$t("general.network"))+"):",1),t("div",wa,[t("div",ha,[t("div",{class:G(["bscGasStrategy md:mr-6",`${e.bscGasStrategy=="standard"?"selected":"option"}`]),onClick:i[5]||(i[5]=c=>e.changeGasStrategy("standard"))},[t("p",ya,a(s.$t("swap.standard")),1),t("div",null,"BNB "+a(e.standardGasPrice),1),t("div",null,"XPX "+a(e.xpxAmountInStandardGasPrice)+" = "+a(s.$t("general.usd"))+" "+a(e.standardGasPriceInUSD),1)],2)]),t("div",_a,[t("div",{class:G(["bscGasStrategy md:mx-3",`${e.bscGasStrategy=="fast"?"selected":"option"}`]),onClick:i[6]||(i[6]=c=>e.changeGasStrategy("fast"))},[t("p",ka,a(s.$t("swap.fast")),1),t("div",null,"BNB "+a(e.fastGasPrice),1),t("div",null,"XPX "+a(e.xpxAmountInFastGasPrice)+" = "+a(s.$t("general.usd"))+" "+a(e.fastGasPriceInUSD),1)],2)]),t("div",Sa,[t("div",{class:G(["bscGasStrategy md:ml-6",`${e.bscGasStrategy=="rapid"?"selected":"option"}`]),onClick:i[7]||(i[7]=c=>e.changeGasStrategy("rapid"))},[t("p",Aa,a(s.$t("swap.rapid")),1),t("div",null,"BNB "+a(e.rapidGasPrice),1),t("div",null,"XPX "+a(e.xpxAmountInRapidGasPrice)+" = "+a(s.$t("general.usd"))+" "+a(e.rapidGasPriceInUSD),1)],2)])]),t("div",Ta,a(s.$t("swap.feesValidDuration"))+": "+a(e.timerMinutes)+":"+a(e.timerSecondsDisplay>=10?e.timerSecondsDisplay:"0"+e.timerSecondsDisplay),1),t("div",Ia,a(s.$t("general.transactionFee"))+" ("+a(s.$t("swap.siriusNetwork"))+"):",1),t("div",Pa,[t("div",Ca,[Na,L(a(s.$t("general.transactionFee"))+": ",1),t("span",null,a(e.txFeeDisplay),1),L(" "+a(e.currentNativeTokenName),1)])]),t("div",Ma,"Total Transaction Fee: "+a(e.minNativeBalanceAmount)+" "+a(e.currentNativeTokenName),1),U(b,{placeholder:s.$t("general.enterPassword"),errorMessage:s.$t("general.passwordRequired"),showError:e.showPasswdError,icon:"lock",modelValue:e.walletPasswd,"onUpdate:modelValue":i[8]||(i[8]=c=>e.walletPasswd=c)},null,8,["placeholder","errorMessage","showError","modelValue"]),e.err!=""?(v(),f("div",Ga,a(e.err),1)):x("",!0),t("div",Fa,[L(a(e.amount)+" "+a(e.selectedToken.name)+" ",1),e.selectedToken.name=="metx"?(v(),f("img",Da)):x("",!0),e.selectedToken.name=="xpx"?(v(),f("img",La)):x("",!0)]),t("div",Ua,[t("div",Ba,a(s.$t("swap.bscOutgoingMsg")),1)]),t("div",Ea,[t("button",{onClick:i[9]||(i[9]=c=>s.$router.push({name:"ViewServicesMainnetSwap"})),class:"text-black font-bold text-xs mr-1 sm:mr-5 mt-2 focus:outline-none disabled:opacity-50",disabled:e.isDisabledCancel},a(s.$t("general.later")),9,Xa),t("button",{type:"submit",class:"default-btn focus:outline-none disabled:opacity-50",disabled:s.isDisabledValidate,onClick:i[10]||(i[10]=c=>e.validated())},a(s.$t("general.continue")),9,Va)])])])):x("",!0),e.currentPage==2?(v(),f("div",Ha,[t("div",Oa,[e.err!=""?(v(),f("div",ja,a(e.err),1)):x("",!0),Ra,t("div",Wa,[t("div",Ka,[Ja,t("div",Qa,a(s.$t(e.selectedAccountName)),1)])]),t("div",za,[t("div",qa,[Ya,t("div",Za,a(s.$t(e.siriusAddress)),1)])]),t("div",$a,[t("div",es,[ts,t("div",as,a(s.$t(e.amount))+" "+a(s.$t(e.selectedToken.name.toUpperCase())),1)])]),t("div",ss,[t("div",ls,[ns,t("div",rs,a(s.$t(e.bscAddress)),1)])]),t("div",os,[t("div",is,[t("div",ds,a(s.$t("general.transactionFee"))+" ("+a(s.$t("swap.bsc"))+" BEP20 "+a(s.$t("general.network"))+"): ",1),e.bscGasStrategy==="standard"?(v(),f("div",cs,[t("p",us,a(s.$t("swap.standard")),1),t("div",null,"XPX "+a(e.xpxAmountInStandardGasPrice),1)])):x("",!0),e.bscGasStrategy==="fast"?(v(),f("div",ms,[t("p",vs,a(s.$t("swap.fast")),1),t("div",null,"XPX "+a(e.xpxAmountInFastGasPrice),1)])):x("",!0),e.bscGasStrategy==="rapid"?(v(),f("div",fs,[t("p",ps,a(s.$t("swap.rapid")),1),t("div",null,"XPX "+a(e.xpxAmountInRapidGasPrice),1)])):x("",!0)])]),t("div",bs,[t("div",xs,[t("div",gs,a(s.$t("general.transactionFee"))+" ("+a(s.$t("swap.siriusNetwork"))+"): ",1),t("div",ws,[t("span",null,a(e.txFeeDisplay),1),L(" "+a(e.currentNativeTokenName),1)])])]),t("div",hs,[t("div",ys,[_s,t("div",ks,a(e.minNativeBalanceAmount)+" "+a(e.currentNativeTokenName),1)])]),t("div",Ss,[t("div",As,[t("div",Ts,a(s.$t("swap.feesValidDuration"))+": ",1),t("div",Is,a(e.timerMinutes)+":"+a(e.timerSecondsDisplay>=10?e.timerSecondsDisplay:"0"+e.timerSecondsDisplay),1)])]),t("div",Ps,[t("button",{onClick:i[11]||(i[11]=c=>s.$router.push({name:"ViewServicesMainnetSwap"})),class:"text-black font-bold text-xs mr-1 sm:mr-5 mt-2 focus:outline-none disabled:opacity-50",disabled:e.isDisabledCancel},a(s.$t("general.later")),9,Cs),t("button",{type:"button",class:"default-btn focus:outline-none disabled:opacity-50 mt-2",disabled:e.isDisabledSwap,onClick:i[12]||(i[12]=(...c)=>e.swap&&e.swap(...c))},a(e.swapInProgress?s.$t("swap.swapInProgress"):s.$t("swap.confirmSwap")),9,Ns),e.canCheckStatus?(v(),f("button",{key:0,class:"default-btn focus:outline-none disabled:opacity-50 mt-2",onClick:i[13]||(i[13]=(...c)=>e.callTocheckSwapStatus&&e.callTocheckSwapStatus(...c))},a(s.$t("swap.checkSwapStatus")),1)):x("",!0)])])])):x("",!0),e.currentPage==3?(v(),f("div",Ms,[t("div",null,[t("h1",Gs,a(s.$t("general.congratz")),1),t("div",Fs,a(s.$t("swap.swapStarted")),1),U(W,{networkTerm:s.$t("swap.bsc"),swapType:"Out",swapId:e.swapId,swapTimestamp:e.swapTimestamp,transactionHash:e.certTransactionHash,swapQr:e.swapQr,swapLink:e.swapLink,siriusName:e.selectedAccountName,swappedAmount:e.amount,siriusAddress:e.Helper.createAddress(e.selectedAccountAddress).pretty(),siriusTransactionHash:e.siriusTransactionHash,xpxExplorer:e.xpxExplorerUrl},null,8,["networkTerm","swapId","swapTimestamp","transactionHash","swapQr","swapLink","siriusName","swappedAmount","siriusAddress","siriusTransactionHash","xpxExplorer"]),t("button",{type:"button",class:"w-40 hover:shadow-lg bg-blue-primary text-white text-xs hover:opacity-50 rounded font-bold px-4 py-3 border border-blue-primary outline-none mr-4 mt-6",onClick:i[14]||(i[14]=(...c)=>e.saveCertificate&&e.saveCertificate(...c))},a(s.$t("general.downloadCertificate")),1),t("div",Ds,[t("a",{href:e.swapLink,target:"_new",class:"underline self-center text-xs font-bold text-blue-primary"},[L(a(s.$t("swap.viewTxInBsc")),1),U(te,{icon:"external-link-alt",class:"ml-2 text-blue-500 w-3 h-3 self-center inline-block"})],8,Ls),Us,t("a",{href:e.xpxExplorerUrl,target:"_new",class:"underline self-center text-xs font-bold text-blue-primary"},[L(a(s.$t("swap.viewTxInExplorer")),1),U(te,{icon:"external-link-alt",class:"ml-2 text-blue-500 w-3 h-3 self-center inline-block"})],8,Bs)]),t("div",Es,a(s.$t("swap.swapDetails")),1),t("div",Xs,[t("div",Vs,a(s.$t("general.from"))+": "+a(e.selectedAccountName),1),t("div",Hs,a(e.Helper.createAddress(e.selectedAccountAddress).pretty()),1),t("div",Os,[L(a(s.$t("swap.swapAmount"))+" "+a(e.amount)+" "+a(e.selectedToken.name.toUpperCase())+" ",1),e.selectedToken.name=="metx"?(v(),f("img",js)):x("",!0),e.selectedToken.name=="xpx"?(v(),f("img",Rs)):x("",!0)]),Ws,t("div",Ks,a(s.$t("general.to"))+": "+a(s.$t("swap.metamaskAcc")),1),t("div",null,a(e.bscAddress),1),t("div",Js,a(s.$t("swap.equivalentTo"))+" "+a(e.amount)+" BEP20 "+a(e.selectedToken.name.toUpperCase()),1)]),t("div",Qs,a(s.$t("swap.swapMsg3")),1),t("label",zs,[st(t("input",{type:"checkbox",class:"h-5 w-5 bg-blue-primary","onUpdate:modelValue":i[15]||(i[15]=c=>e.savedCheck=c)},null,512),[[Mt,e.savedCheck]]),t("span",qs,a(s.$t("swap.confirmDownloaded")),1)]),t("div",Ys,[U(ae,{to:{name:"ViewServicesMainnetSwap"}},{default:Gt(()=>[t("button",{type:"submit",class:"default-btn mr-5 focus:outline-none w-40 inline-block disabled:opacity-50",disabled:!e.savedCheck},a(s.$t("general.done")),9,Zs)]),_:1})])])])):x("",!0)])])])}const yl=kt(Jt,[["render",$s],["__scopeId","data-v-c1bfd15d"]]);export{yl as default};
