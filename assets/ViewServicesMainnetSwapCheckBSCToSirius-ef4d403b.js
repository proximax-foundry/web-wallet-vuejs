import{_ as kt,u as _t,r as o,b9 as St,b6 as Ct,n as de,c as g,A as Tt,B as L,a as Be,bb as Ue,w as S,z as Fe,H as C,i as Q,M as It,o as l,b as d,e as t,t as a,x as v,j as m,f,m as b,k,v as ue,O as De,F as At,g as Mt,U as Ht}from"./index-6982070c.js";import{T as Nt}from"./TextInputClean-64285474.js";import{S as Et,_ as Lt}from"./icon-dots-0e2c018a.js";import{_ as Rt}from"./AddressInputClean.vue_vue_type_style_index_0_lang-ca2bb6d5.js";import{c as Vt}from"./functions-0a4df64c.js";import{S as A}from"./swapUtils-db0b83e5.js";import{_ as jt}from"./bsc-e621c678.js";import{_ as Pt}from"./index-d94031be.js";import{W as We,_ as Oe}from"./icon-connected-5aa1282a.js";import{_ as Bt}from"./icon-xpx-072deeab.js";import"./icon-red-x-a5511f99.js";import"./icon-green-tick-1b766454.js";import"./jspdf.es.min-0f50d07f.js";import"./qrcode-60b36ece.js";const Ut={name:"ViewServicesMainnetSwapCheckBSCToSirius",components:{TextInputClean:Nt,SwapCertificateComponent:Et,AddressInputClean:Rt},setup(){let s;const{t:n}=_t(),H=o(!0);St(()=>{s&&clearInterval(s)});let e=new Ct(de.chainNetworkName);e.init();const R=o(""),ee=o([]);(async()=>{try{const r=await A.fetchAllSwapServiceInfo(e.swap_IN_SERVICE_URL);r.status==200?(ee.value=r.data.bscScAddressInfo,R.value=r.data.bscInfo.sinkAddress,E.value=""):E.value=n("swap.serviceDown")}catch{E.value=n("swap.serviceDown")}})();const p="^[0-9A-Za-z]{66}$",w=o(""),N=g(()=>!w.value.match(p)&&w.value.length>0);let te=e.BSCChainId,se=e.BSCNetworkName;const z=o(!1),u=o(!1),y=o(null),me=o(""),K=o(!1),V=o(!1),X=o(!1),G=o(n("swap.retry")),fe=o(!1),qe=o(!1),J=o(!1),ve=o(!1),j=o(!1),T=o("xpx"),Qe=o("xpx"),ze=e.BSCScanUrl,Ke=g(()=>A.getIncoming_BSCCheckStatus_URL(e.swap_IN_SERVICE_URL,"bsc",w.value)),pe=["XPX","METX"],Xe=g(()=>pe.includes(T.value.toUpperCase())?A.getIncoming_BSCSwapTransfer_URL(e.swap_IN_SERVICE_URL,T.value.toLowerCase()):A.getIncoming_SwapTransfer_URL(e.swap_IN_SERVICE_URL));let I,ae;window.ethereum&&(window.ethereum.isMetaMask||(H.value=!1));const re=()=>{typeof window.ethereum<"u"?(I=new We(window.ethereum),ae=I.getSigner(),z.value=!0,u.value=!!ethereum.isConnected(),ethereum.request({method:"eth_accounts"}).then(he).catch(r=>{console.error(r)}),ethereum.request({method:"eth_chainId"}).then(r=>{we(r)}).catch(r=>{console.error(r)}),ethereum.on("accountsChanged",Ge),ethereum.on("chainChanged",r=>{we(r)})):console.log("MetaMask not installed")};re();function he(r){r.length===0?y.value="":r[0]!==y.value&&(y.value=r[0]),u.value=!!ethereum.isConnected()}function Ge(r){window.ethereum.isMetaMask&&(r.length===0?y.value="":r[0]!==y.value&&(y.value=r[0],E.value="")),u.value=!!ethereum.isConnected()}function we(r){me.value=r,te===parseInt(r)?Y.value="":Y.value=n("swap.selectNetworkToSwap",{network:se})}const Je=()=>{window.ethereum&&(re(),window.ethereum.isMetaMask||(H.value=!1))},Ze=()=>{re(),window.ethereum.isMetaMask?(H.value=!0,ethereum.request({method:"eth_requestAccounts"}).then(he).catch(r=>{r.code===4001?console.log("Please connect to MetaMask."):r.code=="-32002"&&(E.value=n("swap.approveConnection"))})):H.value=!1},P=o(!1),be=o(!1),ye=o(!1),xe=o(!1),ge=o(!1),ke=o(!1),_e=o(""),B=o(""),Ye=o(""),U=o(""),F=o(""),D=o(""),$e=()=>{A.generateIncomingPdfCert("BSC",B.value,x.value,D.value,U.value,F.value)},et=Tt(),tt=r=>{let c=document.getElementById(r).getAttribute("copyValue"),i=document.getElementById(r).getAttribute("copySubject");Vt(c),et.add({severity:"info",summary:i+" "+n("general.copied"),detail:c,group:"br-custom",life:3e3})},ne=o(1),W=o(!0),Z=o(""),Y=o(""),E=o(""),st=g(()=>!(!Y.value&&!(N.value&&w.value.length>0)&&w.value.length>0)),at=()=>{ne.value=2,setTimeout(()=>ye.value=!0,1e3),setTimeout(()=>{(async()=>(await rt()?setTimeout(()=>{ge.value=!0,setTimeout(async()=>{await ct(),setTimeout(()=>ke.value=!0,1e3)},3e3)},1e3):fe.value=!0,xe.value=!0))()},2e3)},$=g(()=>ze+w.value),Se=o(!1),oe=o(0),rt=async()=>{try{let r=await I.getTransactionReceipt(w.value),c="";if(r){let h=ee.value.find(_=>_.contractAddress.toLowerCase()==r.to.toLowerCase());if(h){if(T.value=h.name,c=h.contractAddress,!pe.includes(T.value))return!1}else return!1}else return!1;let i=await I.getTransaction(w.value);return r&&r.status===1?i.to.toLowerCase()!==c.toLowerCase()||r.logs.length!==1||r.logs[0].topics[0]!=="0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef"||r.logs[0].topics[2]!=="0x"+"0".repeat(66-R.value.length)+R.value.substring(2).toLowerCase()?!1:i.confirmations<12?new Promise(function(h){s=setInterval(async()=>{let _=await I.getTransaction(w.value);_.confirmations<12?(j.value=!0,oe.value=_.confirmations):(j.value=!1,clearInterval(s),h(!0))},3e3)}):!0:r&&r.status===0?(ve.value=!0,Se.value=!0,!1):!r&&!i?(J.value=!0,!1):i&&i.to.toLowerCase()==R.value.toLowerCase()?new Promise(function(h){s=setInterval(async()=>{let _=await I.getTransaction(w.value);_.confirmations<12?(j.value=!0,oe.value=_.confirmations):(j.value=!1,clearInterval(s),h(!0))},3e3)}):(ve.value=!0,!1)}catch(r){return console.log(r),J.value=!0,!1}},nt=g(()=>L.nativeToken.label),ot=g(()=>Se.value?n("swap.feeTooLow"):J.value?n("swap.hashNotFound",[n("swap.bsc"),n("swap.sirius")]):n("swap.hashInvalid",[n("swap.bsc"),n("swap.sirius")])),O=o("");let lt=de.currentNetworkProfile.chainExplorer.url+"/"+de.currentNetworkProfile.chainExplorer.hashRoute+"/";const it=g(()=>lt+O.value),ct=async()=>{try{const r=await fetch(Ke.value,{method:"GET"});if(r.status==200){const c=await r.json();O.value=c.siriusTxnHash?c.siriusTxnHash:"",Z.value=c.siriusAddress,U.value=c.remoteTxnHash,T.value=c.fromToken,Qe.value=c.toToken,B.value=C.IsoTimeRemoveFormat(new Date(c.timeStamp).toISOString()),D.value=C.toUppercase(T.value),F.value=A.generateQRCode($.value),P.value=!1,setTimeout(()=>W.value=!1,1e3)}else r.status==404?(P.value=!0,be.value=!0):P.value=!0}catch{P.value=!0}},Ce=o(!1),Te=o(!1),Ie=o(!1),Ae=o(!1),Me=o(!1),He=o(!1),Ne=o(!0),x=o(""),le=o("");Be(x,r=>{let c=S.currentLoggedInWallet.accounts.find(i=>i.address==r)||S.currentLoggedInWallet.others.find(i=>i.address==r);c?le.value=c.name:le.value="ACCOUNT-"+x.value.substring(x.value.length-4,x.value.length)});const M=Ue(!0),dt=Ue(!1);Be(x,r=>{r.length==40||r.length==46?Ee():M.value=!0});const Ee=()=>{if(S.currentLoggedInWallet)try{let r=C.createAddress(x.value);C.checkAddressNetwork(r,L.networkType)?M.value=!1:M.value=!0}catch{try{let c=C.createNamespaceId(x.value);checkNamespace(c).then(i=>{x.value=i.plain(),M.value=!1}).catch(i=>{M.value=!0})}catch{M.value=!0}}},ut=g(()=>{if(!S.currentLoggedInWallet)return[];let r=S.currentLoggedInWallet.accounts.map(i=>({name:i.name,balance:i.balance,address:i.address,publicKey:i.publicKey,isMultisig:!!i.getDirectParentMultisig().length})),c=S.currentLoggedInWallet.others.filter(i=>i.type==="MULTISIG").map(i=>({name:i.name,balance:i.balance,address:i.address,publicKey:i.publicKey,isMultisig:!0}));return r.concat(c)}),mt=g(()=>{if(!S.currentLoggedInWallet)return[];const r=S.currentLoggedInWallet;var c=[],i=[];return ut.value.forEach(h=>{c.push({value:Fe.Address.createFromRawAddress(h.address).pretty(),label:h.name+" - "+n("general.ownerAcc")})}),r.contacts!=null&&r.contacts.forEach(h=>{c.push({value:Fe.Address.createFromRawAddress(h.address).pretty(),label:h.name+" - "+n("general.contact")})}),i=c.reduce((h,_)=>{let Pe=h.find(gt=>gt.value===_.value),xt={..._};return Pe?Pe.label=_.label:h.push(xt),h},[]),i}),ft=()=>{Me.value=!0},vt=g(()=>{let r=[];return S.currentLoggedInWallet&&S.currentLoggedInWallet.accounts.forEach(c=>{r.push({label:c.name+" - "+c.address,value:c.address})}),r}),pt=()=>{x.value=""},ht=g(()=>K.value?n("swap.rejectMetamask"):n("swap.signTx")),wt=()=>{Ne.value=!0,He.value=!0,setTimeout(()=>Ce.value=!0,1e3),setTimeout(()=>{Te.value=!0,(async()=>await Re())()},2e3)},ie=o(0),ce=o(0),Le=o(""),Re=async()=>{try{K.value=!1,I=new We(window.ethereum,"any"),ae=I.getSigner();let r=C.createAddress(x.value).pretty();const c=await ae.signMessage(r);_e.value=c;const i={recipient:r,signature:c,txnInfo:{network:"BSC",txnHash:w.value}};Le.value=i,await je()}catch{K.value=!0}},q=o(0),Ve=o(!1),je=async()=>{Ie.value=!0,Ae.value=!0,G.value=n("swap.initiatingSwap"),X.value=!0;let r=JSON.stringify(Le.value);try{const c=await fetch(Xe.value,{method:"POST",headers:{"Content-Type":"application/json"},body:r});if(c.status==200||c.status==201){const i=await c.json();V.value=!1,O.value=typeof i.siriusSwapInfo.status!="string"?i.siriusSwapInfo.status.hash:"",ie.value=C.convertToCurrency(i.siriusSwapInfo.amount,L.nativeToken.divisibility),ce.value=C.amountFormatterSimple(i.siriusSwapInfo.receiveAmount,L.nativeToken.divisibility),Z.value=i.siriusSwapInfo.recipient,U.value=i.transactionId,B.value=i.timestamp,D.value=T.value.toUpperCase(),F.value=A.generateQRCode($.value),setTimeout(()=>W.value=!1,1e3),q.value=0}else if(c.status==202){const i=await c.json();V.value=!1,O.value=typeof i.siriusSwapInfo.status!="string"?i.siriusSwapInfo.status.hash:"",ie.value=C.convertToCurrency(i.siriusSwapInfo.amount,L.nativeToken.divisibility),ce.value=C.amountFormatterSimple(i.siriusSwapInfo.receiveAmount,L.nativeToken.divisibility),Z.value=i.siriusSwapInfo.recipient,U.value=i.transactionId,B.value=i.timestamp,D.value=T.value.toUpperCase(),F.value=A.generateQRCode($.value),setTimeout(()=>W.value=!1,1e3),q.value=0}else c.status==208?(Ve.value=!0,setTimeout(()=>W.value=!1,1e3)):(V.value=!0,++q.value,G.value=n("swap.retry"),X.value=!1)}catch(c){console.log(c),V.value=!0,++q.value,G.value=n("swap.retry"),X.value=!1}},bt=()=>{ne.value=3},yt=o(!1);return{recheckMetamask:Je,err:Y,isInstallMetamask:z,connectMetamask:Ze,isMetamaskConnected:u,currentAccount:y,copy:tt,currentPage:ne,isDisabledValidate:W,siriusAddress:Z,checkStatus:at,validated:bt,isDisabledCheck:st,step1:ye,step2:xe,step3:ge,step4:ke,remoteTxnLink:$,messageHash:_e,transactionHash:U,swapTimestamp:B,swapId:Ye,swapQr:F,saveCertificate:$e,isInvalidRemoteTxnHash:fe,isPendingRemoteTxnHash:qe,serviceErr:E,verifyMetaMaskPlugin:H,showTxnHashError:N,remoteTxnHash:w,isInvalidSwapCheck:P,siriusTxnHash:O,siriusTxnLink:it,displayInitiateSwapPanel:ft,isInitiateSwap:Me,siriusAddressOption:vt,disableSiriusAddress:He,disableConfirmAddressSelection:Ne,siriusAddressSelected:x,siriusAddressSelectedName:le,clearSiriusAddress:pt,step5:Ce,step6:Te,step7:Ie,step8:Ae,isInvalidSignedMeta:K,isInvalidSwapService:V,disableRetrySwap:X,retrySwapButtonText:G,getSigned:Re,signatureMessage:ht,afterSigned:je,swapServerErrIndex:q,confirmAddress:wt,swapStatus208:Ve,savedCheck:yt,numConfirmation:oe,transactionPending:j,transactionNotFound:J,txtRemoteTransactionErrorMsg:ot,isCheckSwapStatusNotFound:be,walletState:S,currentNativeTokenName:nt,Helper:C,amount:ie,amountReceived:ce,swapToken:D,contacts:mt,showAddressError:M,checkRecipient:Ee,toggleContact:dt}}},Ft={class:"lg:w-9/12 ml-2 mr-2 lg:ml-auto lg:mr-auto mt-5"},Dt={class:"mt-6 p-6 border filter shadow-lg text-center"},Wt={class:"text-md"},Ot={class:"text-xs my-3 mb-5 sm:mb-10"},qt=t("img",{src:jt,class:"mr-2 h-5 inline-block"},null,-1),Qt={class:"flex my-10"},zt={class:"flex-none"},Kt={class:"flex border border-gray-300 rounded-md filter shadow-md"},Xt={class:"px-4 sm:px-10 self-center text-xxs sm:text-xs hidden md:inline-block lg:hidden xl:inline-block"},Gt=t("div",{class:"flex-grow self-center md:mx-4 h-0.5 bg-gray-100"},null,-1),Jt={class:"flex-none"},Zt={class:"flex border border-gray-300 rounded-md filter shadow-md"},Yt={class:"px-4 sm:px-10 self-center text-xxs sm:text-xs hidden md:inline-block lg:hidden xl:inline-block"},$t={key:0},es={class:"text-lg my-7 font-bold"},ts={key:0,class:"error error_box mb-5"},ss={key:2,class:"bg-yellow-200 text-yellow-900 text-tsm p-3 mb-5 rounded-2xl"},as={class:"my-2"},rs={href:"https://bit.ly/3mVayCu",target:"_new",class:"text-blue-primary"},ns={key:3,class:"error error_box mb-5"},os={key:4,class:"error error_box mb-5"},ls={class:"font-bold text-xs text-left mb-1"},is={class:"mb-5 mt-3 text-left"},cs={class:"bg-blue-primary px-3 py-2 w-20 text-white font-bold rounded-l border border-blue-primary cursor-auto"},ds={class:"text-gray-500 ml-3 text-tsm"},us={class:"mb-5 md:flex md:justify-between border border-gray-200 rounded"},ms={class:"flex justify-left"},fs=t("div",{class:"w-18 flex items-center justify-center py-5 sm:h-20"},[t("img",{src:Pt,class:"w-8 h-8 inline-block"})],-1),vs={class:"text-left flex items-center"},ps={class:"text-xxs uppercase text-blue-primary font-bold mb-1"},hs={class:"font-bold text-black text-tsm break-all mr-2"},ws={key:0,class:"border-l border-gray-200 text-green-500 font-semibold text-xxs w-16 lg:w-20 flex items-center justify-center uppercase"},bs=t("img",{src:Oe,class:"inline-block"},null,-1),ys={class:"border-l border-gray-200 text-blue-primary text-tsm font-bold w-16 lg:w-20 flex justify-center items-center"},xs={key:0},gs={key:1},ks={href:"https://metamask.io/",target:"_new"},_s={class:"md:hidden"},Ss={key:0,class:"border-t border-gray-200 text-green-500 font-semibold text-xxs uppercase p-2"},Cs={class:"flex items-center justify-center"},Ts=t("img",{src:Oe,class:"inline-block mr-2 w-4 h-4"},null,-1),Is={class:"border-t border-gray-200 text-blue-primary text-tsm font-bold p-3"},As={key:0},Ms={key:1},Hs={href:"https://metamask.io/",target:"_new"},Ns={class:"mt-10 text-center"},Es=["disabled"],Ls={key:1},Rs={class:"text-lg my-7"},Vs={key:0,class:"error error_box mb-5"},js={class:"flex border-b border-gray-300 p-3"},Ps={class:"flex-none"},Bs={class:"flex h-full justify-center"},Us={key:0,class:"text-tsm text-gray-500 my-3"},Fs={class:"flex border-b border-gray-300 p-3"},Ds={class:"flex-none"},Ws={class:"flex h-full justify-center"},Os={key:0,class:"mt-2"},qs={key:0,class:"bg-yellow-100 py-2 px-5 mt-1 rounded-xl flex"},Qs=["href","copyValue","copySubject"],zs={class:"flex-none"},Ks={key:1,class:"mt-2 text-sm text-gray-700"},Xs={class:"flex border-b border-gray-300 p-3"},Gs={class:"flex-none"},Js={class:"flex h-full justify-center"},Zs={class:"flex border-b border-gray-300 p-3"},Ys={class:"flex-none"},$s={class:"flex h-full justify-center"},ea={key:0,class:"mt-2"},ta={key:0,class:"bg-yellow-100 py-2 px-5 mt-1 rounded-xl flex"},sa=["href","copyValue","copySubject"],aa={class:"flex-none"},ra={class:"text-gray-600 mt-3 text-tsm ml-2"},na={key:1},oa={class:"sm:flex my-4"},la=["disabled"],ia={class:"py-2 sm:flex-grow text-tsm"},ca={class:"mb-1"},da={key:2},ua={class:"sm:flex justify-between"},ma={class:"w-full"},fa={class:"flex"},va={class:"text-xxs text-blue-primary font-semibold uppercase"},pa={key:0,class:"border"},ha={class:"text-xxs text-left text-gray-300 font-semibold py-2 px-2 uppercase"},wa=["onClick"],ba={key:0,class:"text-xs py-2 bg-gray-100 pl-2 w-full text-left"},ya={key:1,class:"text-xs py-2 pl-2 w-full text-left"},xa={key:2,class:"ml-auto pr-2 text-xxs py-2 font-semibold text-blue-primary bg-gray-100 uppercase"},ga={key:3,class:"ml-auto mr-2 text-xxs py-2 font-semibold text-blue-primary uppercase"},ka=["disabled"],_a={key:1},Sa={class:"flex border-b border-gray-300 p-3"},Ca={class:"flex-none"},Ta={class:"flex h-full justify-center"},Ia={class:"flex border-b border-gray-300 p-3"},Aa={class:"flex-none"},Ma={class:"flex h-full justify-center"},Ha={key:0,class:"mt-5"},Na={class:"flex border-b border-gray-300 p-3"},Ea={class:"flex-none"},La={class:"flex h-full justify-center"},Ra={key:0,class:"bg-yellow-100 py-2 px-5 mt-1 rounded-xl flex"},Va=["copyValue","copySubject"],ja={class:"flex-none"},Pa={class:"flex border-b border-gray-300 p-3"},Ba={class:"flex-none"},Ua={class:"flex h-full justify-center"},Fa={key:0,class:"mt-5"},Da=["disabled"],Wa={key:1,class:"mt-5 text-tsm sm:text-sm"},Oa={href:"https://t.me/proximaxhelpdesk",target:"_new",class:"text-blue-primary font-bold underline"},qa={class:"mt-10 text-center"},Qa=["disabled"],za={key:2},Ka={class:"default-title font-bold mt-5 mb-2"},Xa={class:"text-tsm mb-7"},Ga={class:"mt-3"},Ja=["href"],Za={class:"md:mx-20 lg:mx-40 font-bold text-center text-tsm py-5 sm:py-10 mt-5 sm:mt-10 border-t border-gray-200"},Ya={class:"md:mx-20 lg:mx-10 xl:mx-40 border-2 border-gray-200 mt-4 p-5 text-xs font-bold filter shadow-lg"},$a={class:"text-blue-primary mb-1"},er={class:"break-all"},tr={class:"mt-1"},sr=t("div",null,[t("img",{src:Lt,class:"inline-block h-8 my-2"})],-1),ar={class:"text-blue-primary mb-1"},rr={class:"mt-1"},nr=t("img",{src:Bt,class:"w-3 h-3 ml-2 inline relative",style:{top:"-2px"}},null,-1),or={class:"my-5 sm:my-7 text-gray-500 text-xs md:mx-20 lg:mx-10 xl:mx-40"},lr={class:"inline-flex items-center mb-5"},ir={class:"ml-2 cursor-pointer text-xs font-bold"},cr={class:"sm:mt-5 text-center"};function dr(s,n,H,e,R,ee){const p=Q("font-awesome-icon"),w=Q("TextInputClean"),N=Q("router-link"),te=Q("AddressInputClean"),se=Q("swap-certificate-component"),z=It("debounce");return l(),d("div",null,[t("div",Ft,[t("div",Dt,[t("div",Wt,a(s.$t("swap.mainNetworkSwap")),1),t("div",Ot,[qt,v(a(s.$t("general.check"))+" "+a(s.$t("swap.swapBscToSirius")),1)]),t("div",Qt,[t("div",zt,[t("div",Kt,[t("div",{class:m(["flex w-6 h-6 sm:w-10 sm:h-10",`${e.currentPage>=1?"bg-yellow-500":"bg-gray-300"}`])},[t("div",{class:m(["self-center inline-block text-center w-full text-txs sm:text-sm font-bold",`${e.currentPage>=1?"text-white":"text-gray-400"}`])},"1",2)],2),t("div",Xt,a(s.$t("swap.inputInfo")),1)])]),Gt,t("div",Jt,[t("div",Zt,[t("div",{class:m(["flex w-6 h-6 sm:w-10 sm:h-10",`${e.currentPage>=2?"bg-yellow-500":"bg-gray-300"}`])},[t("div",{class:m(["self-center inline-block text-center w-full text-txs sm:text-sm font-bold",`${e.currentPage>=2?"text-white":"text-gray-400"}`])},"2",2)],2),t("div",Yt,a(s.$t("swap.validation")),1)])])]),e.currentPage==1?(l(),d("div",$t,[t("div",es,a(s.$t("swap.checkSwapStatus")),1),e.isInstallMetamask?f("",!0):(l(),d("div",ts,a(s.$t("swap.noMetamask")),1)),e.isInstallMetamask?f("",!0):(l(),d("button",{key:1,onClick:n[0]||(n[0]=u=>e.recheckMetamask()),class:"text-xs blue-btn p-2 mb-3"},"Recheck MetaMask")),e.verifyMetaMaskPlugin?f("",!0):(l(),d("div",ss,[v(a(s.$t("swap.noOtherExtension"))+" ",1),t("b",null,a(s.$t("swap.metamask")),1),v("."),t("div",as,[v(a(s.$t("swap.referTo")),1),t("a",rs,[v(a(s.$t("swap.walkthrough")),1),b(p,{icon:"external-link-alt",class:"text-blue-primary w-3 h-3 self-center inline-block ml-1"})]),v(a(s.$t("swap.forMoreDetails")),1)]),v(a(s.$t("swap.refreshMsg")),1)])),e.serviceErr!=""?(l(),d("div",ns,a(e.serviceErr),1)):f("",!0),e.err!=""?(l(),d("div",os,a(e.err),1)):f("",!0),t("p",ls,a(s.$t("dashboard.type")),1),t("div",is,[t("button",cs,a(s.$t("general.in")),1),t("button",{class:"border px-3 py-2 w-20 text-blue-primary font-bold rounded-r cursor-pointer hover:border-blue-primary hover:bg-blue-50 transition-all duration-200",onClick:n[1]||(n[1]=u=>s.$router.push({name:"ViewServicesMainnetSwapCheckSiriusToBSC"}))},a(s.$t("general.out")),1),v(),t("span",ds,a(s.$t("swap.bscToSirius")),1)]),t("div",us,[t("div",ms,[fs,t("div",vs,[t("div",null,[t("div",ps,a(s.$t("swap.fromMetamaskAddress")),1),t("div",hs,a(e.isMetamaskConnected?e.currentAccount?e.currentAccount:s.$t("swap.connected"):s.$t("swap.notConnected")),1)])])]),t("div",{class:m(["md:grid hidden",e.currentAccount?"grid-cols-2":"grid-cols-1"])},[e.currentAccount?(l(),d("div",ws,[t("div",null,[bs,t("div",null,a(s.$t("swap.connected")),1)])])):f("",!0),t("div",ys,[e.isInstallMetamask?(l(),d("div",xs,[e.currentAccount?(l(),d("div",{key:1,class:"cursor-pointer",onClick:n[3]||(n[3]=u=>e.connectMetamask())},a(s.$t("general.change")),1)):(l(),d("div",{key:0,class:"cursor-pointer",onClick:n[2]||(n[2]=u=>e.connectMetamask())},a(s.$t("swap.connect")),1))])):(l(),d("div",gs,[t("a",ks,a(s.$t("general.download")),1)]))])],2),t("div",_s,[e.currentAccount?(l(),d("div",Ss,[t("div",Cs,[Ts,v(" "+a(s.$t("swap.connected")),1)])])):f("",!0),t("div",Is,[e.isInstallMetamask?(l(),d("div",As,[e.currentAccount?(l(),d("div",{key:1,class:"cursor-pointer",onClick:n[5]||(n[5]=u=>e.connectMetamask())},a(s.$t("general.change")),1)):(l(),d("div",{key:0,class:"cursor-pointer",onClick:n[4]||(n[4]=u=>e.connectMetamask())},a(s.$t("swap.connect")),1))])):(l(),d("div",Ms,[t("a",Hs,a(s.$t("general.download")),1)]))])])]),b(w,{placeholder:"BSC "+s.$t("swap.transactionHash"),errorMessage:s.$t("swap.enterValidHash"),showError:e.showTxnHashError,modelValue:e.remoteTxnHash,"onUpdate:modelValue":n[6]||(n[6]=u=>e.remoteTxnHash=u),class:"w-full"},null,8,["placeholder","errorMessage","showError","modelValue"]),t("div",Ns,[t("button",{onClick:n[7]||(n[7]=u=>s.$router.push({name:"ViewServicesMainnetSwap"})),class:"text-black font-bold text-xs mr-5 focus:outline-none disabled:opacity-50"},a(s.$t("general.cancel")),1),t("button",{type:"submit",class:"default-btn focus:outline-none disabled:opacity-50",disabled:e.isDisabledCheck,onClick:n[8]||(n[8]=(...u)=>e.checkStatus&&e.checkStatus(...u))},a(s.$t("swap.checkStatus")),9,Es)])])):f("",!0),e.currentPage==2?(l(),d("div",Ls,[t("div",Rs,[e.err!=""?(l(),d("div",Vs,a(e.err),1)):f("",!0),t("div",{class:m(["font-bold text-left text-xs md:text-sm",e.step1?"text-gray-700":"text-gray-300"])},a(s.$t("swap.checkStep1",{network:s.$t("swap.bsc")})),3),t("div",js,[t("div",Ps,[t("div",{class:m(["rounded-full border w-6 h-6 transition-all duration-500",e.step1?"border-blue-primary":"border-gray-300"])},[t("div",Bs,[b(p,{icon:"check",class:m([e.step1?"text-blue-primary":"text-gray-300","w-3 h-3 self-center inline-block transition-all duration-500"])},null,8,["class"])])],2)]),t("div",{class:m(["flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500",e.step1?"text-gray-700":"text-gray-300"])},[v(a(s.$t("swap.checkingStatus",{network:s.$t("swap.bsc")})),1),e.transactionPending?(l(),d("div",Us,a(s.$t("swap.pendingConfirmation",{number:e.numConfirmation})),1)):f("",!0)],2)]),t("div",Fs,[t("div",Ds,[t("div",{class:m(["rounded-full border w-6 h-6 transition-all duration-500",e.isInvalidRemoteTxnHash?"border-red-primary":e.step2?"border-blue-primary":"border-gray-300"])},[t("div",Ws,[e.isInvalidRemoteTxnHash?(l(),k(p,{key:0,icon:"times",class:"text-red-primary w-3 h-3 self-center inline-block transition-all duration-500"})):(l(),k(p,{key:1,icon:"check",class:m([e.step2?"text-blue-primary":"text-gray-300","w-3 h-3 self-center inline-block transition-all duration-500"])},null,8,["class"]))])],2)]),t("div",{class:m(["flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500",e.step2?"text-gray-700":"text-gray-300"])},[v(a(e.isInvalidRemoteTxnHash?e.transactionNotFound?s.$t("swap.txNotFound"):s.$t("swap.txFailed"):s.$t("swap.txSuccessful",{network:s.$t("swap.bsc")}))+" ",1),!e.isInvalidRemoteTxnHash&&e.step2?(l(),d("div",Os,[e.remoteTxnHash?(l(),d("div",qs,[t("a",{href:e.remoteTxnLink,target:"_new",class:m([e.isInvalidRemoteTxnHash?"text-gray-300":"text-blue-primary","flex-grow break-all text-tsm self-center hover:underline"]),id:"validateTransfer",copyValue:e.remoteTxnHash,copySubject:s.$t("swap.transactionHash")},[b(p,{icon:"external-link-alt",class:"text-blue-primary w-3 h-3 self-center inline-block mr-2"}),v(a(e.remoteTxnHash),1)],10,Qs),t("div",zs,[e.step2?(l(),k(p,{key:0,icon:"copy",onClick:n[9]||(n[9]=u=>e.copy("validateTransfer")),class:"w-5 h-5 text-blue-primary cursor-pointer self-center ml-3 absoltue top-2 hover:opacity-90 duration-800 transition-all"})):f("",!0)])])):f("",!0)])):f("",!0),e.isInvalidRemoteTxnHash&&e.step2?(l(),d("div",Ks,[v(a(e.txtRemoteTransactionErrorMsg)+" ",1),b(N,{to:{name:"ViewServicesMainnetSwapBSCToSirius"},class:"bg-blue-primary text-white py-2 px-5 rounded-2xl w-24 block text-center my-3 font-bold"},{default:ue(()=>[v(a(s.$t("general.swap")),1)]),_:1})])):f("",!0)],2)]),t("div",{class:m(["font-bold text-left text-xs md:text-sm mt-4",e.step3?"text-gray-700":"text-gray-300"])},a(s.$t("swap.checkStep2")),3),t("div",Xs,[t("div",Gs,[t("div",{class:m(["rounded-full border w-6 h-6",e.step3?"border-blue-primary":"border-gray-300"])},[t("div",Js,[b(p,{icon:"check",class:m([e.step3?"text-blue-primary":"text-gray-300","w-3 h-3 self-center inline-block"])},null,8,["class"])])],2)]),t("div",{class:m(["flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500",e.step3?"text-gray-700":"text-gray-300"])},a(s.$t("swap.requestFromSwap")),3)]),t("div",Zs,[t("div",Ys,[t("div",{class:m(["rounded-full border w-6 h-6",e.isInvalidSwapCheck&&e.step4?"border-red-primary":e.step4?"border-blue-primary":"border-gray-300"])},[t("div",$s,[e.isInvalidSwapCheck&&e.step4?(l(),k(p,{key:0,icon:"times",class:"text-red-primary w-3 h-3 self-center inline-block"})):(l(),k(p,{key:1,icon:"check",class:m([e.step4?"text-blue-primary":"text-gray-300","w-3 h-3 self-center inline-block"])},null,8,["class"]))])],2)]),t("div",{class:m(["flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500",e.step4?"text-gray-700":"text-gray-300"])},[v(a(e.isInvalidSwapCheck&&e.step4?e.isCheckSwapStatusNotFound?s.$t("swap.txNotFound"):s.$t("swap.txInvalid"):s.$t("swap.swapSuccess"))+" ",1),!e.isInvalidSwapCheck&&e.step4?(l(),d("div",ea,[e.siriusTxnHash?(l(),d("div",ta,[t("a",{href:e.siriusTxnLink,target:"_new",class:"text-blue-primary flex-grow break-all text-tsm self-center hover:underline",id:"validateTransfer",copyValue:e.remoteTxnHash,copySubject:s.$t("swap.transactionHash")},[b(p,{icon:"external-link-alt",class:"text-blue-primary w-3 h-3 self-center inline-block mr-2"}),v(a(e.siriusTxnHash),1)],8,sa),t("div",aa,[e.step4?(l(),k(p,{key:0,icon:"copy",onClick:n[10]||(n[10]=u=>e.copy("validateTransfer")),class:"w-5 h-5 text-blue-primary cursor-pointer self-center ml-3 absoltue top-2 hover:opacity-90 duration-800 transition-all"})):f("",!0)])])):f("",!0),t("div",ra,a(s.$t("swap.swapSuccess2")),1)])):f("",!0),e.isInvalidSwapCheck&&e.step4?(l(),d("div",na,[t("div",oa,[t("button",{disabled:e.isInitiateSwap,onClick:n[11]||(n[11]=(...u)=>e.displayInitiateSwapPanel&&e.displayInitiateSwapPanel(...u)),class:"sm:flex-none justify-start sm:justify-end bg-blue-primary h-15 w-40 rounded mr-5 focus:outline-none text-tsm font-bold py-2 border border-blue-primary px-8 text-white hover:shadow-lg mt-3 sm:mt-0 disabled:opacity-50 self-center",type:"button"},a(s.$t("swap.initiateSwap")),9,la),t("div",ia,[t("div",ca,a(s.$t("swap.initiateSwapWithHash",{network:s.$t("swap.bsc")})),1)])])])):f("",!0),e.isInitiateSwap?(l(),d("div",da,[t("div",ua,[t("div",ma,[t("div",fa,[De(b(te,{placeholder:s.$t("transfer.transferPlaceholder"),modelValue:e.siriusAddressSelected,"onUpdate:modelValue":n[12]||(n[12]=u=>e.siriusAddressSelected=u),showError:e.showAddressError},null,8,["placeholder","modelValue","showError"]),[[z,e.checkRecipient,"1000"]]),t("div",{onClick:n[13]||(n[13]=u=>e.toggleContact=!e.toggleContact),class:"border rounded-md cursor-pointer flex flex-col justify-around p-2"},[b(p,{icon:"id-card-alt",class:"text-blue-primary ml-auto mr-auto"}),t("div",va,a(s.$t("general.select")),1)])]),e.toggleContact?(l(),d("div",pa,[t("div",ha,a(s.$t("general.importFromAB")),1),(l(!0),d(At,null,Mt(e.contacts,(u,y)=>(l(),d("div",{key:y,class:"cursor-pointer"},[t("div",{onClick:me=>{e.siriusAddressSelected=u.value,e.toggleContact=!1},class:"flex justify-between"},[y%2==0?(l(),d("div",ba,a(u.label),1)):f("",!0),y%2==1?(l(),d("div",ya,a(u.label),1)):f("",!0),y%2==0?(l(),d("div",xa,a(s.$t("general.select")),1)):f("",!0),y%2==1?(l(),d("div",ga,a(s.$t("general.select")),1)):f("",!0)],8,wa)]))),128))])):f("",!0)]),t("button",{disabled:!e.siriusAddressSelected||!e.disableConfirmAddressSelection,onClick:n[14]||(n[14]=(...u)=>e.confirmAddress&&e.confirmAddress(...u)),class:"sm:flex-none justify-start sm:justify-end bg-blue-primary h-15 w-40 rounded-3xl sm:ml-5 focus:outline-none text-tsm font-bold py-2 border border-blue-primary px-8 text-white hover:shadow-lg mt-3 sm:mt-2 disabled:opacity-50 self-center",type:"button"},a(s.$t("general.confirm")),9,ka)])])):f("",!0)],2)]),e.isInitiateSwap?(l(),d("div",_a,[t("div",{class:m(["font-bold text-left text-xs md:text-sm mt-4",e.step5?"text-gray-700":"text-gray-300"])},a(s.$t("swap.checkStep3",{network:s.$t("swap.sirius")})),3),t("div",Sa,[t("div",Ca,[t("div",{class:m(["rounded-full border w-6 h-6",e.step5?"border-blue-primary":"border-gray-300"])},[t("div",Ta,[b(p,{icon:"check",class:m([e.step5?"text-blue-primary":"text-gray-300","w-3 h-3 self-center inline-block"])},null,8,["class"])])],2)]),t("div",{class:m(["flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500",e.step5?"text-gray-700":"text-gray-300"])},a(s.$t("swap.sendingMsg")),3)]),t("div",Ia,[t("div",Aa,[t("div",{class:m(["rounded-full border w-6 h-6",e.isInvalidSignedMeta?"border-red-primary":e.step6?"border-blue-primary":"border-gray-300"])},[t("div",Ma,[e.isInvalidSignedMeta?(l(),k(p,{key:0,icon:"times",class:"text-red-primary w-3 h-3 self-center inline-block"})):(l(),k(p,{key:1,icon:"check",class:m([e.step5?"text-blue-primary":"text-gray-300","w-3 h-3 self-center inline-block"])},null,8,["class"]))])],2)]),t("div",{class:m(["flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500",e.step6?"text-gray-700":"text-gray-300"])},[v(a(e.signatureMessage)+" ",1),e.isInvalidSignedMeta?(l(),d("div",Ha,[t("button",{type:"button",class:"bg-blue-primary rounded-3xl mr-5 focus:outline-none text-tmd py-2 px-4 text-white hover:shadow-lg w-24",onClick:n[15]||(n[15]=(...u)=>e.getSigned&&e.getSigned(...u))},a(s.$t("swap.retry")),1)])):f("",!0)],2)]),t("div",Na,[t("div",Ea,[t("div",{class:m(["rounded-full border w-6 h-6",e.step7?"border-blue-primary":"border-gray-300"])},[t("div",La,[b(p,{icon:"check",class:m([e.step7?"text-blue-primary":"text-gray-300","w-3 h-3 self-center inline-block"])},null,8,["class"])])],2)]),t("div",{class:m(["flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500",e.step7?"text-gray-700":"text-gray-300"])},[v(a(s.$t("swap.messageSigned"))+" ",1),e.messageHash&&e.step7?(l(),d("div",Ra,[t("div",{class:m([e.step7?"text-gray-500":"text-gray-300","text-tsm break-all flex-grow"]),id:"validateMessage",copyValue:e.messageHash,copySubject:s.$t("swap.signatureHash")},a(e.messageHash),11,Va),t("div",ja,[e.step7?(l(),k(p,{key:0,icon:"copy",onClick:n[16]||(n[16]=u=>e.copy("validateMessage")),class:"w-5 h-5 text-blue-primary cursor-pointer self-center ml-3 absoltue top-2 hover:opacity-90 duration-800 transition-all"})):f("",!0)])])):f("",!0)],2)]),t("div",{class:m(["font-bold text-left text-xs md:text-sm mt-4",e.step8?"text-gray-700":"text-gray-300"])},a(s.$t("swap.checkStep4")),3),t("div",Pa,[t("div",Ba,[t("div",{class:m(["rounded-full border w-6 h-6",e.isInvalidSwapService?"border-red-primary":e.step8?"border-blue-primary":"border-gray-300"])},[t("div",Ua,[e.isInvalidSwapService?(l(),k(p,{key:0,icon:"times",class:"text-red-primary w-3 h-3 self-center inline-block"})):(l(),k(p,{key:1,icon:"check",class:m([e.step8?"text-blue-primary":"text-gray-300","w-3 h-3 self-center inline-block"])},null,8,["class"]))])],2)]),t("div",{class:m(["flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500",e.step8?"text-gray-700":"text-gray-300"])},[v(a(e.isInvalidSwapService?s.$t("swap.sendMsgFail"):e.swapStatus208?s.$t("swap.swapInitiated"):s.$t("swap.messageSent"))+" ",1),e.isInvalidSwapService&&e.swapServerErrIndex<=3?(l(),d("div",Fa,[t("button",{type:"button",class:"bg-blue-primary rounded-3xl mr-5 focus:outline-none text-tmd py-2 px-4 text-white hover:shadow-lg disabled:opacity-50",onClick:n[17]||(n[17]=(...u)=>e.afterSigned&&e.afterSigned(...u)),disabled:e.disableRetrySwap},a(e.retrySwapButtonText),9,Da)])):f("",!0),e.swapServerErrIndex>3?(l(),d("div",Wa,[v(a(s.$t("swap.serverErrMsg1")),1),t("b",null,a(s.$t("swap.transactionHash")),1),v(","),t("b",null,a(s.$t("swap.signature")),1),v(" "+a(s.$t("swap.serverErrMsg2"))+" ",1),t("a",Oa,a(s.$t("home.helpdesk")),1),v(". ")])):f("",!0)],2)])])):f("",!0)]),t("div",qa,[e.isInitiateSwap&&!e.swapStatus208?(l(),d("button",{key:0,type:"submit",class:"default-btn focus:outline-none disabled:opacity-50",disabled:e.isDisabledValidate,onClick:n[18]||(n[18]=u=>e.validated())},a(s.$t("general.continue")),9,Qa)):(l(),k(N,{key:1,to:{name:"ViewServicesMainnetSwap"},class:m(["default-btn focus:outline-none w-40 inline-block",e.isDisabledValidate?"opacity-50":""]),is:e.isDisabledValidate?"span":"router-link",tag:"button"},{default:ue(()=>[v(a(s.$t("general.done")),1)]),_:1},8,["class","is"]))])])):f("",!0),e.currentPage==3?(l(),d("div",za,[t("div",null,[t("h1",Ka,a(s.$t("general.congratz")),1),t("div",Xa,a(s.$t("swap.swapStarted")),1),b(se,{networkTerm:s.$t("swap.bsc"),swapType:"In",swapToken:e.swapToken,swapTimestamp:e.swapTimestamp,transactionHash:e.transactionHash,siriusName:e.siriusAddressSelectedName,swappedAmount:e.amount,siriusAddress:e.Helper.createAddress(e.siriusAddressSelected).pretty(),swapQr:e.swapQr,swapLink:e.remoteTxnLink},null,8,["networkTerm","swapToken","swapTimestamp","transactionHash","siriusName","swappedAmount","siriusAddress","swapQr","swapLink"]),t("button",{type:"button",class:"w-40 hover:shadow-lg bg-blue-primary text-white text-xs hover:opacity-50 rounded font-bold px-4 py-3 border border-blue-primary outline-none mr-4 mt-6",onClick:n[19]||(n[19]=(...u)=>e.saveCertificate&&e.saveCertificate(...u))},a(s.$t("general.downloadCertificate")),1),t("div",Ga,[t("a",{href:e.remoteTxnLink,target:"_new",class:"underline self-center text-xs font-bold text-blue-primary"},[v(a(s.$t("swap.viewTxInExplorer")),1),b(p,{icon:"external-link-alt",class:"ml-2 text-blue-500 w-3 h-3 self-center inline-block"})],8,Ja)]),t("div",Za,a(s.$t("swap.swapDetails")),1),t("div",Ya,[t("div",$a,a(s.$t("general.from"))+": "+a(s.$t("swap.metamaskAcc")),1),t("div",er,a(e.currentAccount),1),t("div",tr,a(s.$t("swap.swapAmount"))+" "+a(e.amount),1),sr,t("div",ar,a(s.$t("general.to"))+": "+a(e.siriusAddressSelectedName),1),t("div",null,a(e.Helper.createAddress(e.siriusAddress).pretty()),1),t("div",rr,[v(a(s.$t("swap.equivalentTo"))+" "+a(e.amountReceived)+" of "+a(e.currentNativeTokenName)+" ",1),nr])]),t("div",or,a(s.$t("swap.swapMsg2")),1),t("label",lr,[De(t("input",{type:"checkbox",class:"h-5 w-5 bg-blue-primary",value:"true","onUpdate:modelValue":n[20]||(n[20]=u=>e.savedCheck=u)},null,512),[[Ht,e.savedCheck]]),t("span",ir,a(s.$t("swap.confirmDownloaded")),1)]),t("div",cr,[b(N,{to:{name:"ViewServicesMainnetSwap"},class:m(["default-btn mr-5 focus:outline-none w-40 inline-block mt-1",e.savedCheck?"":"opacity-50"]),is:e.savedCheck?"router-link":"span",tag:"button"},{default:ue(()=>[v(a(s.$t("general.done")),1)]),_:1},8,["class","is"])])])])):f("",!0)])])])}const Cr=kt(Ut,[["render",dr]]);export{Cr as default};
