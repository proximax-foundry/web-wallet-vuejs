import{_ as at,r as s,b9 as nt,b6 as ot,n as ee,c as _,A as rt,B as te,w as k,a as it,H as se,i as A,o as n,b as i,e as t,j as r,t as f,f as m,x as u,m as v,k as y,v as ae,O as lt,U as ct}from"./index-f7850f6e.js";import{T as dt}from"./TextInputClean-fb2ea122.js";import{S as ut,_ as mt}from"./icon-dots-b78c5f86.js";import{S as ft}from"./SelectInputAccount-a860cf96.js";import{c as ht}from"./functions-aaab0f11.js";import{S as T}from"./swapUtils-bfdf04a1.js";import{_ as vt}from"./eth-aa063e38.js";import{_ as xt}from"./index-8bf594ea.js";import{W as Ae,_ as Ee}from"./icon-connected-fdd8e531.js";import{_ as yt}from"./icon-xpx-072deeab.js";import"./jdenticon-module-53ef8dd2.js";import"./jspdf.es.min-faf91f1e.js";import"./qrcode-c4f964a5.js";const bt={name:"ViewServicesMainnetSwapCheckETHToSirius",components:{TextInputClean:dt,SwapCertificateComponent:ut,SelectInputAccount:ft},setup(){let x;const o=s(!0);window.ethereum&&(window.ethereum.isMetaMask||(o.value=!1)),nt(()=>{x&&clearInterval(x)});let p=new ot(ee.chainNetworkName);p.init();const e=s(""),E=s("");(async()=>{try{const a=await T.fetchTokenServiceInfo(p.swap_IN_SERVICE_URL,"xpx");a.status==200?(E.value=a.data.ethInfo.scAddress,e.value=a.data.ethInfo.sinkAddress,S.value=""):S.value="Swapping service is temporary not available. Please try again later"}catch{S.value="Swapping service is temporary not available. Please try again later"}})();const ne="^[0-9A-Za-z]{66}$",l=s(""),P=_(()=>!l.value.match(ne)&&l.value.length>0);let C=p.ETHChainId,Z=p.ETHNetworkName;const N=s(!1),c=s(!1),g=s(null),Pe=s(""),V=s(!1),R=s(!1),j=s(!1),L=s("Retry"),oe=s(!1),Ne=s(!1),D=s(!1),re=s(!1),I=s(!1),Ve=s("xpx"),Re=p.ETHScanUrl,je=T.getIncoming_ETHCheckStatus_URL(p.swap_IN_SERVICE_URL,Ve.value),Le=T.getIncoming_ETHSwapTransfer_URL(p.swap_IN_SERVICE_URL);let w,G;typeof window.ethereum<"u"?(w=new Ae(window.ethereum),G=w.getSigner(),N.value=!0,c.value=!!ethereum.isConnected(),ethereum.request({method:"eth_accounts"}).then(ie).catch(a=>{console.error(a)}),ethereum.request({method:"eth_chainId"}).then(a=>{le(a)}).catch(a=>{console.error(a)}),ethereum.on("accountsChanged",De),ethereum.on("chainChanged",a=>{le(a)})):console.log("MetaMask not installed");function ie(a){a.length===0?g.value="":a[0]!==g.value&&(g.value=a[0]),c.value=!!ethereum.isConnected()}function De(a){window.ethereum.isMetaMask&&(a.length===0?g.value="":a[0]!==g.value&&(g.value=a[0],S.value="")),c.value=!!ethereum.isConnected()}function le(a){Pe.value=a,C===parseInt(a)?Q.value="":Q.value="Please select "+Z+" on MetaMask to swap"}const Ue=()=>{window.ethereum.isMetaMask==null?o.value=!1:(o.value=!0,ethereum.request({method:"eth_requestAccounts"}).then(ie).catch(a=>{a.code===4001?console.log("Please connect to MetaMask."):a.code=="-32002"&&(S.value="Please click on MetaMask extension to approve connection")}))},M=s(!1),ce=s(!1),de=s(!1),ue=s(!1),me=s(!1),fe=s(!1),he=s(""),U=s(""),F=s(""),B=s(""),W=s(""),Fe=()=>{T.generateIncomingPdfCert("ETH",U.value,q.value,F.value,B.value,W.value)},Be=rt(),We=a=>{let d=document.getElementById(a).getAttribute("copyValue"),h=document.getElementById(a).getAttribute("copySubject");ht(d),Be.add({severity:"info",summary:h+" copied",detail:d,group:"br-custom",life:3e3})},K=s(1),O=s(!0),q=s(""),Q=s(""),S=s(""),Oe=_(()=>!(!Q.value&&!(P.value&&l.value.length>0)&&l.value.length>0)),qe=()=>{K.value=2,setTimeout(()=>de.value=!0,1e3),setTimeout(()=>{(async()=>(await Qe()?setTimeout(()=>{me.value=!0,setTimeout(async()=>{await Ge(),setTimeout(()=>fe.value=!0,1e3)},3e3)},1e3):oe.value=!0,ue.value=!0))()},2e3)},X=_(()=>Re+l.value),ve=s(!1),Y=s(0),Qe=async()=>{try{let a=await w.getTransactionReceipt(l.value),d=await w.getTransaction(l.value);return a&&a.status===1&&d.to.toLowerCase()==E.value.toLowerCase()?d.confirmations<12?new Promise(function(h){x=setInterval(async()=>{let b=await w.getTransaction(l.value);b.confirmations<12?(I.value=!0,Y.value=b.confirmations):(I.value=!1,clearInterval(x),h(!0))},3e3)}):!0:a&&a.status===0?(re.value=!0,ve.value=!0,!1):!a&&!d?(D.value=!0,!1):d&&d.to.toLowerCase()==E.value.toLowerCase()?new Promise(function(h){x=setInterval(async()=>{let b=await w.getTransaction(l.value);b.confirmations<12?(I.value=!0,Y.value=b.confirmations):(I.value=!1,clearInterval(x),h(!0))},3e3)}):(re.value=!0,!1)}catch{return D.value=!0,!1}},$=_(()=>te.nativeToken.label),ze=_(()=>ve.value?"Fees might be too low. Please do not change recommended fee in MetaMask.":D.value?"ETH transaction hash is not found. Please initiate new swap from ETH to "+$.value:"ETH transaction hash is invalid. Please initiate new swap from ETH to "+$.value),z=s("");let Je=ee.currentNetworkProfile.chainExplorer.url+"/"+ee.currentNetworkProfile.chainExplorer.hashRoute+"/";const Ze=_(()=>Je+z.value),Ge=async()=>{const a={network:"eth",txnHash:l.value};try{let d=JSON.stringify(a);const h=await fetch(je,{method:"POST",headers:{"Content-Type":"application/json"},body:d});if(h.status==200){const b=await h.json();z.value=b.siriusSwapInfo.status.hash,q.value=b.siriusSwapInfo.recipient,B.value=b.remoteTxnHash,U.value=b.timestamp,F.value=b.ctxId,W.value=T.generateQRCode(X.value),M.value=!1,setTimeout(()=>O.value=!1,1e3)}else h.status==404?(M.value=!0,ce.value=!0):M.value=!0}catch{M.value=!0}},xe=s(!1),ye=s(!1),be=s(!1),pe=s(!1),we=s(!1),_e=s(!1),ge=s(!0),H=s(k.currentLoggedInWallet.selectDefaultAccount().address),ke=s(k.currentLoggedInWallet.selectDefaultAccount().name);it(H,a=>{let d=k.currentLoggedInWallet.accounts.find(h=>h.address==a);d||(d=k.currentLoggedInWallet.others.find(h=>h.address==a)),ke.value=d.name});const Ke=()=>{we.value=!0},Xe=_(()=>{let a=[];return k.currentLoggedInWallet&&k.currentLoggedInWallet.accounts.forEach(d=>{a.push({label:d.name+" - "+d.address,value:d.address})}),a}),Ye=()=>{H.value=""},$e=_(()=>V.value?"Approval on MetaMask is rejected":"Please sign transaction confirmation in MetaMask"),et=()=>{ge.value=!0,_e.value=!0,setTimeout(()=>xe.value=!0,1e3),setTimeout(()=>{ye.value=!0,(async()=>await Ie())()},2e3)},Se=s(0),Te=s(0),Ce=s(""),Ie=async()=>{try{V.value=!1,w=new Ae(window.ethereum,"any"),G=w.getSigner();const a=await G.signMessage(H.value);he.value=a;const d={recipient:H.value,signature:a,txnInfo:{network:"ETH",txnHash:l.value}};Ce.value=d,await He()}catch{V.value=!0}},J=s(0),Me=s(!1),He=async()=>{be.value=!0,pe.value=!0,L.value="Initiating swap...",j.value=!0;let a=JSON.stringify(Ce.value);try{const d=await fetch(Le,{method:"POST",headers:{"Content-Type":"application/json"},body:a});if(d.status==200||d.status==201){const h=await d.json();R.value=!1,z.value=h.siriusSwapInfo.status.hash,Se.value=se.convertToCurrency(h.siriusSwapInfo.amount,te.nativeToken.divisibility),Te.value=se.amountFormatterSimple(h.siriusSwapInfo.amount,te.nativeToken.divisibility)-50,q.value=h.siriusSwapInfo.recipient,B.value=h.remoteTxnHash,U.value=h.timestamp,F.value=h.ctxId,W.value=T.generateQRCode(X.value),setTimeout(()=>O.value=!1,1e3),J.value=0}else d.status==208?(Me.value=!0,setTimeout(()=>O.value=!1,1e3)):(R.value=!0,++J.value,L.value="Retry",j.value=!1)}catch{R.value=!0,++J.value,L.value="Retry",j.value=!1}},tt=()=>{K.value=3},st=s(!1);return{err:Q,isInstallMetamask:N,connectMetamask:Ue,isMetamaskConnected:c,currentAccount:g,copy:We,currentPage:K,isDisabledValidate:O,siriusAddress:q,checkStatus:qe,validated:tt,isDisabledCheck:Oe,step1:de,step2:ue,step3:me,step4:fe,remoteTxnLink:X,messageHash:he,transactionHash:B,swapTimestamp:U,swapId:F,swapQr:W,saveCertificate:Fe,isInvalidRemoteTxnHash:oe,isPendingRemoteTxnHash:Ne,serviceErr:S,verifyMetaMaskPlugin:o,showTxnHashError:P,remoteTxnHash:l,isInvalidSwapCheck:M,siriusTxnHash:z,siriusTxnLink:Ze,displayInitiateSwapPanel:Ke,isInitiateSwap:we,siriusAddressOption:Xe,disableSiriusAddress:_e,disableConfirmAddressSelection:ge,siriusAddressSelected:H,siriusAddressSelectedName:ke,clearSiriusAddress:Ye,step5:xe,step6:ye,step7:be,step8:pe,isInvalidSignedMeta:V,isInvalidSwapService:R,disableRetrySwap:j,retrySwapButtonText:L,getSigned:Ie,signatureMessage:$e,afterSigned:He,swapServerErrIndex:J,confirmAddress:et,swapStatus208:Me,savedCheck:st,numConfirmation:Y,transactionPending:I,transactionNotFound:D,txtRemoteTransactionErrorMsg:ze,isCheckSwapStatusNotFound:ce,walletState:k,currentNativeTokenName:$,Helper:se,amount:Se,amountReceived:Te}}},pt={class:"lg:w-9/12 ml-2 mr-2 lg:ml-auto lg:mr-auto mt-5"},wt={class:"mt-6 p-6 border filter shadow-lg text-center"},_t=t("div",{class:"text-md"},"Main Network Swap",-1),gt=t("div",{class:"text-xs my-3 mb-5 sm:mb-10"},[t("img",{src:vt,class:"mr-2 h-5 inline-block"}),u("Check swap from ETH to Proximax Sirius Chain")],-1),kt={class:"flex my-10"},St={class:"flex-none"},Tt={class:"flex border border-gray-300 rounded-md filter shadow-md"},Ct=t("div",{class:"px-4 sm:px-10 self-center text-xxs sm:text-xs hidden md:inline-block lg:hidden xl:inline-block"},"Input Information",-1),It=t("div",{class:"flex-grow self-center md:mx-4 h-0.5 bg-gray-100"},null,-1),Mt={class:"flex-none"},Ht={class:"flex border border-gray-300 rounded-md filter shadow-md"},At={class:"px-4 sm:px-10 self-center text-xxs sm:text-xs hidden md:inline-block lg:hidden xl:inline-block"},Et={key:0},Pt=t("div",{class:"text-lg my-7 font-bold"},"Check Swap Status",-1),Nt={key:0,class:"error error_box mb-5"},Vt={key:1,class:"bg-yellow-200 text-yellow-900 text-tsm p-3 mb-5 rounded-2xl"},Rt=t("b",null,"MetaMask",-1),jt={class:"my-2"},Lt={href:"https://bit.ly/3mVayCu",target:"_new",class:"text-blue-primary"},Dt={key:2,class:"error error_box mb-5"},Ut={key:3,class:"error error_box mb-5"},Ft=t("p",{class:"font-bold text-xs text-left mb-1"},"Type",-1),Bt={class:"mb-5 mt-3 text-left"},Wt=t("button",{class:"bg-blue-primary px-3 py-2 w-20 text-white font-bold rounded-l border border-blue-primary cursor-auto"},"In",-1),Ot=t("span",{class:"text-gray-500 ml-3 text-tsm"},"From ETH to Sirius",-1),qt={class:"mb-5 md:flex md:justify-between border border-gray-200 rounded"},Qt={class:"flex justify-left"},zt=t("div",{class:"w-18 flex items-center justify-center py-5 sm:h-20"},[t("img",{src:xt,class:"w-8 h-8 inline-block"})],-1),Jt={class:"text-left flex items-center"},Zt=t("div",{class:"text-xxs uppercase text-blue-primary font-bold mb-1"},"From MetaMask Address",-1),Gt={class:"font-bold text-black text-tsm break-all mr-2"},Kt={key:0,class:"border-l border-gray-200 text-green-500 font-semibold text-xxs w-16 lg:w-20 flex items-center justify-center uppercase"},Xt=t("div",null,[t("img",{src:Ee,class:"inline-block"}),t("div",null,"Connected")],-1),Yt=[Xt],$t={class:"border-l border-gray-200 text-blue-primary text-tsm font-bold w-16 lg:w-20 flex justify-center items-center"},es={key:0},ts={key:1},ss=t("a",{href:"https://metamask.io/",target:"_new"},"Download",-1),as=[ss],ns={class:"md:hidden"},os={key:0,class:"border-t border-gray-200 text-green-500 font-semibold text-xxs uppercase p-2"},rs=t("div",{class:"flex items-center justify-center"},[t("img",{src:Ee,class:"inline-block mr-2 w-4 h-4"}),u(" Connected ")],-1),is=[rs],ls={class:"border-t border-gray-200 text-blue-primary text-tsm font-bold p-3"},cs={key:0},ds={key:1},us=t("a",{href:"https://metamask.io/",target:"_new"},"Download",-1),ms=[us],fs={class:"mt-10 text-center"},hs=["disabled"],vs={key:1},xs={class:"text-lg my-7"},ys={key:0,class:"error error_box mb-5"},bs={class:"flex border-b border-gray-300 p-3"},ps={class:"flex-none"},ws={class:"flex h-full justify-center"},_s={key:0,class:"text-tsm text-gray-500 my-3"},gs={class:"flex border-b border-gray-300 p-3"},ks={class:"flex-none"},Ss={class:"flex h-full justify-center"},Ts={key:0,class:"mt-2"},Cs={key:0,class:"bg-yellow-100 py-2 px-5 mt-1 rounded-xl flex"},Is=["href","copyValue"],Ms={class:"flex-none"},Hs={key:1,class:"mt-2 text-sm text-gray-700"},As={class:"flex border-b border-gray-300 p-3"},Es={class:"flex-none"},Ps={class:"flex h-full justify-center"},Ns={class:"flex border-b border-gray-300 p-3"},Vs={class:"flex-none"},Rs={class:"flex h-full justify-center"},js={key:0,class:"mt-2"},Ls={key:0,class:"bg-yellow-100 py-2 px-5 mt-1 rounded-xl flex"},Ds=["href","copyValue"],Us={class:"flex-none"},Fs=t("div",{class:"text-gray-600 mt-3 text-tsm ml-2"},"Swap is already in progress or has been completed successfully.",-1),Bs={key:1},Ws={class:"sm:flex my-4"},Os=["disabled"],qs=t("div",{class:"py-2 sm:flex-grow text-tsm"},[t("div",{class:"mb-1"},"Initiative swap with this ETH Transaction Hash")],-1),Qs={key:2},zs={class:"sm:flex justify-between"},Js={class:"w-full"},Zs=["disabled"],Gs={key:1},Ks={class:"flex border-b border-gray-300 p-3"},Xs={class:"flex-none"},Ys={class:"flex h-full justify-center"},$s={class:"flex border-b border-gray-300 p-3"},ea={class:"flex-none"},ta={class:"flex h-full justify-center"},sa={key:0,class:"mt-5"},aa={class:"flex border-b border-gray-300 p-3"},na={class:"flex-none"},oa={class:"flex h-full justify-center"},ra={key:0,class:"bg-yellow-100 py-2 px-5 mt-1 rounded-xl flex"},ia=["copyValue"],la={class:"flex-none"},ca={class:"flex border-b border-gray-300 p-3"},da={class:"flex-none"},ua={class:"flex h-full justify-center"},ma={key:0,class:"mt-5"},fa=["disabled"],ha={key:1,class:"mt-5 text-tsm sm:text-sm"},va=t("b",null,"transaction hash",-1),xa=t("b",null,"signature",-1),ya=t("a",{href:"https://t.me/proximaxhelpdesk",target:"_new",class:"text-blue-primary font-bold underline"},"helpdesk",-1),ba={class:"mt-10 text-center"},pa=["disabled"],wa={key:2},_a=t("h1",{class:"default-title font-bold mt-5 mb-2"},"Congratulations!",-1),ga=t("div",{class:"text-tsm mb-7"},"The swap process has already started!",-1),ka={class:"mt-3"},Sa=["href"],Ta=t("div",{class:"md:mx-20 lg:mx-40 font-bold text-center text-tsm py-5 sm:py-10 mt-5 sm:mt-10 border-t border-gray-200"},"Swap Details",-1),Ca={class:"md:mx-20 lg:mx-10 xl:mx-40 border-2 border-gray-200 mt-4 p-5 text-xs font-bold filter shadow-lg"},Ia=t("div",{class:"text-blue-primary mb-1"},"From: MetaMask Account",-1),Ma={class:"break-all"},Ha={class:"mt-1"},Aa=t("div",null,[t("img",{src:mt,class:"inline-block h-8 my-2"})],-1),Ea={class:"text-blue-primary mb-1"},Pa={class:"mt-1"},Na=t("img",{src:yt,class:"w-3 h-3 ml-2 inline relative",style:{top:"-2px"}},null,-1),Va=t("div",{class:"my-5 sm:my-7 text-gray-500 text-xs md:mx-20 lg:mx-10 xl:mx-40"},"Swap process may take a few hours to complete. Please save a copy of your certificate. It is needed in the event of an error.",-1),Ra={class:"inline-flex items-center mb-5"},ja=t("span",{class:"ml-2 cursor-pointer text-xs font-bold"},"I confirm that I have downloaded a copy of my certificate.",-1),La={class:"sm:mt-5 text-center"};function Da(x,o,p,e,E,ne){const l=A("font-awesome-icon"),P=A("TextInputClean"),C=A("router-link"),Z=A("SelectInputAccount"),N=A("swap-certificate-component");return n(),i("div",null,[t("div",pt,[t("div",wt,[_t,gt,t("div",kt,[t("div",St,[t("div",Tt,[t("div",{class:r(["flex w-6 h-6 sm:w-10 sm:h-10",`${e.currentPage>=1?"bg-yellow-500":"bg-gray-300"}`])},[t("div",{class:r(["self-center inline-block text-center w-full text-txs sm:text-sm font-bold",`${e.currentPage>=1?"text-white":"text-gray-400"}`])},"1",2)],2),Ct])]),It,t("div",Mt,[t("div",Ht,[t("div",{class:r(["flex w-6 h-6 sm:w-10 sm:h-10",`${e.currentPage>=2?"bg-yellow-500":"bg-gray-300"}`])},[t("div",{class:r(["self-center inline-block text-center w-full text-txs sm:text-sm font-bold",`${e.currentPage>=2?"text-white":"text-gray-400"}`])},"2",2)],2),t("div",At,f(x.$t("swap.validation")),1)])])]),e.currentPage==1?(n(),i("div",Et,[Pt,e.isInstallMetamask?m("",!0):(n(),i("div",Nt,f(x.$t("swap.noMetamask")),1)),e.verifyMetaMaskPlugin?m("",!0):(n(),i("div",Vt,[u("Please make sure there is no other crypto wallet extension currently being enabled except "),Rt,u("."),t("div",jt,[u("Refer to the "),t("a",Lt,[u("walkthrough"),v(l,{icon:"external-link-alt",class:"text-blue-primary w-3 h-3 self-center inline-block ml-1"})]),u(" for more details.")]),u("Please refresh this page after disabling other wallet extensions.")])),e.serviceErr!=""?(n(),i("div",Dt,f(e.serviceErr),1)):m("",!0),e.err!=""?(n(),i("div",Ut,f(e.err),1)):m("",!0),Ft,t("div",Bt,[Wt,t("button",{class:"border px-3 py-2 w-20 text-blue-primary font-bold rounded-r cursor-pointer hover:border-blue-primary hover:bg-blue-50 transition-all duration-200",onClick:o[0]||(o[0]=c=>x.$router.push({name:"ViewServicesMainnetSwapCheckSiriusToETH"}))},"Out"),u(),Ot]),t("div",qt,[t("div",Qt,[zt,t("div",Jt,[t("div",null,[Zt,t("div",Gt,f(e.isMetamaskConnected&&e.currentAccount?e.currentAccount:"Not connected"),1)])])]),t("div",{class:r(["md:grid hidden",e.currentAccount?"grid-cols-2":"grid-cols-1"])},[e.currentAccount?(n(),i("div",Kt,Yt)):m("",!0),t("div",$t,[e.isInstallMetamask?(n(),i("div",es,[e.currentAccount?(n(),i("div",{key:1,class:"cursor-pointer",onClick:o[2]||(o[2]=c=>e.connectMetamask())},"Change")):(n(),i("div",{key:0,class:"cursor-pointer",onClick:o[1]||(o[1]=c=>e.connectMetamask())},"Connect"))])):(n(),i("div",ts,as))])],2),t("div",ns,[e.currentAccount?(n(),i("div",os,is)):m("",!0),t("div",ls,[e.isInstallMetamask?(n(),i("div",cs,[e.currentAccount?(n(),i("div",{key:1,class:"cursor-pointer",onClick:o[4]||(o[4]=c=>e.connectMetamask())},"Change")):(n(),i("div",{key:0,class:"cursor-pointer",onClick:o[3]||(o[3]=c=>e.connectMetamask())},"Connect"))])):(n(),i("div",ds,ms))])])]),v(P,{placeholder:"ETH Transaction Hash",errorMessage:"Please key in valid transaction hash",modelValue:e.remoteTxnHash,"onUpdate:modelValue":o[5]||(o[5]=c=>e.remoteTxnHash=c),showError:e.showTxnHashError,class:"w-full inline-block mr-2"},null,8,["modelValue","showError"]),t("div",fs,[t("button",{onClick:o[6]||(o[6]=c=>x.$router.push({name:"ViewServicesMainnetSwap"})),class:"text-black font-bold text-xs mr-5 focus:outline-none disabled:opacity-50"},"Cancel"),t("button",{type:"submit",class:"default-btn focus:outline-none disabled:opacity-50",disabled:e.isDisabledCheck,onClick:o[7]||(o[7]=(...c)=>e.checkStatus&&e.checkStatus(...c))},"Check Status",8,hs)])])):m("",!0),e.currentPage==2?(n(),i("div",vs,[t("div",xs,[e.err!=""?(n(),i("div",ys,f(e.err),1)):m("",!0),t("div",{class:r(["font-bold text-left text-xs md:text-sm",e.step1?"text-gray-700":"text-gray-300"])},"Step 1: Check transaction status",2),t("div",bs,[t("div",ps,[t("div",{class:r(["rounded-full border w-6 h-6 transition-all duration-500",e.step1?"border-blue-primary":"border-gray-300"])},[t("div",ws,[v(l,{icon:"check",class:r([e.step1?"text-blue-primary":"text-gray-300","w-3 h-3 self-center inline-block transition-all duration-500"])},null,8,["class"])])],2)]),t("div",{class:r(["flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500",e.step1?"text-gray-700":"text-gray-300"])},[u("Checking ETH transaction status"),e.transactionPending?(n(),i("div",_s,"Pending confirmation: "+f(e.numConfirmation)+" of 12 confirmations",1)):m("",!0)],2)]),t("div",gs,[t("div",ks,[t("div",{class:r(["rounded-full border w-6 h-6 transition-all duration-500",e.isInvalidRemoteTxnHash?"border-red-primary":e.step2?"border-blue-primary":"border-gray-300"])},[t("div",Ss,[e.isInvalidRemoteTxnHash?(n(),y(l,{key:0,icon:"times",class:"text-red-primary w-3 h-3 self-center inline-block transition-all duration-500"})):(n(),y(l,{key:1,icon:"check",class:r([e.step2?"text-blue-primary":"text-gray-300","w-3 h-3 self-center inline-block transition-all duration-500"])},null,8,["class"]))])],2)]),t("div",{class:r(["flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500",e.step2?"text-gray-700":"text-gray-300"])},[u(f(e.isInvalidRemoteTxnHash?e.transactionNotFound?"Transaction is not found":"Transaction has failed.":"ETH Transaction is successful:")+" ",1),!e.isInvalidRemoteTxnHash&&e.step2?(n(),i("div",Ts,[e.remoteTxnHash?(n(),i("div",Cs,[t("a",{href:e.remoteTxnLink,target:"_new",class:r([e.isInvalidRemoteTxnHash?"text-gray-300":"text-blue-primary","flex-grow break-all text-tsm self-center hover:underline"]),id:"validateTransfer",copyValue:e.remoteTxnHash,copySubject:"Transfer hash"},[v(l,{icon:"external-link-alt",class:"text-blue-primary w-3 h-3 self-center inline-block mr-2"}),u(f(e.remoteTxnHash),1)],10,Is),t("div",Ms,[e.step2?(n(),y(l,{key:0,icon:"copy",onClick:o[8]||(o[8]=c=>e.copy("validateTransfer")),class:"w-5 h-5 text-blue-primary cursor-pointer self-center ml-3 absoltue top-2 hover:opacity-90 duration-800 transition-all"})):m("",!0)])])):m("",!0)])):m("",!0),e.isInvalidRemoteTxnHash&&e.step2?(n(),i("div",Hs,[u(f(e.txtRemoteTransactionErrorMsg)+" ",1),v(C,{to:{name:"ViewServicesMainnetSwapEthOptions"},class:"bg-blue-primary text-white py-2 px-5 rounded-2xl w-24 block text-center my-3 font-bold"},{default:ae(()=>[u("Swap")]),_:1})])):m("",!0)],2)]),t("div",{class:r(["font-bold text-left text-xs md:text-sm mt-4",e.step3?"text-gray-700":"text-gray-300"])},"Step 2: Check swap status",2),t("div",As,[t("div",Es,[t("div",{class:r(["rounded-full border w-6 h-6",e.step3?"border-blue-primary":"border-gray-300"])},[t("div",Ps,[v(l,{icon:"check",class:r([e.step3?"text-blue-primary":"text-gray-300","w-3 h-3 self-center inline-block"])},null,8,["class"])])],2)]),t("div",{class:r(["flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500",e.step3?"text-gray-700":"text-gray-300"])},"Requesting from swap service",2)]),t("div",Ns,[t("div",Vs,[t("div",{class:r(["rounded-full border w-6 h-6",e.isInvalidSwapCheck&&e.step4?"border-red-primary":e.step4?"border-blue-primary":"border-gray-300"])},[t("div",Rs,[e.isInvalidSwapCheck&&e.step4?(n(),y(l,{key:0,icon:"times",class:"text-red-primary w-3 h-3 self-center inline-block"})):(n(),y(l,{key:1,icon:"check",class:r([e.step4?"text-blue-primary":"text-gray-300","w-3 h-3 self-center inline-block"])},null,8,["class"]))])],2)]),t("div",{class:r(["flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500",e.step4?"text-gray-700":"text-gray-300"])},[u(f(e.isInvalidSwapCheck&&e.step4?e.isCheckSwapStatusNotFound?"Transaction is not found in swap service:":"Transaction is invalid in the swap service:":"Swap is successful:")+" ",1),!e.isInvalidSwapCheck&&e.step4?(n(),i("div",js,[e.siriusTxnHash?(n(),i("div",Ls,[t("a",{href:e.siriusTxnLink,target:"_new",class:"text-blue-primary flex-grow break-all text-tsm self-center hover:underline",id:"validateTransfer",copyValue:e.remoteTxnHash,copySubject:"Transfer hash"},[v(l,{icon:"external-link-alt",class:"text-blue-primary w-3 h-3 self-center inline-block mr-2"}),u(f(e.siriusTxnHash),1)],8,Ds),t("div",Us,[e.step4?(n(),y(l,{key:0,icon:"copy",onClick:o[9]||(o[9]=c=>e.copy("validateTransfer")),class:"w-5 h-5 text-blue-primary cursor-pointer self-center ml-3 absoltue top-2 hover:opacity-90 duration-800 transition-all"})):m("",!0)])])):m("",!0),Fs])):m("",!0),e.isInvalidSwapCheck&&e.step4?(n(),i("div",Bs,[t("div",Ws,[t("button",{disabled:e.isInitiateSwap,onClick:o[10]||(o[10]=(...c)=>e.displayInitiateSwapPanel&&e.displayInitiateSwapPanel(...c)),class:"sm:flex-none justify-start sm:justify-end bg-blue-primary h-15 w-40 rounded mr-5 focus:outline-none text-tsm font-bold py-2 border border-blue-primary px-8 text-white hover:shadow-lg mt-3 sm:mt-0 disabled:opacity-50 self-center",type:"button"},"Initiate swap",8,Os),qs])])):m("",!0),e.isInitiateSwap?(n(),i("div",Qs,[t("div",zs,[t("div",Js,[v(Z,{modelValue:e.siriusAddressSelected,"onUpdate:modelValue":o[11]||(o[11]=c=>e.siriusAddressSelected=c),placeholder:"To Sirius Chain Account",selectDefault:e.walletState.currentLoggedInWallet.selectDefaultAccount().address},null,8,["modelValue","selectDefault"])]),t("button",{disabled:!e.siriusAddressSelected||!e.disableConfirmAddressSelection,onClick:o[12]||(o[12]=(...c)=>e.confirmAddress&&e.confirmAddress(...c)),class:"sm:flex-none justify-start sm:justify-end bg-blue-primary h-15 w-40 rounded-3xl sm:ml-5 focus:outline-none text-tsm font-bold py-2 border border-blue-primary px-8 text-white hover:shadow-lg mt-3 sm:mt-2 disabled:opacity-50 self-center",type:"button"},"Confirm",8,Zs)])])):m("",!0)],2)]),e.isInitiateSwap?(n(),i("div",Gs,[t("div",{class:r(["font-bold text-left text-xs md:text-sm mt-4",e.step5?"text-gray-700":"text-gray-300"])},"Step 3: Validate your Sirius address",2),t("div",Ks,[t("div",Xs,[t("div",{class:r(["rounded-full border w-6 h-6",e.step5?"border-blue-primary":"border-gray-300"])},[t("div",Ys,[v(l,{icon:"check",class:r([e.step5?"text-blue-primary":"text-gray-300","w-3 h-3 self-center inline-block"])},null,8,["class"])])],2)]),t("div",{class:r(["flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500",e.step5?"text-gray-700":"text-gray-300"])},"Sending message to MetaMask",2)]),t("div",$s,[t("div",ea,[t("div",{class:r(["rounded-full border w-6 h-6",e.isInvalidSignedMeta?"border-red-primary":e.step6?"border-blue-primary":"border-gray-300"])},[t("div",ta,[e.isInvalidSignedMeta?(n(),y(l,{key:0,icon:"times",class:"text-red-primary w-3 h-3 self-center inline-block"})):(n(),y(l,{key:1,icon:"check",class:r([e.step5?"text-blue-primary":"text-gray-300","w-3 h-3 self-center inline-block"])},null,8,["class"]))])],2)]),t("div",{class:r(["flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500",e.step6?"text-gray-700":"text-gray-300"])},[u(f(e.signatureMessage)+" ",1),e.isInvalidSignedMeta?(n(),i("div",sa,[t("button",{type:"button",class:"bg-blue-primary rounded-3xl mr-5 focus:outline-none text-tmd py-2 px-4 text-white hover:shadow-lg w-24",onClick:o[13]||(o[13]=(...c)=>e.getSigned&&e.getSigned(...c))},"Retry")])):m("",!0)],2)]),t("div",aa,[t("div",na,[t("div",{class:r(["rounded-full border w-6 h-6",e.step7?"border-blue-primary":"border-gray-300"])},[t("div",oa,[v(l,{icon:"check",class:r([e.step7?"text-blue-primary":"text-gray-300","w-3 h-3 self-center inline-block"])},null,8,["class"])])],2)]),t("div",{class:r(["flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500",e.step7?"text-gray-700":"text-gray-300"])},[u("Message signed with signature: "),e.messageHash&&e.step7?(n(),i("div",ra,[t("div",{class:r([e.step7?"text-gray-500":"text-gray-300","text-tsm break-all flex-grow"]),id:"validateMessage",copyValue:e.messageHash,copySubject:"Signature hash"},f(e.messageHash),11,ia),t("div",la,[e.step7?(n(),y(l,{key:0,icon:"copy",onClick:o[14]||(o[14]=c=>e.copy("validateMessage")),class:"w-5 h-5 text-blue-primary cursor-pointer self-center ml-3 absoltue top-2 hover:opacity-90 duration-800 transition-all"})):m("",!0)])])):m("",!0)],2)]),t("div",{class:r(["font-bold text-left text-xs md:text-sm mt-4",e.step8?"text-gray-700":"text-gray-300"])},"Step 4: Initiate swap",2),t("div",ca,[t("div",da,[t("div",{class:r(["rounded-full border w-6 h-6",e.isInvalidSwapService?"border-red-primary":e.step8?"border-blue-primary":"border-gray-300"])},[t("div",ua,[e.isInvalidSwapService?(n(),y(l,{key:0,icon:"times",class:"text-red-primary w-3 h-3 self-center inline-block"})):(n(),y(l,{key:1,icon:"check",class:r([e.step8?"text-blue-primary":"text-gray-300","w-3 h-3 self-center inline-block"])},null,8,["class"]))])],2)]),t("div",{class:r(["flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500",e.step8?"text-gray-700":"text-gray-300"])},[u(f(e.isInvalidSwapService?"Unable to send message to swap service":e.swapStatus208?"Swap has already been initiated earlier.":"Message sent to the swap service, swap initiated...")+" ",1),e.isInvalidSwapService&&e.swapServerErrIndex<=3?(n(),i("div",ma,[t("button",{type:"button",class:"bg-blue-primary rounded-3xl mr-5 focus:outline-none text-tmd py-2 px-4 text-white hover:shadow-lg disabled:opacity-50",onClick:o[15]||(o[15]=(...c)=>e.afterSigned&&e.afterSigned(...c)),disabled:e.disableRetrySwap},f(e.retrySwapButtonText),9,fa)])):m("",!0),e.swapServerErrIndex>3?(n(),i("div",ha,[u(" Sorry. Please save the "),va,u(", the "),xa,u(" and contact our "),ya,u(". ")])):m("",!0)],2)])])):m("",!0)]),t("div",ba,[e.isInitiateSwap&&!e.swapStatus208?(n(),i("button",{key:0,type:"submit",class:"default-btn focus:outline-none disabled:opacity-50",disabled:e.isDisabledValidate,onClick:o[16]||(o[16]=c=>e.validated())},f(x.$t("general.continue")),9,pa)):(n(),y(C,{key:1,to:{name:"ViewServicesMainnetSwap"},class:r(["default-btn focus:outline-none w-40 inline-block",e.isDisabledValidate?"opacity-50":""]),is:e.isDisabledValidate?"span":"router-link",tag:"button"},{default:ae(()=>[u("Done")]),_:1},8,["class","is"]))])])):m("",!0),e.currentPage==3?(n(),i("div",wa,[t("div",null,[_a,ga,v(N,{networkTerm:"ETH",swapType:"In",swapId:e.swapId,swapTimestamp:e.swapTimestamp,transactionHash:e.transactionHash,siriusName:e.siriusAddressSelectedName,swappedAmount:e.amount,siriusAddress:e.Helper.createAddress(e.siriusAddressSelected).pretty(),swapQr:e.swapQr,swapLink:e.remoteTxnLink},null,8,["swapId","swapTimestamp","transactionHash","siriusName","swappedAmount","siriusAddress","swapQr","swapLink"]),t("button",{type:"button",class:"w-40 hover:shadow-lg bg-blue-primary text-white text-xs hover:opacity-50 rounded font-bold px-4 py-3 border border-blue-primary outline-none mr-4 mt-6",onClick:o[17]||(o[17]=(...c)=>e.saveCertificate&&e.saveCertificate(...c))},"Download Certificate"),t("div",ka,[t("a",{href:e.remoteTxnLink,target:"_new",class:"underline self-center text-xs font-bold text-blue-primary"},[u("View Transaction"),v(l,{icon:"external-link-alt",class:"ml-2 text-blue-500 w-3 h-3 self-center inline-block"})],8,Sa)]),Ta,t("div",Ca,[Ia,t("div",Ma,f(e.currentAccount),1),t("div",Ha,"Swap Amount "+f(e.amount),1),Aa,t("div",Ea,"To: "+f(e.siriusAddressSelectedName),1),t("div",null,f(e.Helper.createAddress(e.siriusAddress).pretty()),1),t("div",Pa,[u("Equivalent to "+f(e.amountReceived)+" of "+f(e.currentNativeTokenName)+" ",1),Na])]),Va,t("label",Ra,[lt(t("input",{type:"checkbox",class:"h-5 w-5 bg-blue-primary",value:"true","onUpdate:modelValue":o[18]||(o[18]=c=>e.savedCheck=c)},null,512),[[ct,e.savedCheck]]),ja]),t("div",La,[v(C,{to:{name:"ViewServicesMainnetSwap"},class:r(["default-btn mr-5 focus:outline-none w-40 inline-block mt-1",e.savedCheck?"":"opacity-50"]),is:e.savedCheck?"router-link":"span",tag:"button"},{default:ae(()=>[u("Done")]),_:1},8,["class","is"])])])])):m("",!0)])])])}const Ya=at(bt,[["render",Da]]);export{Ya as default};
