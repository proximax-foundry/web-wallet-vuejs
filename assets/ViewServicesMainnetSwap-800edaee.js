import{_ as E,j as R,g as p,bc as $,n as P,k as D,c as d,r as X,o as g,f as S,e as l,t as r,h,l as M,b as B,s as w,i as O}from"./index-5ab99b99.js";import{S as V}from"./swapUtils-172f46ba.js";import{_ as j}from"./bsc-e621c678.js";import"./jspdf.es.min-b6ad787d.js";import"./qrcode-44711ddc.js";const H={name:"ViewServicesMainnetSwap",setup(){const{t:a}=R(),e=p([]);e.value.bsc=!1;const x=s=>{s=="nis1"&&!i.value.nis1?e.value.nis1=!e.value.nis1:s=="eth"&&!i.value.eth?e.value.eth=!e.value.eth:s=="bsc"&&!i.value.bsc&&(e.value.bsc=!e.value.bsc)};let t=new $(P.chainNetworkName);t.init();const C=s=>s=="bsc"?t.swap_XPX_BSC_URL:s=="eth"?t.swap_XPX_ETH_URL:"",y=t.priceConsultURL,b=D(),i=p([]);i.value.bsc=!1;const u=p([]);u.value.bsc=!1;const o=p([]);o.value.bsc=!1;const n=p([]);n.value.bsc=!1;const c=p([]);c.value.bsc=!1;const L=d(()=>{let s="Sirius Chain to NIS1";return o.value.nis1?a("swap.failConnect"):n.value.nis1?a("swap.serviceUnavailable"):s}),T=d(()=>{let s=a("swap.siriusToEth");return o.value.eth?a("swap.failConnect"):n.value.eth?a("swap.serviceUnavailable"):s}),U=d(()=>{let s=a("swap.siriusToBsc");return o.value.bsc?a("swap.failConnect"):n.value.bsc?a("swap.serviceUnavailable"):s});return{open:e,openMenu:x,isChecking:c,displayWaitMessage:u,displayErrorMessage:n,displayConnectionMessage:o,isOutgoingOptionDisabled:i,gotoOutgoingPage:async s=>{if(!c.value[s]){i.value[s]=!0,c.value[s]=!0,u.value[s]=!0,o.value[s]=!1,n.value[s]=!1;try{const m=await fetch(V.checkSwapService(C(s))),_=await fetch(V.checkSwapPrice(y)),v=await _.json();c.value[s]=!1;let f;if(s=="eth"?f=v.eth:s=="bsc"&&(f=v.bsc),v.xpx===0||f===0){u.value[s]=!1,n.value[s]=!0,i.value[s]=!1;return}m.status==200&&_.status==200?(n.value[s]=!1,u.value[s]=!1,s=="eth"?b.push({name:"ViewServicesMainnetSwapSiriusToETH"}):s=="bsc"&&b.push({name:"ViewServicesMainnetSwapSiriusToBSC"})):(u.value[s]=!1,n.value[s]=!0,i.value=!1)}catch{u.value[s]=!1,n.value[s]=!1,o.value[s]=!0,i.value[s]=!1,c.value[s]=!1}}},displayOutgoingETHSwapLabel:T,displayOutgoingBSCSwapLabel:U,displayOutgoingNIS1SwapLabel:L}}},I={class:"lg:w-9/12 ml-2 mr-2 lg:ml-auto lg:mr-auto mt-5"},W={class:"mt-6 px-6 py-10 border filter shadow-lg text-center"},z={class:"text-md mb-3"},F={class:"inline-block relative w-full sm:w-80 text-left mt-5 transition-all duration-500"},q={class:"text-left pl-5"},A={class:"text-md font-bold"},G={class:"text-xs"},J={key:0,class:"w-full text-left z-20 bg-white"},K={class:"bg-blue-100 border-blue-100 uppercase py-2 px-5 text-xxs"},Q={key:0,style:{"border-top-color":"transparent"},class:"inline-block ml-2 w-5 h-5 border-4 border-gray-700 border-solid rounded-full animate-spin"};function Y(a,e,x,t,C,y){const b=X("router-link");return g(),S("div",null,[l("div",I,[l("div",W,[l("div",z,r(a.$t("swap.mainNetworkSwap")),1),e[8]||(e[8]=l("template",null,null,-1)),l("div",F,[l("div",{class:h(["border inline-block w-full mt-4 rounded shadow-md filter",`${t.open.bsc?"border-blue-500":"border-gray-200"}`]),style:{top:"205px"},onClick:e[1]||(e[1]=i=>t.openMenu("bsc"))},[l("div",{class:h(["flex items-center w-full px-5 h-20 cursor-pointer hover:bg-blue-50 transition-all duration-500",`${t.open.bsc?"bg-blue-50":"bg-white"}`])},[e[2]||(e[2]=l("img",{src:j,class:"float-left"},null,-1)),l("div",q,[l("div",A,r(a.$t("swap.bsc")),1),l("div",G,r(a.$t("swap.bscFull")),1)])],2),t.open.bsc?(g(),S("div",J,[l("div",K,r(a.$t("general.selectOption")),1),M(b,{to:{name:"ViewServicesMainnetSwapBSCToSirius"},class:"block py-3 px-5 text-sm font-bold hover:bg-blue-500 hover:text-white transition-all duration-500 cursor-pointer"},{default:B(()=>[w(r(a.$t("swap.bscToSirius")),1)]),_:1}),l("div",{class:h(["py-3 px-5 text-sm font-bold transition-all duration-500 flex justify-between",`${t.displayWaitMessage.bsc?"":"cursor-pointer hover:bg-blue-500 hover:text-white"}`]),onClick:e[0]||(e[0]=i=>t.gotoOutgoingPage("bsc"))},[w(r(t.displayOutgoingBSCSwapLabel),1),t.displayWaitMessage.bsc?(g(),S("div",Q)):O("",!0)],2),M(b,{to:{name:"ViewServicesMainnetSwapCheckBSCToSirius"},class:"block py-3 px-5 text-sm font-bold hover:bg-blue-500 hover:text-white transition-all duration-500 cursor-pointer"},{default:B(()=>[w(r(a.$t("swap.checkStatus")),1)]),_:1})])):O("",!0)],2),e[3]||(e[3]=l("br",null,null,-1)),e[4]||(e[4]=l("br",null,null,-1)),e[5]||(e[5]=l("br",null,null,-1)),e[6]||(e[6]=l("template",null,null,-1)),e[7]||(e[7]=l("br",null,null,-1))])])])])}const as=E(H,[["render",Y]]);export{as as default};
