import{d as b,r as p,c as S,a as D,S as B,o as n,b as u,e as o,x as k,t as m,P as q,f as v,j as C,_ as I}from"./index-077dd2ca.js";import{_ as N}from"./icon-info-8b4f1351.js";const V={class:"border border-gray-200 px-2 py-1 h-14 rounded-md"},w={class:"uppercase text-gray-500 text-txs text-left mb-2"},F={key:0,src:N,class:"inline-block ml-1 relative cursor-pointer",style:{top:"-1px"}},T=["value","placeholder"],E={class:"h-3 mb-2"},L={key:0,class:"error error-text text-left"},f=16,P=b({__name:"SupplyInputClean",props:{modelValue:{type:String,required:!0},decimal:{type:Number,required:!0},placeholder:{type:String,required:!0},toolTip:{type:String,required:!1},disabled:{type:Boolean,required:!1},showError:{type:Boolean,required:!1},errorMessage:{type:String,required:!1}},emits:["update:modelValue","show-error"],setup(l,{emit:y}){const g=l,d=y,s=p(g.modelValue),i=p(0),h=(e,r)=>{const t=e.key;return t>="0"&&t<="9"||t==="."||t==="Backspace"||t==="Delete"||t==="ArrowLeft"||t==="ArrowRight"?(t==="."&&r.includes(".")&&e.preventDefault(),!0):(e.preventDefault(),!1)},x=e=>{isNaN(parseFloat(e))?s.value="0":s.value=e,d("update:modelValue",s.value)},_=e=>{e.target.value=c.value},c=S(()=>Intl.NumberFormat("en-US",{maximumFractionDigits:i.value}).format(parseFloat(s.value)));return D(s,(e,r)=>{if(e.includes(".")){const[t,a]=e.split(".");i.value=f-t.length,a&&a.length>i.value&&(s.value=r)}else e.length>f&&(s.value=r);d("update:modelValue",s.value)}),(e,r)=>{const t=B("tooltip");return n(),u("div",{class:C(l.disabled?"opacity-50":"")},[o("div",V,[o("div",w,[k(m(l.placeholder)+" ",1),l.toolTip?q((n(),u("img",F,null,512)),[[t,{value:"<tiptext>"+l.toolTip+"</tiptext>",escape:!1},void 0,{bottom:!0}]]):v("",!0)]),o("input",{value:c.value,class:"supply_input",placeholder:l.placeholder,onInput:r[0]||(r[0]=a=>x(parseFloat(a.target.value.replace(/,/g,"")).toString())),onKeypress:r[1]||(r[1]=a=>h(a,a.target.value)),onBlur:r[2]||(r[2]=a=>_(a))},null,40,T)]),o("div",E,[l.showError?(n(),u("div",L,m(l.errorMessage),1)):v("",!0)])],2)}}});const M=I(P,[["__scopeId","data-v-d08ac0cb"]]);export{M as S};
