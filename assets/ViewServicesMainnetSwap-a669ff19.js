import{_ as E,u as R,r as p,bc as $,n as P,q as D,c as f,k as X,o as h,b as g,e as s,t as c,l as _,s as M,z as B,B as S,f as O}from"./index-4955abbe.js";import{S as V}from"./swapUtils-94fbfa00.js";import{_ as z}from"./bsc-e621c678.js";import"./jspdf.es.min-a66d4a8b.js";import"./qrcode-a2383e73.js";const H={name:"ViewServicesMainnetSwap",setup(){const{t:a}=R(),l=p([]);l.value.bsc=!1;const w=e=>{e=="nis1"&&!i.value.nis1?l.value.nis1=!l.value.nis1:e=="eth"&&!i.value.eth?l.value.eth=!l.value.eth:e=="bsc"&&!i.value.bsc&&(l.value.bsc=!l.value.bsc)};let t=new $(P.chainNetworkName);t.init();const x=e=>e=="bsc"?t.swap_XPX_BSC_URL:e=="eth"?t.swap_XPX_ETH_URL:"",C=t.priceConsultURL,d=D(),i=p([]);i.value.bsc=!1;const o=p([]);o.value.bsc=!1;const u=p([]);u.value.bsc=!1;const n=p([]);n.value.bsc=!1;const r=p([]);r.value.bsc=!1;const L=f(()=>{let e="Sirius Chain to NIS1";return u.value.nis1?a("swap.failConnect"):n.value.nis1?a("swap.serviceUnavailable"):e}),T=f(()=>{let e=a("swap.siriusToEth");return u.value.eth?a("swap.failConnect"):n.value.eth?a("swap.serviceUnavailable"):e}),U=f(()=>{let e=a("swap.siriusToBsc");return u.value.bsc?a("swap.failConnect"):n.value.bsc?a("swap.serviceUnavailable"):e});return{open:l,openMenu:w,isChecking:r,displayWaitMessage:o,displayErrorMessage:n,displayConnectionMessage:u,isOutgoingOptionDisabled:i,gotoOutgoingPage:async e=>{if(!r.value[e]){i.value[e]=!0,r.value[e]=!0,o.value[e]=!0,u.value[e]=!1,n.value[e]=!1;try{const y=await fetch(V.checkSwapService(x(e))),m=await fetch(V.checkSwapPrice(C)),b=await m.json();r.value[e]=!1;let v;if(e=="eth"?v=b.eth:e=="bsc"&&(v=b.bsc),b.xpx===0||v===0){o.value[e]=!1,n.value[e]=!0,i.value[e]=!1;return}y.status==200&&m.status==200?(n.value[e]=!1,o.value[e]=!1,e=="eth"?d.push({name:"ViewServicesMainnetSwapSiriusToETH"}):e=="bsc"&&d.push({name:"ViewServicesMainnetSwapSiriusToBSC"})):(o.value[e]=!1,n.value[e]=!0,i.value=!1)}catch{o.value[e]=!1,n.value[e]=!1,u.value[e]=!0,i.value[e]=!1,r.value[e]=!1}}},displayOutgoingETHSwapLabel:T,displayOutgoingBSCSwapLabel:U,displayOutgoingNIS1SwapLabel:L}}},I={class:"lg:w-9/12 ml-2 mr-2 lg:ml-auto lg:mr-auto mt-5"},W={class:"mt-6 px-6 py-10 border filter shadow-lg text-center"},j={class:"text-md mb-3"},q=s("template",null,null,-1),F={class:"inline-block relative w-full sm:w-80 text-left mt-5 transition-all duration-500"},A=s("img",{src:z,class:"float-left"},null,-1),G={class:"text-left pl-5"},J={class:"text-md font-bold"},K={class:"text-xs"},Q={key:0,class:"w-full text-left z-20 bg-white"},Y={class:"bg-blue-100 border-blue-100 uppercase py-2 px-5 text-xxs"},Z={key:0,style:{"border-top-color":"transparent"},class:"inline-block ml-2 w-5 h-5 border-4 border-gray-700 border-solid rounded-full animate-spin"},k=s("br",null,null,-1),N=s("br",null,null,-1),ee=s("br",null,null,-1),se=s("template",null,null,-1),ae=s("br",null,null,-1);function le(a,l,w,t,x,C){const d=X("router-link");return h(),g("div",null,[s("div",I,[s("div",W,[s("div",j,c(a.$t("swap.mainNetworkSwap")),1),q,s("div",F,[s("div",{class:_(["border inline-block w-full mt-4 rounded shadow-md filter",`${t.open.bsc?"border-blue-500":"border-gray-200"}`]),style:{top:"205px"},onClick:l[1]||(l[1]=i=>t.openMenu("bsc"))},[s("div",{class:_(["flex items-center w-full px-5 h-20 cursor-pointer hover:bg-blue-50 transition-all duration-500",`${t.open.bsc?"bg-blue-50":"bg-white"}`])},[A,s("div",G,[s("div",J,c(a.$t("swap.bsc")),1),s("div",K,c(a.$t("swap.bscFull")),1)])],2),t.open.bsc?(h(),g("div",Q,[s("div",Y,c(a.$t("general.selectOption")),1),M(d,{to:{name:"ViewServicesMainnetSwapBSCToSirius"},class:"block py-3 px-5 text-sm font-bold hover:bg-blue-500 hover:text-white transition-all duration-500 cursor-pointer"},{default:B(()=>[S(c(a.$t("swap.bscToSirius")),1)]),_:1}),s("div",{class:_(["py-3 px-5 text-sm font-bold transition-all duration-500 flex justify-between",`${t.displayWaitMessage.bsc?"":"cursor-pointer hover:bg-blue-500 hover:text-white"}`]),onClick:l[0]||(l[0]=i=>t.gotoOutgoingPage("bsc"))},[S(c(t.displayOutgoingBSCSwapLabel),1),t.displayWaitMessage.bsc?(h(),g("div",Z)):O("",!0)],2),M(d,{to:{name:"ViewServicesMainnetSwapCheckBSCToSirius"},class:"block py-3 px-5 text-sm font-bold hover:bg-blue-500 hover:text-white transition-all duration-500 cursor-pointer"},{default:B(()=>[S(c(a.$t("swap.checkStatus")),1)]),_:1})])):O("",!0)],2),k,N,ee,se,ae])])])])}const re=E(H,[["render",le]]);export{re as default};
