import{_ as R,d as G,k as f,b,s as d,e as t,m as I,z as P,f as v,v as J,t as s,c as y,E as K,u as Q,D as Y,n as S,r,I as O,o as i,B as j,w as B,W as A,A as X,p as Z,j as ee}from"./index-47dceba4.js";import{T as te}from"./TextInput-b080f794.js";import{_ as oe}from"./PasswordInput.vue_vue_type_script_setup_true_lang-d6fe97da.js";import{c as se}from"./functions-f6374fdc.js";import{I as le}from"./IntroTextComponent-456d9973.js";import{S as ae}from"./SelectNetworkInput-d2f08ae1.js";import{t as re}from"./jdenticon-module-f990edd3.js";import{E as ne}from"./jspdf.es.min-4c0a1759.js";import{q as ie}from"./qrcode-892fff83.js";import{p as de}from"./pdfPaperWalletBackground-9b716104.js";import{_ as ce}from"./chevron_left-0423cb29.js";import{_ as me}from"./icon-green-tick-1b766454.js";const pe=G({name:"ViewWalletCreate",components:{IntroTextComponent:le,TextInput:te,PasswordInput:oe,SelectNetworkInput:ae},data(){return{showPK:!1}},setup(){const e=y(()=>K.nativeToken.label),{t:o}=Q(),W=Y(),x=y(()=>S.chainNetwork),_=y(()=>K.networkType),$=y(()=>S.chainNetworkName),h=r(""),w=r(null),p=r(""),c=r(""),m=r(""),n=r(""),l=r(!1),V="^[^ ]{8,}$",H=r(!1),C=r(""),M=r(""),T=r(""),E=new O("ThemeStyleConfig");E.init();const U=r(re(C.value,75,E.jdenticonConfig)),D=a=>{let u=document.getElementById(a).getAttribute("copyValue"),g=document.getElementById(a).getAttribute("copySubject");se(u),W.add({severity:"info",detail:g+" "+o("general.copied"),group:"br-custom",life:3e3})},L=y(()=>!(p.value!==""&&c.value.match(V)&&m.value===c.value)),q=y(()=>m.value!=c.value&&m.value!=""),z=()=>{if(h.value="",B.wallets.filterByNetworkNameAndName($.value,p.value))h.value=o("wallet.walletNameExist");else{let a=A.createPassword(c.value);const u=A.addNewWallet(B.wallets,a,p.value,$.value,_.value);w.value=u.wallet,n.value=u.privateKey,T.value=u.wallet.name;let g=X.Account.createFromPrivateKey(n.value,_.value,1);C.value=g.address.pretty(),M.value=g.publicKey}},F=(a,u=2,g=0)=>{const N=ie(10,"H");return N.addData(a),N.make(),N.createDataURL(u,g)};return{networkState:S,err:h,newWallet:w,selectedNetwork:x,selectedNetworkType:_,selectedNetworkName:$,walletName:p,passwd:c,privateKey:n,address:C,publicKey:M,confirmPasswd:m,showPasswdError:l,showConfirmPasswdError:q,passwdPattern:V,createWallet:z,disableCreate:L,clearInput:()=>{p.value="",c.value="",m.value=""},copy:D,currentNativeTokenName:e,saveWalletPaper:()=>{const a=new ne({unit:"px"});a.addImage(de,"JPEG",120,60,205,132),a.addImage(F(n.value,1,0),151.5,105),a.setFontSize(8),a.setTextColor("#000000"),a.text(C.value,146,164,{maxWidth:132}),a.save("Your_Paper_Wallet")},svgString:U,toggleModal:H,accName:T}}}),k=e=>(Z("data-v-7376f841"),e=e(),ee(),e),ue={key:0,class:"container mx-auto md:grid md:grid-cols-2 md:mt-10 lg:px-20 xl:px-40 gap-4"},ve={class:"md:col-span-1 bg-white mx-5 md:mx-0 px-30 pt-1 md:pt-0 rounded-md"},we=k(()=>t("img",{src:ce,class:"w-5 inline-block"},null,-1)),ge={class:"text-sm text-center mt-20 mb-6 font-semibold"},fe={class:"w-8/12 ml-auto mr-auto"},be={key:0,class:"error error_box"},ye={class:"w-8/12 ml-auto mr-auto mt-3"},he=["disabled"],ke={class:"mt-12 text-center text-xs mb-1"},_e={class:"text-center text-xs text-blue-link font-semibold"},$e=k(()=>t("div",{class:"h-20"},null,-1)),Ce={key:1,class:"mr-auto ml-auto w-8/12 mt-3"},Ie={class:"mb-8"},Ne={class:"border border-green-300 px-6 pb-3 bg-green-50"},Pe={class:"flex items-center gap-3"},Se=k(()=>t("img",{src:me,class:"h-10 w-10 pt-3 mr-2"},null,-1)),We={class:"flex flex-col w-full"},xe={class:"flex"},Ve={class:"text-xs text-green-500 font-semibold pt-3"},Me={class:"text-xxs mt-1"},Te={class:"border-2 shadow-lg filter mb-10 bg-white"},Ee={class:"flex items-center"},Ke=["innerHTML"],je={class:"flex flex-col justify-center ml-4"},Be={class:"flex"},Ae={class:"font-semibold text-md"},He={class:"flex"},Ue=["copyValue"],De={class:"border p-6 bg-white"},Le={class:"text-xxs text-blue-primary mt-2 font-semibold uppercase"},qe={class:"flex"},ze=["copyValue","copySubject"],Fe=k(()=>t("div",{class:"my-6 gray-line"},null,-1)),Re={class:"text-xxs text-blue-primary mt-0.5 font-semibold uppercase"},Ge={class:"flex"},Je={key:0,class:"break-all font-semibold w-44 truncate md:w-auto"},Qe={class:"flex"},Ye=["copyValue","copySubject"],Oe={class:"text-txs mt-2 text-red-400 border px-1.5 py-2 border-red-400 rounded-md"},Xe=k(()=>t("div",{class:"my-6 gray-line"},null,-1)),Ze={class:"flex flex-col md:flex-row gap-3 text-center"},et={class:"blue-btn cursor-pointer py-3 px-3"};function tt(e,o,W,x,_,$){const h=f("IntroTextComponent"),w=f("router-link"),p=f("SelectNetworkInput"),c=f("TextInput"),m=f("PasswordInput"),n=f("font-awesome-icon");return i(),b("div",null,[e.newWallet?(i(),b("div",Ce,[t("div",Ie,[t("div",Ne,[t("div",Pe,[Se,t("div",We,[t("div",xe,[t("div",Ve,s(e.$t("general.congratz")),1)]),t("div",Me,s(e.$t("wallet.walletCreated"))+" "+s(e.$t("general.pkWarning")),1)])])])]),t("div",Te,[t("div",Ee,[t("div",{innerHTML:e.svgString},null,8,Ke),t("div",je,[t("div",Be,[t("div",Ae,s(e.accName),1)]),t("div",He,[t("div",{id:"address",copyValue:e.address,copySubject:"Address",class:"text-xs font-semibold mt-1 w-36 truncate md:w-auto"},s(e.address),9,Ue),d(n,{icon:"copy",title:e.$t("general.copy"),onClick:o[4]||(o[4]=l=>e.copy("address")),class:"ml-2 w-5 h-5 text-blue-link cursor-pointer"},null,8,["title"])])])])]),t("div",De,[t("div",Le,s(e.$t("general.publicKey")),1),t("div",qe,[t("div",{id:"public",class:"text-xs font-semibold mt-1 break-all w-44 truncate md:w-auto",copyValue:e.publicKey,copySubject:e.$t("general.publicKey")},s(e.publicKey),9,ze),d(n,{icon:"copy",onClick:o[5]||(o[5]=l=>e.copy("public")),title:e.$t("general.copy"),class:"ml-2 mt-0.5 pb-1 w-5 h-5 text-blue-link cursor-pointer"},null,8,["title"])]),Fe,t("div",null,[t("div",Re,s(e.$t("general.privateKey")),1),t("div",Ge,[e.toggleModal?v("",!0):(i(),b("div",Je,"****************************************************************")),e.toggleModal?v("",!0):(i(),I(n,{key:1,icon:"eye",title:e.$t("general.view")+" "+e.$t("general.privateKey"),class:"text-blue-link relative cursor-pointer ml-1",onClick:o[6]||(o[6]=l=>e.toggleModal=!e.toggleModal)},null,8,["title"]))]),t("div",Qe,[e.toggleModal?(i(),b("div",{key:0,id:"private",class:"text-xs mt-1 font-semibold break-all w-44 truncate md:w-auto",type:"text",copyValue:e.privateKey,copySubject:e.$t("general.privateKey")},s(e.privateKey),9,Ye)):v("",!0),e.toggleModal?(i(),I(n,{key:1,title:e.$t("general.copy"),icon:"copy",onClick:o[7]||(o[7]=l=>e.copy("private")),class:"ml-2 pb-1 w-5 h-5 text-blue-link mt-0.5 cursor-pointer"},null,8,["title"])):v("",!0),e.toggleModal?(i(),I(n,{key:2,icon:"eye-slash",title:e.$t("general.hide")+" "+e.$t("general.privateKey"),class:"text-blue-link relative cursor-pointer mt-0.5 ml-1",onClick:o[8]||(o[8]=l=>e.toggleModal=!e.toggleModal)},null,8,["title"])):v("",!0)]),t("div",Oe,s(e.$t("general.pkWarning")),1)]),Xe,t("div",Ze,[t("div",{onClick:o[9]||(o[9]=(...l)=>e.saveWalletPaper&&e.saveWalletPaper(...l)),class:"blue-btn cursor-pointer py-3 px-3"},s(e.$t("general.downloadPaperWallet")),1),d(w,{class:"md:ml-auto",to:{name:"Home"}},{default:P(()=>[t("div",et,s(e.$t("wallet.continueLogIn")),1)]),_:1})])])])):(i(),b("div",ue,[d(h),t("div",ve,[e.newWallet?v("",!0):(i(),I(w,{key:0,to:{name:"ViewWalletCreateSelection"},class:"text-xs m-2 text-blue-link items-center flex"},{default:P(()=>[we,j("Back")]),_:1})),t("form",{onSubmit:o[3]||(o[3]=J((...l)=>e.createWallet&&e.createWallet(...l),["prevent"]))},[t("div",ge,s(e.$t("wallet.createWallet")),1),t("div",fe,[e.err!=""?(i(),b("div",be,s(e.err),1)):v("",!0)]),d(p),t("div",ye,[d(c,{placeholder:e.$t("wallet.namePlaceholder"),errorMessage:e.$t("wallet.nameErrMsg"),modelValue:e.walletName,"onUpdate:modelValue":o[0]||(o[0]=l=>e.walletName=l),icon:"wallet"},null,8,["placeholder","errorMessage","modelValue"]),d(m,{class:"mt-3",placeholder:e.$t("wallet.enterPassword"),errorMessage:e.$t("wallet.passwordErrMsg"),showError:e.showPasswdError,icon:"lock",modelValue:e.passwd,"onUpdate:modelValue":o[1]||(o[1]=l=>e.passwd=l)},null,8,["placeholder","errorMessage","showError","modelValue"]),d(m,{class:"mt-3",placeholder:e.$t("wallet.confirmPassword"),errorMessage:e.$t("wallet.confirmPasswordErrMsg"),showError:e.showConfirmPasswdError,icon:"lock",modelValue:e.confirmPasswd,"onUpdate:modelValue":o[2]||(o[2]=l=>e.confirmPasswd=l)},null,8,["placeholder","errorMessage","showError","modelValue"])]),t("button",{type:"submit",class:"text-center mt-3 font-bold blue-btn py-3 block ml-auto mr-auto w-8/12 disabled:opacity-50",disabled:e.disableCreate},s(e.$t("wallet.createWallet")),9,he),t("div",ke,s(e.$t("wallet.haveWallet")),1),t("div",_e,[d(w,{to:{name:"Home"}},{default:P(()=>[j(s(e.$t("wallet.signInHere"))+" >",1)]),_:1})]),$e],32)])]))])}const gt=R(pe,[["render",tt],["__scopeId","data-v-7376f841"]]);export{gt as default};
