import{_ as St,u as At,c as p,B as u,A as Tt,l as It,r as n,a as X,w as S,H as o,b6 as Pt,n as _e,i as V,o as m,b as v,e as t,t as a,x as U,j as G,O as lt,aa as Ct,F as Nt,g as Mt,f as x,m as D,U as Gt,v as Ft,z as Be,W as Lt,I as Ut,J as Dt}from"./index-f7850f6e.js";import{_ as Et,S as Bt,M as Xt,a as Vt}from"./SelectInputAccountOutgoingSwap-fc99ec0d.js";import{S as Ht,_ as Ot}from"./icon-dots-b78c5f86.js";import{a as jt}from"./functions-aaab0f11.js";import{S as w}from"./swapUtils-bfdf04a1.js";import{_ as Rt}from"./bsc-e621c678.js";import{_ as rt}from"./metx-logo-27f23eae.js";import{_ as Wt}from"./proximax-logo-ecfc3767.js";import{_ as Kt}from"./icon-xpx-072deeab.js";import{g as nt}from"./index-8bf594ea.js";import"./icon-info-8b4f1351.js";import"./jdenticon-module-53ef8dd2.js";import"./delete-8b454e7f.js";import"./jspdf.es.min-faf91f1e.js";import"./qrcode-c4f964a5.js";const Jt="/web-wallet-vuejs/assets/icon-prx-xpx-blue-05a9ca17.svg";const Qt={name:"ViewServicesMainnetSwapMetxToBSC",components:{PasswordInputClean:Et,SwapInputClean:Bt,MetamaskAddressInput:Xt,SwapCertificateComponent:Ht,SelectInputAccountOutgoingSwap:Vt},setup(){const{t:s}=At(),i=p(()=>u.nativeToken.label),ke=Tt(),e=It(),Xe=n(!0),R=n(180),Se=p(()=>R.value%60),Ae=p(()=>Math.floor(R.value/60)),Te=setInterval(()=>{--R.value},1e3),b=n(""),W=n(""),te=X(()=>R.value,l=>{l<=0&&(ae(),c())}),ae=()=>{te(),Xe.value=!1,clearInterval(Te)},c=()=>{e.push({name:"ViewServicesMainnetSwap"})},E=n(1),Ve=n(!1),se=n(""),K=n(""),le=n(""),A=n(0),Ie=n(!1),He=p(()=>{if(!S.currentLoggedInWallet)return[];let l=S.currentLoggedInWallet.accounts.map(r=>({name:r.name,balance:r.balance,balanceDisplay:o.toCurrencyFormat(r.balance,u.nativeToken.divisibility),type:"",address:o.createAddress(r.address).pretty(),publicKey:r.publicKey,isMultisig:!!r.getDirectParentMultisig().length}));if(Ve.value){let r=S.currentLoggedInWallet.others.filter(d=>d.type==="MULTISIG").map(d=>({name:d.name,balance:d.balance,balanceDisplay:o.toCurrencyFormat(d.balance,u.nativeToken.divisibility),type:"MULTISIG",address:o.createAddress(d.address).pretty(),publicKey:d.publicKey,isMultisig:!0}));return l.concat(r)}else return l}),C=p(()=>He.value.find(l=>l.name===se.value)),B=n("");X(B,l=>{if(l){let r=S.currentLoggedInWallet.accounts.find(d=>d.address==l);if(r||(r=S.currentLoggedInWallet.others.find(d=>d.address==l)),se.value=r.name,K.value=r.address,b.value.name.toUpperCase()!="XPX"){let d=r.assets.findIndex(f=>f.idHex==b.value.assetId);A.value=d>-1?r.assets[d].amount:0,k.value=o.convertNumberMinimumFormat(A.value,M.value)}else A.value=r.balance,k.value=o.convertNumberMinimumFormat(r.balance-T.value-_.value,M.value);le.value=r.publicKey}else se.value="",K.value="",A.value="",le.value=""}),X(b,async l=>{let r=await u.chainAPI.assetAPI.getMosaic(new Be.MosaicId(l.assetId));if(M.value=r.divisibility,B.value!=""){let d=S.currentLoggedInWallet.accounts.find(f=>f.address==B.value);if(d||(d=S.currentLoggedInWallet.others.find(f=>f.address==B.value)),l.name.toUpperCase()!="XPX"){let f=d.assets.findIndex(I=>I.idHex==l.assetId);A.value=f>-1?d.assets[f].amount:0,k.value=o.convertNumberMinimumFormat(A.value,M.value)}else A.value=d.balance,k.value=o.convertNumberMinimumFormat(d.balance-T.value-_.value,M.value)}g.value>k.value&&pe()});const Pe=1e9,Ce=1.2,H=n(!1),P=n(!1),N=n(!1),ot=n(!1),ne=n(""),Oe="^[^ ]{8,}$",y=n(!1),J=n(!1),Ne=n(""),Q=n(""),it=p(()=>!(g.value>0&&ne.value.match(Oe)&&Q.value!=""&&!N.value&&y.value==!1)),g=n(0),je=u.nativeToken.fullNamespace,dt=o.createAsset(o.createNamespaceId(je).toHex(),1),ct=o.createAsset(o.createNamespaceId("prx.metx").toHex(),1),Re=u.buildTxn,re=Re.transferBuilder(),We=Re.aggregateCompleteBuilder();let Me={type:"Swap-xpx-bsc",remoteAddress:"0".repeat(42)};const ut=()=>{Me.remoteAddress=Q.value,Ke()};let oe={type:"Swap-xpx-bsc-fees",gasPrice:5,gasLimit:57500},O=new Pt(_e.chainNetworkName);O.init();let z=O.swap_XPX_BSC_URL,Ge=O.BSCScanUrl,mt=_e.currentNetworkProfile.chainExplorer.url+"/"+_e.currentNetworkProfile.chainExplorer.hashRoute+"/",Fe,Le,q=n([]);const M=n(0),vt=async()=>{let l=await w.getSwapTokenList(z);l&&(q.value=l,b.value=q.value[0],W.value=q.value[0].name,u.chainAPI.assetAPI.getMosaic(new Be.MosaicId(b.value.assetId)).then(r=>{M.value=r.properties.divisibility}))};(async()=>{try{const l=w.getServiceInfoURL(z),r=await w.getOutgoingSwapServiceInfo(l);Fe=r.siriusInfo.sinkingFundAddress,Le=r.siriusInfo.sinkingFeeAddress,ft()}catch{L(s("swap.serviceUnavailable"),s("swap.failGetSink")),c()}})(),vt();let Y,ie,de;const ft=()=>{ie=re.mosaics([ct]).recipient(o.createAddress(Fe)).message(o.createPlainMessage(JSON.stringify(Me))).build(),de=re.mosaics([dt]).recipient(o.createAddress(Le)).message(o.createPlainMessage(JSON.stringify(oe))).build(),Y=We.innerTransactions(o.createInnerTransaction([ie,de],"0".repeat(64))).build(),T.value=o.convertToExact(Y.maxFee.compact(),u.nativeToken.divisibility),F.value=T.value};let T=n(0);const pt=p(()=>o.toCurrencyFormat(T.value,u.nativeToken.divisibility)),Ke=()=>{let l;g.value<0?l=0:l=g.value;const r=o.createAsset(o.createNamespaceId(b.value.namespace).toHex(),o.convertToAbsolute(l,M.value)),d=o.createAsset(o.createNamespaceId(je).toHex(),o.convertToAbsolute(_.value,u.nativeToken.divisibility));ie=re.mosaics([r]).recipient(o.createAddress(Fe)).message(o.createPlainMessage(JSON.stringify(Me))).build(),de=re.mosaics([d]).recipient(o.createAddress(Le)).message(o.createPlainMessage(JSON.stringify(oe))).build(),Y=We.innerTransactions(o.createInnerTransaction([ie,de],le.value)).build(),T.value=o.convertToExact(Y.maxFee.compact(),u.nativeToken.divisibility)},Je=p(()=>ce.value*me.value/Pe),Qe=p(()=>Z.value*Ue.value/Pe),ze=p(()=>ue.value*De.value/Pe),qe=p(()=>o.convertNumberMinimumFormat(Je.value*fe.value,2)),Ye=p(()=>o.convertNumberMinimumFormat(Qe.value*fe.value,2)),Ze=p(()=>o.convertNumberMinimumFormat(ze.value*fe.value,2)),$e=p(()=>o.convertNumberMinimumFormat(qe.value/ve.value*Ce,u.nativeToken.divisibility)),et=p(()=>o.convertNumberMinimumFormat(Ye.value/ve.value*Ce,u.nativeToken.divisibility)),tt=p(()=>o.convertNumberMinimumFormat(Ze.value/ve.value*Ce,u.nativeToken.divisibility)),ce=n(0),Z=n(0),ue=n(0),me=n(55e3),Ue=n(55e3),De=n(55e3);(async()=>{if(u.networkType===Be.NetworkType.TEST_NET)ce.value=10,Z.value=10,ue.value=10;else{let l=await w.getBSC_SafeGwei(O.gasPriceConsultURL);if(l.status===0)console.log("Error, no data found. Please try again later");else{let r=l.result;ce.value=r.ProposeGasPrice,Z.value=r.FastGasPrice,ue.value=Math.ceil(Z.value*1.1)}}})(),(async()=>{let l=await w.getBSC_GasLimit(O.gasPriceConsultURL);l.status===0?console.log("Error, no gas limit data found. Please try again later"):(me.value=l.standardGasLimit,Ue.value=l.fastGasLimit,De.value=l.rapidGasLimit)})();const ve=n(0),fe=n(0),bt=n(0);(async()=>{let l=await jt(w.checkSwapPrice(O.priceConsultURL));ve.value=l.xpx,bt.value=l.metx,fe.value=l.bnb})();const pe=()=>{g.value=k.value};X(W,l=>{b.value=q.value.find(r=>r.name===l)});const xt=n(!1),be=n("");let $=n(0),ee=n(0),_=n(0);const k=n(0),F=n(0),gt=p(()=>C.value?C.value.balance<F.value:!1),at=l=>{be.value=l,l==="rapid"?($.value=De.value,ee.value=ue.value,_.value=tt.value):l==="fast"?($.value=Ue.value,ee.value=Z.value,_.value=et.value):($.value=me.value,ee.value=ce.value,_.value=$e.value),oe.gasPrice=ee.value,oe.gasLimit=$.value,F.value=o.convertNumberMinimumFormat(T.value+_.value,u.nativeToken.divisibility),wt(),Ke()},wt=async()=>{b.value.name.toUpperCase()!=="XPX"?C.value.balance<_.value+T.value?y.value=!0:y.value=!1:(C.value.balance<F.value&&(g.value=0),C.value.balance<F.value?J.value=!0:(J.value=!1,y.value=!1))};X(_,l=>{let r=S.currentLoggedInWallet.accounts.find(d=>d.address==B.value);r||(r=S.currentLoggedInWallet.others.find(d=>d.address==B.value)),b.value.name!="xpx"?(k.value=o.convertNumberMinimumFormat(A.value,M.value),g.value>k.value&&pe()):(k.value=o.convertNumberMinimumFormat(r.balance-T.value-l,u.nativeToken.divisibility),g.value>k.value&&pe())}),X(me,()=>{E.value==2&&(C.value.balance<=F.value?(J.value=!0,y.value=!0):(J.value=!1,y.value=!1))}),X([A,g],()=>{b.value.name.toUpperCase()!=="XPX"?g.value>k.value?y.value=!0:y.value=!1:A.value<g.value+F.value?y.value=!0:y.value=!1});const j=n(""),ht=()=>{N.value=!0,P.value=!0;try{nt(Q.value)&&(H.value=!1)}catch{H.value=!0,N.value=!1,P.value=!1}if(!H.value)if(Lt.verifyWalletPassword(S.currentLoggedInWallet.name,_e.chainNetworkName,ne.value)){if(Ne.value="",ut(),at(be.value),b.value.name=="xpx"){if(g.value+_.value+T.value>C.value.balance){L(s("swap.insufficientAmount"),s("swap.swapInsufficientAmount"),5e3);return}}else if(_.value+T.value>C.value.balance){L(s("swap.insufficientAmount"),s("swap.swapInsufficientAmount"),5e3);return}ae();let l=w.signTransaction(K.value,ne.value,Y);j.value=l.hash,yt().then(r=>{g.value<=r?_t(l.payload):L("Swap Server Error","Insufficient Balance from Funding Account",5e3)})}else Ne.value=s("general.walletPasswordInvalid",{name:S.currentLoggedInWallet.name}),N.value=!1,P.value=!1},yt=async()=>{const l=await w.checkTokenBalance(z,b.value.name);return l.status?l.tokenBalance:0},_t=async l=>{let d=JSON.stringify({txnInfo:{network:"bsc",siriusTxnPayload:l}});try{const f=await fetch(w.getOutgoing_SwapTransfer_URL(z,b.value.name),{method:"POST",headers:{"Content-Type":"application/json"},body:d});if(f.ok){u.txnSwapLog.find(ye=>ye.txnHash===j.value)||u.txnSwapLog.push({txnHash:j.value,accPubKey:le.value,status:"",statusMsg:"",relatedAddress:[],checkedNum:0});const I=await f.json();we.value=I.data.txHash,st.value=Ge+I.data.txHash,xe.value="",ge.value=I.data.swapId,he.value=w.generateQRCode(Ge+I.data.txHash),E.value=3}else if(f.status==400){const I=await f.json();L(s("swap.swapOperationFail"),I.data.message),N.value=!1,P.value=!1}else if(f.status==409)Ee.value=!0,P.value=!1;else if(f.status==503){const I=await f.json();let ye=I.data.message?I.data.message:"";ke.add({severity:"warn",summary:s("swap.serviceUnavailable"),detail:ye||s("swap.tryAgain"),group:"br-custom"}),N.value=!1,P.value=!1}else f.status==504&&(L(s("swap.timedOut"),s("swap.checkStatusAgain")),P.value=!1,Ee.value=!0)}catch{L(s("swap.networkErr"),s("swap.serverNotFound")),N.value=!1,P.value=!1}},kt=async()=>{const l=await fetch(w.getOutgoing_SwapCheckByTxID_URL(z,j.value));if(l.status==200){const r=await l.json();we.value=r.fulfillTransaction,xe.value="",ge.value=r.data._id,he.value=w.generateQRCode(Ge+r.fulfillTransaction),E.value=2}else L(s("swap.swapNotFound"),s("swap.txIdNotFound"))},L=(l,r,d=void 0)=>{ke.add({severity:"error",summary:l,detail:r,group:"br-custom",life:d})},st=n(""),xe=n(""),ge=n(""),we=n(""),he=n(""),Ee=n(!1);return{selectedAccountBalance:A,minNativeBalanceAmount:F,includeMultisig:Ve,timerSecondsDisplay:Se,timerMinutes:Ae,currentPage:E,bscAddress:Q,showAddressErr:H,showPasswdError:ot,walletPasswd:ne,passwdPattern:Oe,showAmountErr:y,amount:g,disableAmount:J,updateAmountToMax:pe,bscGasStrategy:be,isDisabledSwap:it,err:Ne,swap:ht,savedCheck:xt,allAvailableAccounts:He,selectedAccount:C,selectedAccountName:se,selectedGasPriceInGwei:ee,selectedGasLimit:$,standardGasPrice:Je,fastGasPrice:Qe,rapidGasPrice:ze,standardGasPriceInUSD:qe,fastGasPriceInUSD:Ye,rapidGasPriceInUSD:Ze,xpxAmountInStandardGasPrice:$e,xpxAmountInFastGasPrice:et,xpxAmountInRapidGasPrice:tt,txFeeDisplay:pt,gasPriceInXPX:_,maxSwapAmount:k,changeGasStrategy:at,swapInProgress:N,certTransactionHash:we,swapLink:st,swapTimestamp:xe,swapId:ge,swapQr:he,saveCertificate:()=>{w.generateoutgoingPdfCert("BSC",xe.value,K.value,ge.value,we.value,he.value,j.value)},selectedAccountAddress:K,isDisabledCancel:P,canCheckStatus:Ee,callTocheckSwapStatus:kt,siriusTransactionHash:j,xpxExplorerUrl:mt,currentNativeTokenName:i,siriusAddress:B,walletState:S,Helper:o,xpxFeeErr:gt,tokenDivisibility:M,tokenList:q,selectedToken:b,selectedTokenName:W,validated:()=>{if(be.value===""){Ie.value=!0;return}else Ie.value=!1;try{nt(Q.value)&&!y.value&&(H.value=!1,E.value=2)}catch{H.value=!0,N.value=!1,P.value=!1}},selectErr:Ie}}},h=s=>(Ut("data-v-5ec3eada"),s=s(),Dt(),s),zt={class:"lg:w-9/12 ml-2 mr-2 lg:ml-auto lg:mr-auto mt-5"},qt={class:"mt-6 p-6 border filter shadow-lg text-center"},Yt={class:"text-md"},Zt={class:"text-xs my-3 mb-5 sm:mb-10"},$t=h(()=>t("img",{src:Rt,class:"mr-2 h-5 inline-block"},null,-1)),ea={class:"flex my-10"},ta={class:"flex-none"},aa={class:"flex border border-gray-300 rounded-md filter shadow-md"},sa={class:"px-4 sm:px-10 self-center text-xxs sm:text-xs hidden md:inline-block lg:hidden xl:inline-block"},la=h(()=>t("div",{class:"flex-grow self-center md:mx-4 h-0.5 bg-gray-100"},null,-1)),na={class:"flex-none"},ra={class:"flex border border-gray-300 rounded-md filter shadow-md"},oa={class:"px-4 sm:px-10 self-center text-xxs sm:text-xs hidden md:inline-block lg:hidden xl:inline-block"},ia=h(()=>t("div",{class:"flex-grow self-center md:mx-4 h-0.5 bg-gray-100"},null,-1)),da={class:"flex-none"},ca={class:"flex border border-gray-300 rounded-md filter shadow-md"},ua={class:"px-4 sm:px-10 self-center text-xxs sm:text-xs hidden md:inline-block lg:hidden xl:inline-block"},ma={key:0},va=h(()=>t("div",{class:"text-sm my-5 font-bold"},"Select Asset",-1)),fa=["value"],pa={class:"text-sm my-5 font-bold"},ba={key:0,class:"error error_box mb-5"},xa={class:"relative"},ga={key:0,class:"opacity-90 w-full h-full absolute z-10 bg-white"},wa={class:"tex-center font-bold text-sm my-5"},ha={class:"md:grid md:grid-cols-3 mb-4"},ya={class:"md:col-span-1 mb-3"},_a={class:"font-bold text-tsm"},ka={class:"md:col-span-1 mb-3"},Sa={class:"font-bold text-tsm"},Aa={class:"md:col-span-1 mb-3"},Ta={class:"font-bold text-tsm"},Ia={key:1,class:"error error_box mb-5"},Pa={class:"text-sm text-center mb-2 sm:mb-4"},Ca={class:"tex-center font-bold text-sm mb-2"},Na={class:"rounded-2xl bg-gray-100 p-5 mb-5"},Ma={class:"inline-block mr-4 text-xs"},Ga=h(()=>t("img",{src:Jt,class:"w-5 inline mr-1 text-gray-500"},null,-1)),Fa={class:"mb-5"},La={key:2,class:"error error_box mb-5"},Ua={class:"bg-blue-50 border border-blue-primary h-20 mt-5 rounded flex items-center justify-center uppercase"},Da={key:0,src:rt,class:"w-5 h-5 ml-4"},Ea={key:1,src:Wt,class:"w-5 h-5 ml-4"},Ba={class:"flex justify-center mt-3"},Xa={class:"text-xs text-gray-600 mt-2 max-w-screen-md"},Va={class:"mt-10 text-center"},Ha=["disabled"],Oa=["disabled"],ja={key:1},Ra={class:"text-lg my-7"},Wa={key:0,class:"error error_box mb-5"},Ka=h(()=>t("div",{class:"font-bold text-left text-xs md:text-sm text-gray-700"},"Validate your transaction",-1)),Ja={class:"flex border-b border-gray-300 p-3"},Qa={class:"flex h-full justify-center"},za=h(()=>t("div",{class:"self-center inline-block transition-all duration-500 text-xs md:text-sm text-blue-primary"},"Account Name: ",-1)),qa={class:"flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500 text-gray-700 break-all"},Ya={class:"flex border-b border-gray-300 p-3"},Za={class:"flex h-full justify-center"},$a=h(()=>t("div",{class:"self-center inline-block transition-all duration-500 text-xs md:text-sm text-blue-primary"},"Account Address: ",-1)),es={class:"flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500 text-gray-700 break-all"},ts={class:"flex border-b border-gray-300 p-3"},as={class:"flex h-full justify-center"},ss=h(()=>t("div",{class:"self-center inline-block transition-all duration-500 text-xs md:text-sm text-blue-primary"},"Amount: ",-1)),ls={class:"flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500 text-gray-700 break-all"},ns={class:"flex border-b border-gray-300 p-3"},rs={class:"flex h-full justify-center"},os=h(()=>t("div",{class:"self-center inline-block transition-all duration-500 text-xs md:text-sm text-blue-primary"},"MetaMask Address: ",-1)),is={class:"flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500 text-gray-700 break-all"},ds={class:"flex border-b border-gray-300 p-3"},cs={class:"flex h-full justify-center"},us={class:"self-center inline-block transition-all duration-500 text-xs md:text-sm text-blue-primary"},ms={key:0,class:"flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500 text-gray-700 break-all"},vs={class:"font-bold text-tsm"},fs={key:1,class:"flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500 text-gray-700 break-all"},ps={class:"font-bold text-tsm"},bs={key:2,class:"flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500 text-gray-700 break-all"},xs={class:"font-bold text-tsm"},gs={class:"flex border-b border-gray-300 p-3"},ws={class:"flex h-full justify-center"},hs={class:"self-center inline-block transition-all duration-500 text-xs md:text-sm text-blue-primary"},ys={class:"flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500 text-gray-700 break-all"},_s={class:"flex border-b border-gray-300 p-3"},ks={class:"flex h-full justify-center"},Ss=h(()=>t("div",{class:"self-center inline-block transition-all duration-500 text-xs md:text-sm text-blue-primary"},"Total Transaction Fee: ",-1)),As={class:"flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500 text-gray-700 break-all"},Ts={class:"flex border-b border-gray-300 p-3"},Is={class:"flex h-full justify-center"},Ps={class:"self-center inline-block transition-all duration-500 text-xs md:text-sm text-blue-primary"},Cs={class:"flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500 text-gray-700 break-all"},Ns={class:"mt-10 text-center"},Ms=["disabled"],Gs=["disabled"],Fs={key:2},Ls={class:"default-title font-bold mt-5 mb-2"},Us={class:"text-sm mb-7"},Ds={class:"mt-5"},Es=["href"],Bs=h(()=>t("br",null,null,-1)),Xs=["href"],Vs={class:"md:mx-20 lg:mx-40 font-bold text-center text-tsm py-5 sm:py-10 mt-5 sm:mt-10 border-t border-gray-200"},Hs={class:"md:mx-20 lg:mx-10 xl:mx-40 border-2 border-gray-200 mt-4 p-5 text-xs font-bold filter shadow-lg"},Os={class:"text-blue-primary mb-1"},js={class:"break-all"},Rs={class:"mt-1"},Ws={key:0,src:rt,class:"w-3 h-3 ml-2 inline relative",style:{top:"-2px"}},Ks={key:1,src:Kt,class:"w-3 h-3 ml-2 inline relative",style:{top:"-2px"}},Js=h(()=>t("div",null,[t("img",{src:Ot,class:"inline-block h-8 my-2"})],-1)),Qs={class:"text-blue-primary mb-1"},zs={class:"mt-1"},qs={class:"my-5 sm:my-7 text-gray-500 text-xs md:mx-20 lg:mx-10 xl:mx-40"},Ys={class:"inline-flex items-center mb-5"},Zs={class:"ml-2 cursor-pointer text-xs font-bold"},$s={class:"sm:mt-5 text-center"},el=["disabled"];function tl(s,i,ke,e,Xe,R){const Se=V("SelectInputAccountOutgoingSwap"),Ae=V("SwapInputClean"),Te=V("MetamaskAddressInput"),b=V("PasswordInputClean"),W=V("SwapCertificateComponent"),te=V("font-awesome-icon"),ae=V("router-link");return m(),v("div",null,[t("div",zt,[t("div",qt,[t("div",Yt,a(s.$t("swap.mainNetworkSwap")),1),t("div",Zt,[$t,U(a(s.$t("swap.swapSiriusToBsc")),1)]),t("div",ea,[t("div",ta,[t("div",aa,[t("div",{class:G(["flex w-6 h-6 sm:w-10 sm:h-10",`${e.currentPage>=1?"bg-yellow-500":"bg-gray-300"}`])},[t("div",{class:G(["self-center inline-block text-center w-full text-txs sm:text-sm font-bold",`${e.currentPage>=1?"text-white":"text-gray-400"}`])},"1",2)],2),t("div",sa,a(s.$t("general.transaction")),1)])]),la,t("div",na,[t("div",ra,[t("div",{class:G(["flex w-6 h-6 sm:w-10 sm:h-10",`${e.currentPage>=2?"bg-yellow-500":"bg-gray-300"}`])},[t("div",{class:G(["self-center inline-block text-center w-full text-txs sm:text-sm font-bold",`${e.currentPage>=2?"text-white":"text-gray-400"}`])},"2",2)],2),t("div",oa,a(s.$t("swap.validation")),1)])]),ia,t("div",da,[t("div",ca,[t("div",{class:G(["flex w-6 h-6 sm:w-10 sm:h-10",`${e.currentPage>=3?"bg-yellow-500":"bg-gray-300"}`])},[t("div",{class:G(["self-center inline-block text-center w-full text-txs sm:text-sm font-bold",`${e.currentPage>=2?"text-white":"text-gray-400"}`])},"3",2)],2),t("div",ua,a(s.$t("general.certificate")),1)])])]),e.currentPage==1?(m(),v("div",ma,[va,lt(t("select",{class:"","onUpdate:modelValue":i[0]||(i[0]=c=>e.selectedTokenName=c)},[(m(!0),v(Nt,null,Mt(e.tokenList,(c,E)=>(m(),v("option",{value:c.name,key:E},a(c.name.toUpperCase()),9,fa))),128))],512),[[Ct,e.selectedTokenName]]),t("div",pa,a(s.$t("general.transactionDetails")),1),e.xpxFeeErr?(m(),v("div",ba,a(s.$t("swap.failCoverTxFee")),1)):x("",!0),D(Se,{otherToken:e.selectedToken.namespace,otherTokenId:e.selectedToken.assetId,name:e.selectedToken.name,modelValue:e.siriusAddress,"onUpdate:modelValue":i[1]||(i[1]=c=>e.siriusAddress=c),placeholder:s.$t("swap.fromSiriusAcc"),selectDefault:e.walletState.currentLoggedInWallet.selectDefaultAccount().address,divisibility:e.tokenDivisibility},null,8,["otherToken","otherTokenId","name","modelValue","placeholder","selectDefault","divisibility"]),t("div",xa,[e.siriusAddress?x("",!0):(m(),v("div",ga)),D(Ae,{class:"mt-5",disabled:e.disableAmount,remarkOption:e.selectedToken.name=="xpx",modelValue:e.amount,"onUpdate:modelValue":i[2]||(i[2]=c=>e.amount=c),balance:e.selectedAccountBalance,placeholder:`${e.selectedToken.name} `+s.$t("general.amount"),type:"text",showError:e.showAmountErr,errorMessage:s.$t("general.insufficientBalance"),emptyErrorMessage:s.$t("swap.amountEmpty"),maxAmount:e.maxSwapAmount,gasFee:e.gasPriceInXPX,transactionFee:e.txFeeDisplay,onClickedMaxAvailable:i[3]||(i[3]=c=>e.updateAmountToMax()),toolTip:s.$t("swap.bscAmountMsg",{token:e.selectedTokenName.toUpperCase()}),decimal:e.tokenDivisibility},null,8,["disabled","remarkOption","modelValue","balance","placeholder","showError","errorMessage","emptyErrorMessage","maxAmount","gasFee","transactionFee","toolTip","decimal"]),D(Te,{placeholder:s.$t("swap.bscAddress"),errorMessage:s.$t("swap.bscAddressErr"),class:"mt-5",showError:e.showAddressErr,modelValue:e.bscAddress,"onUpdate:modelValue":i[4]||(i[4]=c=>e.bscAddress=c)},null,8,["placeholder","errorMessage","showError","modelValue"]),t("div",wa,a(s.$t("general.transactionFee"))+" ("+a(s.$t("swap.bsc"))+" BEP20 "+a(s.$t("general.network"))+"):",1),t("div",ha,[t("div",ya,[t("div",{class:G(["bscGasStrategy md:mr-6",`${e.bscGasStrategy=="standard"?"selected":"option"}`]),onClick:i[5]||(i[5]=c=>e.changeGasStrategy("standard"))},[t("p",_a,a(s.$t("swap.standard")),1),t("div",null,"BNB "+a(e.standardGasPrice),1),t("div",null,"XPX "+a(e.xpxAmountInStandardGasPrice)+" = "+a(s.$t("general.usd"))+" "+a(e.standardGasPriceInUSD),1)],2)]),t("div",ka,[t("div",{class:G(["bscGasStrategy md:mx-3",`${e.bscGasStrategy=="fast"?"selected":"option"}`]),onClick:i[6]||(i[6]=c=>e.changeGasStrategy("fast"))},[t("p",Sa,a(s.$t("swap.fast")),1),t("div",null,"BNB "+a(e.fastGasPrice),1),t("div",null,"XPX "+a(e.xpxAmountInFastGasPrice)+" = "+a(s.$t("general.usd"))+" "+a(e.fastGasPriceInUSD),1)],2)]),t("div",Aa,[t("div",{class:G(["bscGasStrategy md:ml-6",`${e.bscGasStrategy=="rapid"?"selected":"option"}`]),onClick:i[7]||(i[7]=c=>e.changeGasStrategy("rapid"))},[t("p",Ta,a(s.$t("swap.rapid")),1),t("div",null,"BNB "+a(e.rapidGasPrice),1),t("div",null,"XPX "+a(e.xpxAmountInRapidGasPrice)+" = "+a(s.$t("general.usd"))+" "+a(e.rapidGasPriceInUSD),1)],2)])]),e.selectErr===!0?(m(),v("div",Ia,"Please select one of options")):x("",!0),t("div",Pa,a(s.$t("swap.feesValidDuration"))+": "+a(e.timerMinutes)+":"+a(e.timerSecondsDisplay>=10?e.timerSecondsDisplay:"0"+e.timerSecondsDisplay),1),t("div",Ca,a(s.$t("general.transactionFee"))+" ("+a(s.$t("swap.siriusNetwork"))+"):",1),t("div",Na,[t("div",Ma,[Ga,U(a(s.$t("general.transactionFee"))+": ",1),t("span",null,a(e.txFeeDisplay),1),U(" "+a(e.currentNativeTokenName),1)])]),t("div",Fa,"Total Transaction Fee: "+a(e.minNativeBalanceAmount)+" "+a(e.currentNativeTokenName),1),D(b,{placeholder:s.$t("general.enterPassword"),errorMessage:s.$t("general.passwordRequired"),showError:e.showPasswdError,icon:"lock",modelValue:e.walletPasswd,"onUpdate:modelValue":i[8]||(i[8]=c=>e.walletPasswd=c)},null,8,["placeholder","errorMessage","showError","modelValue"]),e.err!=""?(m(),v("div",La,a(e.err),1)):x("",!0),t("div",Ua,[U(a(e.amount)+" "+a(e.selectedToken.name)+" ",1),e.selectedToken.name=="metx"?(m(),v("img",Da)):x("",!0),e.selectedToken.name=="xpx"?(m(),v("img",Ea)):x("",!0)]),t("div",Ba,[t("div",Xa,a(s.$t("swap.bscOutgoingMsg")),1)]),t("div",Va,[t("button",{onClick:i[9]||(i[9]=c=>s.$router.push({name:"ViewServicesMainnetSwap"})),class:"text-black font-bold text-xs mr-1 sm:mr-5 mt-2 focus:outline-none disabled:opacity-50",disabled:e.isDisabledCancel},a(s.$t("general.later")),9,Ha),t("button",{type:"submit",class:"default-btn focus:outline-none disabled:opacity-50",disabled:e.xpxFeeErr,onClick:i[10]||(i[10]=c=>e.validated())},a(s.$t("general.continue")),9,Oa)])])])):x("",!0),e.currentPage==2?(m(),v("div",ja,[t("div",Ra,[e.err!=""?(m(),v("div",Wa,a(e.err),1)):x("",!0),Ka,t("div",Ja,[t("div",Qa,[za,t("div",qa,a(s.$t(e.selectedAccountName)),1)])]),t("div",Ya,[t("div",Za,[$a,t("div",es,a(s.$t(e.siriusAddress)),1)])]),t("div",ts,[t("div",as,[ss,t("div",ls,a(s.$t(e.amount))+" "+a(s.$t(e.selectedToken.name.toUpperCase())),1)])]),t("div",ns,[t("div",rs,[os,t("div",is,a(s.$t(e.bscAddress)),1)])]),t("div",ds,[t("div",cs,[t("div",us,a(s.$t("general.transactionFee"))+" ("+a(s.$t("swap.bsc"))+" BEP20 "+a(s.$t("general.network"))+"): ",1),e.bscGasStrategy==="standard"?(m(),v("div",ms,[t("p",vs,a(s.$t("swap.standard")),1),t("div",null,"XPX "+a(e.xpxAmountInStandardGasPrice),1)])):x("",!0),e.bscGasStrategy==="fast"?(m(),v("div",fs,[t("p",ps,a(s.$t("swap.fast")),1),t("div",null,"XPX "+a(e.xpxAmountInFastGasPrice),1)])):x("",!0),e.bscGasStrategy==="rapid"?(m(),v("div",bs,[t("p",xs,a(s.$t("swap.rapid")),1),t("div",null,"XPX "+a(e.xpxAmountInRapidGasPrice),1)])):x("",!0)])]),t("div",gs,[t("div",ws,[t("div",hs,a(s.$t("general.transactionFee"))+" ("+a(s.$t("swap.siriusNetwork"))+"): ",1),t("div",ys,[t("span",null,a(e.txFeeDisplay),1),U(" "+a(e.currentNativeTokenName),1)])])]),t("div",_s,[t("div",ks,[Ss,t("div",As,a(e.minNativeBalanceAmount)+" "+a(e.currentNativeTokenName),1)])]),t("div",Ts,[t("div",Is,[t("div",Ps,a(s.$t("swap.feesValidDuration"))+": ",1),t("div",Cs,a(e.timerMinutes)+":"+a(e.timerSecondsDisplay>=10?e.timerSecondsDisplay:"0"+e.timerSecondsDisplay),1)])]),t("div",Ns,[t("button",{onClick:i[11]||(i[11]=c=>s.$router.push({name:"ViewServicesMainnetSwap"})),class:"text-black font-bold text-xs mr-1 sm:mr-5 mt-2 focus:outline-none disabled:opacity-50",disabled:e.isDisabledCancel},a(s.$t("general.later")),9,Ms),t("button",{type:"button",class:"default-btn focus:outline-none disabled:opacity-50 mt-2",disabled:e.isDisabledSwap,onClick:i[12]||(i[12]=(...c)=>e.swap&&e.swap(...c))},a(e.swapInProgress?s.$t("swap.swapInProgress"):s.$t("swap.confirmSwap")),9,Gs),e.canCheckStatus?(m(),v("button",{key:0,class:"default-btn focus:outline-none disabled:opacity-50 mt-2",onClick:i[13]||(i[13]=(...c)=>e.callTocheckSwapStatus&&e.callTocheckSwapStatus(...c))},a(s.$t("swap.checkSwapStatus")),1)):x("",!0)])])])):x("",!0),e.currentPage==3?(m(),v("div",Fs,[t("div",null,[t("h1",Ls,a(s.$t("general.congratz")),1),t("div",Us,a(s.$t("swap.swapStarted")),1),D(W,{networkTerm:s.$t("swap.bsc"),swapType:"Out",swapId:e.swapId,swapTimestamp:e.swapTimestamp,transactionHash:e.certTransactionHash,swapQr:e.swapQr,swapLink:e.swapLink,siriusName:e.selectedAccountName,swappedAmount:e.amount,siriusAddress:e.Helper.createAddress(e.selectedAccountAddress).pretty(),siriusTransactionHash:e.siriusTransactionHash,xpxExplorer:e.xpxExplorerUrl},null,8,["networkTerm","swapId","swapTimestamp","transactionHash","swapQr","swapLink","siriusName","swappedAmount","siriusAddress","siriusTransactionHash","xpxExplorer"]),t("button",{type:"button",class:"w-40 hover:shadow-lg bg-blue-primary text-white text-xs hover:opacity-50 rounded font-bold px-4 py-3 border border-blue-primary outline-none mr-4 mt-6",onClick:i[14]||(i[14]=(...c)=>e.saveCertificate&&e.saveCertificate(...c))},a(s.$t("general.downloadCertificate")),1),t("div",Ds,[t("a",{href:e.swapLink,target:"_new",class:"underline self-center text-xs font-bold text-blue-primary"},[U(a(s.$t("swap.viewTxInBsc")),1),D(te,{icon:"external-link-alt",class:"ml-2 text-blue-500 w-3 h-3 self-center inline-block"})],8,Es),Bs,t("a",{href:e.xpxExplorerUrl,target:"_new",class:"underline self-center text-xs font-bold text-blue-primary"},[U(a(s.$t("swap.viewTxInExplorer")),1),D(te,{icon:"external-link-alt",class:"ml-2 text-blue-500 w-3 h-3 self-center inline-block"})],8,Xs)]),t("div",Vs,a(s.$t("swap.swapDetails")),1),t("div",Hs,[t("div",Os,a(s.$t("general.from"))+": "+a(e.selectedAccountName),1),t("div",js,a(e.Helper.createAddress(e.selectedAccountAddress).pretty()),1),t("div",Rs,[U(a(s.$t("swap.swapAmount"))+" "+a(e.amount)+" "+a(e.selectedToken.name.toUpperCase())+" ",1),e.selectedToken.name=="metx"?(m(),v("img",Ws)):x("",!0),e.selectedToken.name=="xpx"?(m(),v("img",Ks)):x("",!0)]),Js,t("div",Qs,a(s.$t("general.to"))+": "+a(s.$t("swap.metamaskAcc")),1),t("div",null,a(e.bscAddress),1),t("div",zs,a(s.$t("swap.equivalentTo"))+" "+a(e.amount)+" BEP20 "+a(e.selectedToken.name.toUpperCase()),1)]),t("div",qs,a(s.$t("swap.swapMsg3")),1),t("label",Ys,[lt(t("input",{type:"checkbox",class:"h-5 w-5 bg-blue-primary","onUpdate:modelValue":i[15]||(i[15]=c=>e.savedCheck=c)},null,512),[[Gt,e.savedCheck]]),t("span",Zs,a(s.$t("swap.confirmDownloaded")),1)]),t("div",$s,[D(ae,{to:{name:"ViewServicesMainnetSwap"}},{default:Ft(()=>[t("button",{type:"submit",class:"default-btn mr-5 focus:outline-none w-40 inline-block disabled:opacity-50",disabled:!e.savedCheck},a(s.$t("general.done")),9,el)]),_:1})])])])):x("",!0)])])])}const kl=St(Qt,[["render",tl],["__scopeId","data-v-5ec3eada"]]);export{kl as default};
