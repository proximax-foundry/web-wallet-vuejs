import{_ as k,u as L,r as d,aX as P,n as U,q as H,c as h,k as R,o as g,b as w,e as s,t as u,l as S,s as T,z as $,A as x,f as v}from"./index-a7feb194.js";import{S as B}from"./swapUtils-ba183f8d.js";import{_ as X}from"./bsc-e621c678.js";import"./jspdf.es.min-c1e75e2d.js";import"./qrcode-6ada9eb8.js";const j={name:"ViewServicesMainnetSwap",setup(){const{t:a}=L(),l=d([]);l.value.bsc=!1;const _=e=>{e=="nis1"&&!i.value.nis1?l.value.nis1=!l.value.nis1:e=="eth"&&!i.value.eth?l.value.eth=!l.value.eth:e=="bsc"&&!i.value.bsc&&(l.value.bsc=!l.value.bsc)};let t=new P(U.chainNetworkName);t.init();const m=e=>e=="bsc"?t.swap_XPX_BSC_URL:e=="eth"?t.swap_XPX_ETH_URL:"",y=t.priceConsultURL,p=H(),i=d([]);i.value.bsc=!1;const o=d([]);o.value.bsc=!1;const r=d([]);r.value.bsc=!1;const n=d([]);n.value.bsc=!1;const c=d([]);c.value.bsc=!1;const O=h(()=>{let e="Sirius Chain to NIS1";return r.value.nis1?a("swap.failConnect"):n.value.nis1?a("swap.serviceUnavailable"):e}),V=h(()=>{let e=a("swap.siriusToEth");return r.value.eth?a("swap.failConnect"):n.value.eth?a("swap.serviceUnavailable"):e}),E=h(()=>{let e=a("swap.siriusToBsc");return r.value.bsc?a("swap.failConnect"):n.value.bsc?a("swap.serviceUnavailable"):e});return{open:l,openMenu:_,isChecking:c,displayWaitMessage:o,displayErrorMessage:n,displayConnectionMessage:r,isOutgoingOptionDisabled:i,gotoOutgoingPage:async e=>{if(!c.value[e]){i.value[e]=!0,c.value[e]=!0,o.value[e]=!0,r.value[e]=!1,n.value[e]=!1;try{const C=await fetch(B.checkSwapService(m(e))),M=await fetch(B.checkSwapPrice(y)),b=await M.json();c.value[e]=!1;let f;if(e=="eth"?f=b.eth:e=="bsc"&&(f=b.bsc),b.xpx===0||f===0){o.value[e]=!1,n.value[e]=!0,i.value[e]=!1;return}C.status==200&&M.status==200?(n.value[e]=!1,o.value[e]=!1,e=="eth"?p.push({name:"ViewServicesMainnetSwapSiriusToETH"}):e=="bsc"&&p.push({name:"ViewServicesMainnetSwapSiriusToBSC"})):(o.value[e]=!1,n.value[e]=!0,i.value=!1)}catch{o.value[e]=!1,n.value[e]=!1,r.value[e]=!0,i.value[e]=!1,c.value[e]=!1}}},displayOutgoingETHSwapLabel:V,displayOutgoingBSCSwapLabel:E,displayOutgoingNIS1SwapLabel:O}}},D={class:"lg:w-9/12 ml-2 mr-2 lg:ml-auto lg:mr-auto mt-5"},I={class:"mt-6 px-6 py-10 border filter shadow-lg text-center"},W={class:"text-md mb-3"},z=s("template",null,[v(' <div class="text-xs max-w-md inline-block">You can swap from NIS1, ETH and BSC to ProximaX Sirius Chain. In reverse, ProximaX Sirius Chain is available to swap in ETH and BSC only.</div><br>')],-1),F={class:"inline-block relative w-full sm:w-80 text-left mt-5 transition-all duration-500"},q=s("img",{src:X,class:"float-left"},null,-1),A={class:"text-left pl-5"},Y={class:"text-md font-bold"},G={class:"text-xs"},J={key:0,class:"w-full text-left z-20 bg-white"},K={class:"bg-blue-100 border-blue-100 uppercase py-2 px-5 text-xxs"},Q={key:0,style:{"border-top-color":"transparent"},class:"inline-block ml-2 w-5 h-5 border-4 border-gray-700 border-solid rounded-full animate-spin"},Z=s("br",null,null,-1),N=s("br",null,null,-1),ee=s("br",null,null,-1),se=s("template",null,[v(`  <div class="border inline-block w-full mt-4 rounded shadow-md filter" :class="\`\${open['eth']?'border-blue-500':'border-gray-200'}\`" style="top: 95px;" @click="openMenu('eth')">
          <div class="flex items-center w-full px-5 h-20 cursor-pointer hover:bg-blue-50 transition-all duration-500" :class="\`\${open['eth']?'bg-blue-50':'bg-white'}\`">
            <img src="@/modules/services/submodule/mainnetSwap/img/eth.svg" class="float-left">
            <div class="text-left pl-5">
              <div class="text-md font-bold">{{$t('swap.eth')}}</div>
              <div class="text-xs">{{$t('swap.ethFull')}}</div>
            </div>
          </div>
          <div class="w-full text-left z-20 bg-white" v-if="open['eth']">
            <div class="bg-blue-100 border-blue-100 uppercase py-2 px-5 text-xxs">{{$t('general.selectOption')}}</div>
            <router-link :to="{ name: 'ViewServicesMainnetSwapETHToSirius' }" class="block py-3 px-5 text-sm font-bold hover:bg-blue-500 hover:text-white transition-all duration-500 cursor-pointer">{{$t('swap.ethToSirius')}}</router-link>
            <div class="py-3 px-5 text-sm font-bold transition-all duration-500 flex justify-between" :class="\`\${!displayWaitMessage['eth']?'cursor-pointer hover:bg-blue-500 hover:text-white':''}\`" @click="gotoOutgoingPage('eth')">{{ displayOutgoingETHSwapLabel }}<div v-if="displayWaitMessage['eth']" style="border-top-color:transparent" class="inline-block ml-2 w-5 h-5 border-4 border-gray-700 border-solid rounded-full animate-spin"></div></div>
            <router-link :to="{ name: 'ViewServicesMainnetSwapCheckETHToSirius' }" class="block py-3 px-5 text-sm font-bold hover:bg-blue-500 hover:text-white transition-all duration-500 cursor-pointer">{{$t('swap.checkStatus')}}</router-link>
          </div>
        </div> `)],-1),ae=s("br",null,null,-1);function le(a,l,_,t,m,y){const p=R("router-link");return g(),w("div",null,[s("div",D,[s("div",I,[s("div",W,u(a.$t("swap.mainNetworkSwap")),1),z,s("div",F,[s("div",{class:S(["border inline-block w-full mt-4 rounded shadow-md filter",`${t.open.bsc?"border-blue-500":"border-gray-200"}`]),style:{top:"205px"},onClick:l[1]||(l[1]=i=>t.openMenu("bsc"))},[s("div",{class:S(["flex items-center w-full px-5 h-20 cursor-pointer hover:bg-blue-50 transition-all duration-500",`${t.open.bsc?"bg-blue-50":"bg-white"}`])},[q,s("div",A,[s("div",Y,u(a.$t("swap.bsc")),1),s("div",G,u(a.$t("swap.bscFull")),1)])],2),t.open.bsc?(g(),w("div",J,[s("div",K,u(a.$t("general.selectOption")),1),T(p,{to:{name:"ViewServicesMainnetSwapBSCToSirius"},class:"block py-3 px-5 text-sm font-bold hover:bg-blue-500 hover:text-white transition-all duration-500 cursor-pointer"},{default:$(()=>[x(u(a.$t("swap.bscToSirius")),1)]),_:1}),s("div",{class:S(["py-3 px-5 text-sm font-bold transition-all duration-500 flex justify-between",`${t.displayWaitMessage.bsc?"":"cursor-pointer hover:bg-blue-500 hover:text-white"}`]),onClick:l[0]||(l[0]=i=>t.gotoOutgoingPage("bsc"))},[x(u(t.displayOutgoingBSCSwapLabel),1),t.displayWaitMessage.bsc?(g(),w("div",Q)):v("v-if",!0)],2),T(p,{to:{name:"ViewServicesMainnetSwapCheckBSCToSirius"},class:"block py-3 px-5 text-sm font-bold hover:bg-blue-500 hover:text-white transition-all duration-500 cursor-pointer"},{default:$(()=>[x(u(a.$t("swap.checkStatus")),1)]),_:1})])):v("v-if",!0)],2),Z,N,ee,se,ae])])])])}const ce=k(j,[["render",le],["__file","/home/runner/work/web-wallet-vuejs/web-wallet-vuejs/src/modules/services/submodule/mainnetSwap/views/ViewServicesMainnetSwap.vue"]]);export{ce as default};
