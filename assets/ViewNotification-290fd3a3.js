import"./vue-86063517.js";import"./tsjs-xpx-chain-sdk-84426b6a.js";import{_ as I,T as k,A as h,e as y,H as A,w as g}from"./index-db436e65.js";import{t as L}from"./jdenticon-e4458e79.js";import{u as V}from"./vue-i18n-728f748b.js";import{r as b,w as H,B as W,z as s,A as i,g as m,F as M,k as F,u as E,o as a,a as S,m as C,l as _,e as N}from"./@vue-a9ecc9f1.js";import"./@js-joda-d98eb16f.js";import"./rxjs-1250b26d.js";import"./tslib-8dbab242.js";import"./@noble-f8eff84a.js";import"./js-sha3-d7d4f583.js";import"./node-stdlib-browser-23a8bc7f.js";import"./buffer-6d367910.js";import"./base64-js-50a5cdf9.js";import"./ieee754-44f7831e.js";import"./process-2209b2b3.js";import"./utf8-c941a4a0.js";import"./bip39-936aefa9.js";import"./axios-b48d2c29.js";import"./flatbuffers-edc4f8d7.js";import"./ws-0a714537.js";import"./vue-router-21fffbbf.js";import"./crypto-js-e64ac54c.js";import"./crypto-browserify-4fd8cccd.js";import"./randombytes-685e9383.js";import"./safe-buffer-c463177b.js";import"./create-hash-92c04a28.js";import"./inherits-804453d8.js";import"./md5.js-8d474739.js";import"./hash-base-bb85fc42.js";import"./readable-stream-2241ee9e.js";import"./events-86ccc6d8.js";import"./util-06f7ff32.js";import"./is-arguments-86164331.js";import"./has-tostringtag-7c6352d6.js";import"./has-symbols-cd7870b9.js";import"./call-bind-9e7f09da.js";import"./get-intrinsic-f35014ba.js";import"./has-proto-8ede3a55.js";import"./function-bind-68631a08.js";import"./has-ab8e2922.js";import"./is-generator-function-06dfaf9d.js";import"./which-typed-array-cf6b6a29.js";import"./for-each-f57c5052.js";import"./is-callable-7492318c.js";import"./available-typed-arrays-61974ec7.js";import"./gopd-bab4d6bd.js";import"./is-typed-array-037eef20.js";import"./util-deprecate-c3aabb3c.js";import"./string_decoder-ef7b01fe.js";import"./ripemd160-58dcfa02.js";import"./sha.js-cea3da2e.js";import"./cipher-base-aee0e03d.js";import"./stream-browserify-7496a08f.js";import"./create-hmac-e8b5ea4a.js";import"./browserify-sign-a708a95f.js";import"./browserify-rsa-bfbdcbb6.js";import"./bn.js-1ae23332.js";import"./elliptic-75e883ee.js";import"./minimalistic-assert-4cc49674.js";import"./minimalistic-crypto-utils-6f869a51.js";import"./brorand-03f0f79d.js";import"./hash.js-4f5dfe73.js";import"./hmac-drbg-87799258.js";import"./parse-asn1-465c125b.js";import"./asn1.js-405e93e4.js";import"./safer-buffer-2ac6237e.js";import"./evp_bytestokey-e91543fa.js";import"./browserify-aes-ce20a0e6.js";import"./buffer-xor-87a7236a.js";import"./pbkdf2-e2ae8643.js";import"./browserify-cipher-c4c37ca3.js";import"./browserify-des-3f7e64d9.js";import"./des.js-d262604a.js";import"./diffie-hellman-c8260aab.js";import"./miller-rabin-de27bf02.js";import"./create-ecdh-ffe720e9.js";import"./public-encrypt-fc0568a2.js";import"./randomfill-2874e5f1.js";import"./mathjs-2a513dae.js";import"./@babel-484168fe.js";import"./typed-function-4896e4f1.js";import"./decimal.js-d133ee8e.js";import"./complex.js-cf2520e8.js";import"./fraction.js-39e7906a.js";import"./javascript-natural-sort-c4dd0c27.js";import"./escape-latex-c8a96e7a.js";import"./seedrandom-c8f991ad.js";import"./tiny-emitter-56d49cfd.js";import"./crypto-random-string-d158262e.js";import"./jose-92e5544c.js";import"./primevue-e09f7e84.js";import"./vue-loading-overlay-b89251b1.js";import"./jspdf-30014160.js";import"./fflate-8981c52c.js";import"./vue-debounce-3bbbf8c6.js";import"./mitt-f7ef348c.js";/* empty css                   */import"./maska-6f10db43.js";import"./@fortawesome-014b81f2.js";import"./vue3-blocks-tree-e53499e3.js";import"./@intlify-16888cd3.js";const B={name:"ViewNotification",setup(){const n=b([]),u=E().appContext.config.globalProperties.emitter;let e=new k("ThemeStyleConfig");e.init();const v=b(e.jdenticonConfig),{t:d}=V(),c=p=>{let o=new Date,l=new Date(p),t={years:l.getFullYear()-o.getFullYear(),months:l.getMonth()-o.getMonth(),days:l.getDate()-o.getDate(),hours:l.getHours()-o.getHours(),mins:l.getMinutes()-o.getMinutes()};if(t.mins<0&&(t.hours--,t.mins+=60),t.hours<0&&(t.days--,t.hours+=24),t.days<0){t.months--;const T=new Date(o.getTime());T.setDate(32),t.days=32-o.getDate()-T.getDate()+l.getDate()}return t.months<0&&(t.years--,t.months+=12),t.years>0?t.years+" "+d("general.year",t.years.toString()):t.months>0?t.months+" "+d("general.month",t.months.toString()):t.days>0?t.days+" "+d("general.day",t.days.toString()):t.hours>0?t.hours+" "+d("general.hour",t.hours.toString()):t.mins+" "+d("general.minute",t.mins.toString())},r=()=>{if(!h.isReady){setTimeout(r,100);return}n.value=y.getNotificationFromStorage(),y.saveVisitedNotification(),u.emit("VIEW_NOTIFICATION")},f=p=>{if(g.currentLoggedInWallet){g.currentLoggedInWallet.setDefaultAccountByAddress(p);var o=g.currentLoggedInWallet.accounts.find(l=>l.address==p);o||(o=""),u.emit("DEFAULT_ACCOUNT_SWITCHED",o)}},w=()=>new Date().getTime(),x=async()=>{r()};if(h.isReady)x();else{let p=H(h.isReady,o=>{o&&(x(),p())})}return{notifications:n,NotificationUtils:y,updateDefaultAccount:f,Helper:A,themeStyleConfig:v,toSvg:L,walletState:g,currentTimestamp:w,relativeTime:c}}},P={class:"ml-2 mr-2 w-full lg:ml-auto lg:mr-auto mt-5"},j={class:"lg:w-9/12 ml-2 mr-2 lg:ml-auto lg:mr-auto mt-5"},O={class:"flex justify-between text-sm mb-5"},R={class:"text-gray-700"},U={key:0},Y={key:0},z=["innerHTML"],q={class:"text-gray-600 text-xs"},G={class:"mb-1 text-sm text-gray-700 font-bold"},J={key:1},K=["innerHTML"],Q={class:"text-gray-600 text-xs"},X={class:"mb-1 text-sm text-gray-700 font-bold"},Z={key:0},$={key:1},tt={key:1,class:"text-xs text-gray-500"};function et(n,D,u,e,v,d){const c=W("router-link");return a(),s("div",null,[i("div",P,[i("div",j,[i("div",O,[i("div",null,[i("span",R,m(n.$t("general.notification",2)),1)])]),e.notifications!=null&&e.notifications.length>0?(a(),s("div",U,[(a(!0),s(M,null,F(e.notifications,(r,f)=>(a(),s("div",{key:f},[r.type=="Partial"?(a(),s("div",Y,[S(c,{to:{name:"ViewAccountPendingTransactions",params:{address:r.address}},onClick:w=>e.updateDefaultAccount(r.address),class:"flex items-center border border-gray-100 w-full p-5 mb-3 text-tsm hover:bg-blue-50 transition-all duration-300"},{default:C(()=>[i("div",{innerHTML:e.toSvg(r.address,40,e.themeStyleConfig),class:"mr-2"},null,8,z),i("div",q,[i("div",G,m(e.walletState.currentLoggedInWallet?e.walletState.currentLoggedInWallet.convertAddressToNamePretty(r.address,!0):""),1),_(" "+m(r.label)+" "+m(n.$t("notification.pendingSignature",{time:e.relativeTime(r.timestamp)})),1)])]),_:2},1032,["to","onClick"])])):N("v-if",!0),r.type=="Namespace"?(a(),s("div",J,[S(c,{to:{name:"ViewServicesNamespaceExtend",params:{address:e.Helper.createAddress(r.address).pretty(),namespaceId:r.id}},class:"flex items-center border border-gray-100 w-full p-5 mb-3 text-tsm hover:bg-blue-50 transition-all duration-300"},{default:C(()=>[i("div",{innerHTML:e.toSvg(r.address,40,e.themeStyleConfig),class:"mr-2"},null,8,K),i("div",Q,[i("div",X,m(e.walletState.currentLoggedInWallet.convertAddressToNamePretty(r.address,!0)),1),_(" "+m(n.$t("general.namespace"))+" ",1),i("b",null,m(r.label),1),_(),e.currentTimestamp()>r.timestamp?(a(),s("span",Z,"has expired")):(a(),s("span",$,m(n.$t("notification.isExpiring",{time:e.relativeTime(r.timestamp)})),1))])]),_:2},1032,["to"])])):N("v-if",!0)]))),128))])):(a(),s("div",tt,m(n.$t("notification.noNotification")),1))])])])}const Qe=I(B,[["render",et],["__file","/home/runner/work/web-wallet-vuejs/web-wallet-vuejs/src/modules/dashboard/views/ViewNotification.vue"]]);export{Qe as default};
