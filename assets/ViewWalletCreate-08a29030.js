import{d as X,j as Z,y as ee,c as I,A as te,n as se,g as d,I as le,w as B,W as M,x as oe,D as ae,r as A,o as m,f as b,e as t,l as r,b as g,s as F,m as re,v as c,t as o,i as p,S,a as V,U as ne,F as ie}from"./index-2c45a7ef.js";import{_ as de}from"./chevron_left-0423cb29.js";import{_ as ce}from"./icon-green-tick-1b766454.js";import{t as me,o as ue,s as P,u as pe,a as C,_ as ve,b as U}from"./vee-validate-zod.esm-119234ea.js";import{c as we}from"./functions-edc91899.js";import{_ as fe}from"./SelectNetwork.vue_vue_type_script_setup_true_lang-2e85f948.js";import{t as be}from"./jdenticon-module-eb1215b2.js";import{E as ge}from"./jspdf.es.min-59d0d4fd.js";import{q as ye}from"./qrcode-c87bed80.js";import{p as xe}from"./pdfPaperWalletBackground-9b716104.js";const _e={class:"md:col-span-1 bg-white mx-5 md:mx-0 px-30 pt-1 md:pt-0 rounded-md"},ke={class:"text-sm text-center mt-20 mb-6 font-semibold"},he={class:"w-8/12 ml-auto mr-auto"},$e={key:0,class:"error error_box"},Se={class:"w-8/12 mx-auto"},Ve={class:"w-8/12 ml-auto mr-auto mt-3"},Pe={type:"submit",class:"text-center mt-3 font-bold blue-btn py-3 block ml-auto mr-auto w-8/12 disabled:opacity-50"},Ce={class:"mt-12 text-center text-xs mb-1"},Ee={class:"text-center text-xs text-blue-link font-semibold"},We={class:"mr-auto ml-auto w-10/12 mt-3"},Ne={class:"mb-8"},Te={class:"border border-green-300 px-6 pb-3 bg-green-50"},je={class:"flex items-center gap-3"},Ke={class:"flex flex-col w-full"},Ie={class:"flex"},Be={class:"text-xs text-green-500 font-semibold pt-3"},Me={class:"text-xxs mt-1"},Ae={class:"border-2 shadow-lg filter mb-10 bg-white"},Fe={class:"flex items-center"},Ue=["innerHTML"],He={class:"flex flex-col justify-center ml-4"},De={class:"flex"},Re={class:"font-semibold text-md"},Le={class:"flex"},qe=["copyValue"],ze={class:"border p-6 bg-white"},Ge={class:"text-xxs text-blue-primary mt-2 font-semibold uppercase"},Je={class:"flex"},Oe=["copyValue","copySubject"],Qe={class:"text-xxs text-blue-primary mt-0.5 font-semibold uppercase"},Ye={class:"flex"},Xe={key:0,class:"break-all font-semibold w-44 truncate md:w-auto"},Ze={class:"flex"},et=["copyValue","copySubject"],tt={class:"text-txs mt-2 text-red-400 border px-1.5 py-2 border-red-400 rounded-md"},st={class:"flex flex-col md:flex-row gap-3 text-center"},lt={class:"blue-btn cursor-pointer py-3 px-3"},H="^[^ ]{8,}$",wt=X({__name:"ViewWalletCreate",setup(ot){const{t:u}=Z(),D=me(ue({name:P().min(1,{message:u("wallet.nameErrMsg")}),password:P().regex(new RegExp(H),{message:u("wallet.passwordErrMsg")}),confirmPassword:P().regex(new RegExp(H),{message:u("wallet.passwordErrMsg")})}).refine(({password:e,confirmPassword:s})=>s==e,{message:u("wallet.confirmPasswordErrMsg"),path:["confirmPassword"]})),{handleSubmit:R,resetForm:L}=pe({validationSchema:D,initialValues:{name:"",password:"",confirmPassword:""}}),{value:y,errors:q}=C("name"),{value:x,errors:z}=C("password"),{value:_,errors:G}=C("confirmPassword"),J=ee(),E=I(()=>te.networkType),W=I(()=>se.chainNetworkName),f=d(""),N=d(null),v=d(""),n=d(!1),k=d(!1),w=d(""),h=d(""),T=d(""),j=new le("ThemeStyleConfig");j.init();const O=d(be(w.value,75,j.jdenticonConfig)),$=e=>{let s=document.getElementById(e).getAttribute("copyValue"),i=document.getElementById(e).getAttribute("copySubject");we(s),J.add({severity:"info",detail:i+" "+u("general.copied"),group:"br-custom",life:3e3})},K=R(({name:e,password:s})=>{if(f.value="",B.wallets.filterByNetworkNameAndName(W.value,e))f.value=u("wallet.walletNameExist");else{let i=M.createPassword(s);const a=M.addNewWallet(B.wallets,i,e,W.value,E.value);N.value=a.wallet,v.value=a.privateKey,T.value=a.wallet.name;let l=oe.Account.createFromPrivateKey(v.value,E.value,1);w.value=l.address.pretty(),h.value=l.publicKey,L()}}),Q=(e,s=2,i=0)=>{const a=ye(10,"H");return a.addData(e),a.make(),a.createDataURL(s,i)},Y=()=>{const e=new ge({unit:"px"});e.addImage(xe,"JPEG",120,60,205,132),e.addImage(Q(v.value,1,0),"JPEG",151.5,105,40,40),e.setFontSize(8),e.setTextColor("#000000"),e.text(w.value,146,164,{maxWidth:132}),e.save("Your_Paper_Wallet")};return ae(N,e=>{e&&(k.value=!0)}),(e,s)=>{const i=A("router-link"),a=A("font-awesome-icon");return m(),b(ie,null,[t("div",_e,[r(i,{to:{name:"ViewWalletCreateSelection"},class:"text-xs m-2 text-blue-link items-center flex"},{default:g(()=>s[10]||(s[10]=[t("img",{src:de,class:"w-5 inline-block"},null,-1),F("Back")])),_:1}),t("form",{onSubmit:s[3]||(s[3]=re((...l)=>c(K)&&c(K)(...l),["prevent"]))},[t("div",ke,o(e.$t("wallet.createWallet")),1),t("div",he,[f.value!=""?(m(),b("div",$e,o(f.value),1)):p("",!0)]),t("div",Se,[r(fe)]),t("div",Ve,[r(ve,{placeholder:e.$t("wallet.namePlaceholder"),modelValue:c(y),"onUpdate:modelValue":s[0]||(s[0]=l=>S(y)?y.value=l:null),errors:c(q)},null,8,["placeholder","modelValue","errors"]),r(U,{placeholder:e.$t("wallet.enterPassword"),modelValue:c(x),"onUpdate:modelValue":s[1]||(s[1]=l=>S(x)?x.value=l:null),errors:c(z)},null,8,["placeholder","modelValue","errors"]),r(U,{placeholder:e.$t("wallet.confirmPassword"),modelValue:c(_),"onUpdate:modelValue":s[2]||(s[2]=l=>S(_)?_.value=l:null),errors:c(G)},null,8,["placeholder","modelValue","errors"])]),t("button",Pe,o(e.$t("wallet.createWallet")),1),t("div",Ce,o(e.$t("wallet.haveWallet")),1),t("div",Ee,[r(i,{to:{name:"Home"}},{default:g(()=>[F(o(e.$t("wallet.signInHere"))+" >",1)]),_:1})]),s[11]||(s[11]=t("div",{class:"h-20"},null,-1))],32)]),r(c(ne),{visible:k.value,"onUpdate:visible":s[9]||(s[9]=l=>k.value=l),closable:!1,dismissableMask:!1,closeOnEscape:!1,class:"lg:w-9/12",modal:""},{default:g(()=>[t("div",We,[t("div",Ne,[t("div",Te,[t("div",je,[s[12]||(s[12]=t("img",{src:ce,class:"h-10 w-10 pt-3 mr-2"},null,-1)),t("div",Ke,[t("div",Ie,[t("div",Be,o(e.$t("general.congratz")),1)]),t("div",Me,o(e.$t("wallet.walletCreated"))+" "+o(e.$t("general.pkWarning")),1)])])])]),t("div",Ae,[t("div",Fe,[t("div",{innerHTML:O.value},null,8,Ue),t("div",He,[t("div",De,[t("div",Re,o(T.value),1)]),t("div",Le,[t("div",{id:"address",copyValue:w.value,copySubject:"Address",class:"text-xs font-semibold mt-1 w-36 truncate md:w-auto"},o(w.value),9,qe),r(a,{icon:"copy",title:e.$t("general.copy"),onClick:s[4]||(s[4]=l=>$("address")),class:"ml-2 w-5 h-5 text-blue-link cursor-pointer"},null,8,["title"])])])])]),t("div",ze,[t("div",Ge,o(e.$t("general.publicKey")),1),t("div",Je,[t("div",{id:"public",class:"text-xs font-semibold mt-1 break-all w-44 truncate md:w-auto",copyValue:h.value,copySubject:e.$t("general.publicKey")},o(h.value),9,Oe),r(a,{icon:"copy",onClick:s[5]||(s[5]=l=>$("public")),title:e.$t("general.copy"),class:"ml-2 mt-0.5 pb-1 w-5 h-5 text-blue-link cursor-pointer"},null,8,["title"])]),s[13]||(s[13]=t("div",{class:"my-6 gray-line"},null,-1)),t("div",null,[t("div",Qe,o(e.$t("general.privateKey")),1),t("div",Ye,[n.value?p("",!0):(m(),b("div",Xe," **************************************************************** ")),n.value?p("",!0):(m(),V(a,{key:1,icon:"eye",title:e.$t("general.view")+" "+e.$t("general.privateKey"),class:"text-blue-link relative cursor-pointer ml-1",onClick:s[6]||(s[6]=l=>n.value=!n.value)},null,8,["title"]))]),t("div",Ze,[n.value?(m(),b("div",{key:0,id:"private",class:"text-xs mt-1 font-semibold break-all w-44 truncate md:w-auto",type:"text",copyValue:v.value,copySubject:e.$t("general.privateKey")},o(v.value),9,et)):p("",!0),n.value?(m(),V(a,{key:1,title:e.$t("general.copy"),icon:"copy",onClick:s[7]||(s[7]=l=>$("private")),class:"ml-2 pb-1 w-5 h-5 text-blue-link mt-0.5 cursor-pointer"},null,8,["title"])):p("",!0),n.value?(m(),V(a,{key:2,icon:"eye-slash",title:e.$t("general.hide")+" "+e.$t("general.privateKey"),class:"text-blue-link relative cursor-pointer mt-0.5 ml-1",onClick:s[8]||(s[8]=l=>n.value=!n.value)},null,8,["title"])):p("",!0)]),t("div",tt,o(e.$t("general.pkWarning")),1)]),s[14]||(s[14]=t("div",{class:"my-6 gray-line"},null,-1)),t("div",st,[t("div",{onClick:Y,class:"blue-btn cursor-pointer py-3 px-3"},o(e.$t("general.downloadPaperWallet")),1),r(i,{class:"md:ml-auto",to:{name:"Home"}},{default:g(()=>[t("div",lt,o(e.$t("wallet.continueLogIn")),1)]),_:1})])])])]),_:1},8,["visible"])],64)}}});export{wt as default};
