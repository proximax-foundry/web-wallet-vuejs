import"./vue-86063517.js";import{n as x,W as Z,w as d,_ as M}from"./index-5f2b4e3e.js";import{C as P}from"./crypto-js-e64ac54c.js";import{u as V}from"./vue-i18n-728f748b.js";import{P as F}from"./PasswordInput-e254e539.js";import{u as E}from"./primevue-e09f7e84.js";import{r as _,c as g,u as J,B as W,o as a,z as r,A as o,a as $,m as j,g as s,e as i,T as q,F as B,d as Y,l as L,b as I,D as N,k as G}from"./@vue-a9ecc9f1.js";import"./@js-joda-d98eb16f.js";import"./tsjs-xpx-chain-sdk-84426b6a.js";import"./rxjs-1250b26d.js";import"./tslib-8dbab242.js";import"./@noble-f8eff84a.js";import"./js-sha3-d7d4f583.js";import"./node-stdlib-browser-23a8bc7f.js";import"./buffer-6d367910.js";import"./base64-js-50a5cdf9.js";import"./ieee754-44f7831e.js";import"./process-2209b2b3.js";import"./utf8-c941a4a0.js";import"./bip39-936aefa9.js";import"./axios-b48d2c29.js";import"./flatbuffers-edc4f8d7.js";import"./ws-0a714537.js";import"./vue-router-21fffbbf.js";import"./mathjs-2a513dae.js";import"./@babel-484168fe.js";import"./typed-function-4896e4f1.js";import"./decimal.js-d133ee8e.js";import"./complex.js-cf2520e8.js";import"./fraction.js-39e7906a.js";import"./javascript-natural-sort-c4dd0c27.js";import"./escape-latex-c8a96e7a.js";import"./seedrandom-c8f991ad.js";import"./crypto-browserify-4fd8cccd.js";import"./randombytes-685e9383.js";import"./safe-buffer-c463177b.js";import"./create-hash-92c04a28.js";import"./inherits-804453d8.js";import"./md5.js-8d474739.js";import"./hash-base-bb85fc42.js";import"./readable-stream-2241ee9e.js";import"./events-86ccc6d8.js";import"./util-06f7ff32.js";import"./is-arguments-86164331.js";import"./has-tostringtag-7c6352d6.js";import"./has-symbols-cd7870b9.js";import"./call-bind-9e7f09da.js";import"./get-intrinsic-f35014ba.js";import"./has-proto-8ede3a55.js";import"./function-bind-68631a08.js";import"./has-ab8e2922.js";import"./is-generator-function-06dfaf9d.js";import"./which-typed-array-cf6b6a29.js";import"./for-each-f57c5052.js";import"./is-callable-7492318c.js";import"./available-typed-arrays-61974ec7.js";import"./gopd-bab4d6bd.js";import"./is-typed-array-037eef20.js";import"./util-deprecate-c3aabb3c.js";import"./string_decoder-ef7b01fe.js";import"./ripemd160-58dcfa02.js";import"./sha.js-cea3da2e.js";import"./cipher-base-aee0e03d.js";import"./stream-browserify-7496a08f.js";import"./create-hmac-e8b5ea4a.js";import"./browserify-sign-a708a95f.js";import"./browserify-rsa-bfbdcbb6.js";import"./bn.js-1ae23332.js";import"./elliptic-75e883ee.js";import"./minimalistic-assert-4cc49674.js";import"./minimalistic-crypto-utils-6f869a51.js";import"./brorand-03f0f79d.js";import"./hash.js-4f5dfe73.js";import"./hmac-drbg-87799258.js";import"./parse-asn1-465c125b.js";import"./asn1.js-405e93e4.js";import"./safer-buffer-2ac6237e.js";import"./evp_bytestokey-e91543fa.js";import"./browserify-aes-ce20a0e6.js";import"./buffer-xor-87a7236a.js";import"./pbkdf2-e2ae8643.js";import"./browserify-cipher-c4c37ca3.js";import"./browserify-des-3f7e64d9.js";import"./des.js-d262604a.js";import"./diffie-hellman-c8260aab.js";import"./miller-rabin-de27bf02.js";import"./create-ecdh-ffe720e9.js";import"./public-encrypt-fc0568a2.js";import"./randomfill-2874e5f1.js";import"./tiny-emitter-56d49cfd.js";import"./crypto-random-string-d158262e.js";import"./jose-92e5544c.js";import"./vue-loading-overlay-b89251b1.js";import"./jspdf-30014160.js";import"./fflate-8981c52c.js";import"./vue-debounce-3bbbf8c6.js";import"./mitt-f7ef348c.js";/* empty css                   */import"./maska-6f10db43.js";import"./@fortawesome-014b81f2.js";import"./vue3-blocks-tree-e53499e3.js";import"./@intlify-16888cd3.js";const K={name:"ConfirmDeleteWalletModal",props:["walletName"],components:{PasswordInput:F},setup(e){const{t:l}=V(),c=E();J().appContext.config.globalProperties.emitter;const v="^[^ ]{8,}$",p=_(""),m=_(""),n=_(!1),f=g(()=>!p.value.match(v));return{err:m,disableDelete:f,deleteWallet:b=>{var y=x.chainNetworkName,w=Z.verifyWalletPassword(b,y,p.value);w==!0?(d.wallets.removeWalletByNetworkNameAndName(y,b),c.add({severity:"success",summary:l("general.notification"),detail:l("wallet.walletRemoved"),group:"br-custom",life:5e3})):(m.value=l("general.walletPasswordInvalid",{name:b}),p.value="")},walletPassword:p,toggleModal:n}}},Q="/web-wallet-vuejs/assets/icon-delete-0decb859.svg",X="/web-wallet-vuejs/assets/icon-delete-wallet-4d732b98.svg",ee={key:0,class:"popup-outer fixed flex z-50 text-black mt-10"},te={class:"modal-popup-box"},oe={key:0,class:"error error_box mb-3 text-center"},le={class:"text-center mt-2 text-md font-normal"},ae=o("img",{src:X,class:"ml-auto mr-auto"},null,-1),re={class:"text-black text-center text-xs mt-2 font-normal"},se={class:"font-bold text-center text-xs mt-2"},ne={class:"w-92"},ie={class:"text-center"},me={class:"mt-3"},de=["disabled"];function ce(e,l,c,t,v,p){const m=W("PasswordInput");return a(),r(B,null,[o("img",{onClick:l[0]||(l[0]=n=>t.toggleModal=!t.toggleModal),src:Q,class:"cursor-pointer inline"}),$(q,{enterActiveClass:"animate__animated animate__fadeInDown",leaveActiveClass:"animate__animated animate__fadeOutUp"},{default:j(()=>[t.toggleModal?(a(),r("div",ee,[o("div",te,[t.err!=""?(a(),r("div",oe,s(t.err),1)):i("v-if",!0),o("div",le,s(e.$t("wallet.walletDeletion")),1),ae,o("div",re,s(e.$t("wallet.deleteMessage")),1),o("div",se,s(e.$t("wallet.deleteWarning")),1),o("div",ne,[o("div",ie,[o("div",me,[$(m,{class:"w-8/12 ml-auto mr-auto",placeholder:e.$t("general.password"),errorMessage:e.$t("general.passwordRequired"),modelValue:t.walletPassword,"onUpdate:modelValue":l[1]||(l[1]=n=>t.walletPassword=n),icon:"lock"},null,8,["placeholder","errorMessage","modelValue"]),o("button",{onClick:l[2]||(l[2]=n=>t.deleteWallet(c.walletName)),class:"red-btn px-4 py-3 font-semibold cursor-pointer text-center ml-auto mt-3 mr-auto w-8/12 disabled:opacity-50 disabled:cursor-auto",disabled:t.disableDelete},s(e.$t("wallet.confirmDelete")),9,de),o("div",{class:"text-center cursor-pointer text-xs font-semibold text-blue-link mt-3",onClick:l[3]||(l[3]=n=>{t.toggleModal=!t.toggleModal,t.walletPassword="",t.err=""})},s(e.$t("general.cancel")),1)])])])])])):i("v-if",!0)]),_:1}),t.toggleModal?(a(),r("div",{key:0,onClick:l[4]||(l[4]=n=>t.toggleModal=!t.toggleModal),class:"fixed inset-0 bg-opacity-60 z-20 bg-gray-100"})):i("v-if",!0)],64)}const pe=M(K,[["render",ce],["__file","/home/runner/work/web-wallet-vuejs/web-wallet-vuejs/src/modules/wallet/components/ConfirmDeleteWalletModal.vue"]]),we=Y({name:"WalletTile",components:{ConfirmDeleteWalletModal:pe},props:{wallet:{type:Object,default:null}},setup(e){const l=_(!1);V();const c="^[^ ]{8,}$",t=_(""),v=_(""),p=g(()=>!t.value.match(c)),m=g(()=>{let w=!0;return e.wallet.name==d.currentLoggedInWallet.name&&(w=!1),w}),n=()=>{l.value=!0},f=w=>{var k=x.chainNetworkName;d.wallets.removeWalletByNetworkNameAndName(k,w)},C=w=>{var k=x.chainNetworkName;const A=d.wallets.filterByNetworkNameAndName(k,w).convertToSimpleWallet();let T=P.enc.Utf8.parse(JSON.stringify(A)),U=P.enc.Base64.stringify(T);const S=Date.now(),u=new Date(S),H=u.getFullYear(),O=u.getMonth()+1<10?`0${u.getMonth()+1}`:u.getMonth()+1,R=u.getDate()<10?`0${u.getDate()}`:u.getDate(),z=new Blob([U],{type:""}),D=window.URL.createObjectURL(z),h=document.createElement("a");h.style.display="none",h.href=D,h.download=`${w}_${k}_${H}-${O}-${R}.wlt`,document.body.appendChild(h),h.click(),window.URL.revokeObjectURL(D)},b=g(()=>d.currentLoggedInWallet?d.currentLoggedInWallet.name:""),y=g(()=>d.currentLoggedInWallet);return{exportWallet:C,getModal:n,showModal:l,disableDelete:p,err:v,isLogin:y,walletState:d,deleteWallet:f,currentWalletName:b,canDelete:m}}}),ue={class:"p-1"},ge={class:"bg-white border rounded-lg border-gray-200 shadow-lg group"},ve={class:"flex justify-between items-center"},fe={class:"ml-4 mt-5 mb-5 mr-5 text-txs text-left"},_e={key:0,class:"font-bold text-blue-primary flex items-center"},be={key:0,class:"w-36 inline truncate"},he={key:1,class:"w-36 inline-block truncate"},xe={key:2,class:"ml-0 mt-4"},ye={key:1,class:"font-bold text-blue-primary flex items-center"},ke={class:"w-32 inline-block truncate"},We={class:"text-txs pt-1 text-black-400"},$e={key:0,class:"xl:mr-3 xl:ml-0 text-xs font-bold"},Ne=o("svg",{class:"color-blue-primary",id:"file_upload_black_24dp",xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 20 20"},[o("path",{d:"M15.667,13.167v2.5h-10v-2.5H4v2.5a1.672,1.672,0,0,0,1.667,1.667h10a1.672,1.672,0,0,0,1.667-1.667v-2.5Zm-9.167-5L7.675,9.342l2.158-2.15V14H11.5V7.192l2.158,2.15,1.175-1.175L10.667,4Z",fill:"#007cff"})],-1),Le={class:"font-semibold text-txs"},Me={key:1,class:"xl:mr-1 xl:ml-5 text-xs font-bold"};function Ce(e,l,c,t,v,p){const m=W("ConfirmDeleteWalletModal");return a(),r("div",ue,[o("div",ge,[i(' <div class="flex justify-between bg-white border rounded-lg border-gray-200 shadow-lg group"> '),i(` <div v-if="walletState.currentLoggedInWallet" class='border-l-4 rounded-l-lg border-blue-primary opacity-0 group-hover:opacity-100'>
      </div> `),o("div",ve,[o("div",fe,[e.isLogin?(a(),r("div",_e,[e.isLogin?(a(),r("div",be,[L(s(e.wallet.name)+" ",1),e.canDelete?(a(),I(m,{key:0,walletName:e.wallet.name},null,8,["walletName"])):i("v-if",!0)])):i("v-if",!0),e.isLogin?i("v-if",!0):(a(),r("div",he,s(e.wallet.name),1)),e.isLogin?i("v-if",!0):(a(),r("div",xe))])):(a(),r("div",ye,[o("div",ke,s(e.wallet.name),1)])),o("div",We,[L(s(e.$t("wallet.numberOfAccounts"))+": ",1),o("span",null,s(e.wallet.accounts.length),1)])]),e.isLogin?(a(),r("div",$e,[o("button",{class:"bg-transparent font-bold py-2 ml-2 mr-2 rounded inline-flex items-center",onClick:l[0]||(l[0]=n=>e.exportWallet(e.wallet.name))},[Ne,o("span",Le,s(e.$t("general.export")),1)])])):(a(),r("div",Me,[i(` <button class="font-bold py-2 sm:py-2 md:px-5 md:py-2 xl:py-2 xl:mr-2 xl:ml-0 rounded inline-flex items-center" @click="deleteWallet(wallet.name)">
          <svg id="clear_black_24dp" xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 24 24">
            <path id="Path_114" data-name="Path 114" d="M0,0H24V24H0Z" fill="none"/>
            <path id="Path_115" data-name="Path 115" d="M18.3,5.71a1,1,0,0,0-1.41,0L12,10.59,7.11,5.7A1,1,0,0,0,5.7,7.11L10.59,12,5.7,16.89A1,1,0,0,0,7.11,18.3L12,13.41l4.89,4.89a1,1,0,0,0,1.41-1.41L13.41,12,18.3,7.11A1,1,0,0,0,18.3,5.71Z"/>
          </svg>
          </button> `),e.isLogin?i("v-if",!0):(a(),I(m,{key:0,walletName:e.wallet.name},null,8,["walletName"]))]))])])])}const De=M(we,[["render",Ce],["__file","/home/runner/work/web-wallet-vuejs/web-wallet-vuejs/src/modules/wallet/components/WalletTile.vue"]]);const Pe={name:"ViewWallets",components:{WalletTile:De},setup(){const e=g(()=>d.currentLoggedInWallet);return{wallets:g(()=>{var c=d.wallets.filterByNetworkName(x.chainNetworkName);return c}),walletState:d,networkState:x,isLogin:e}}},Ie={key:0,class:"mt-8 text-center w-full"},Ve={class:"inline-block"};function je(e,l,c,t,v,p){const m=W("WalletTile"),n=W("router-link");return a(),r("div",{class:N(`${t.isLogin?"lg:ml-60":""} p-1 text-gray-700`)},[o("h1",{class:N(`${t.isLogin?"":"text-white"} text-lg mt-10 xl:mb-5 md:text-xl sm:mb-5  text-center`)},s(e.$t("wallet.myWallets")),3),o("div",{class:N(`${t.isLogin?"":"text-white"} text-sm md:px-5 xl:px-5 xl:mt-0 text-center`)},s(e.$t("wallet.walletsAvailable")),3),(a(!0),r(B,null,G(t.wallets,f=>(a(),r("div",{class:"mt-4",key:f},[$(m,{class:"w-96 ml-auto mr-auto",wallet:f},null,8,["wallet"])]))),128)),t.isLogin?i("v-if",!0):(a(),r("div",Ie,[o("div",Ve,[$(n,{to:{name:"Home"},class:"flex items-center text-xs blue-btn py-4 px-10"},{default:j(()=>[L(s(e.$t("wallet.backHome")),1)]),_:1})])]))],2)}const Po=M(Pe,[["render",je],["__scopeId","data-v-2033e8ad"],["__file","/home/runner/work/web-wallet-vuejs/web-wallet-vuejs/src/modules/wallet/views/ViewWallets.vue"]]);export{Po as default};
