import"./vue-86063517.js";import{_ as Y,i as ne,A as b,w as _,m as le,n as k,T as ce,H as U}from"./index-5f2b4e3e.js";import{d as me}from"./tsjs-xpx-chain-sdk-84426b6a.js";import{S as pe}from"./SelectInputPluginClean-7ccead36.js";import{g as de,f as ue,e as he}from"./primevue-e09f7e84.js";import{t as ge}from"./jdenticon-e4458e79.js";import{u as fe}from"./vue-i18n-728f748b.js";import{_ as xe}from"./icon-more-options-3f3cfda9.js";import{_ as ve}from"./icon-link-new-caba1c4b.js";import{r as N,x as ye,aR as _e,c as S,t as we,B as C,C as be,o as c,z as h,a as I,m,A as r,g as n,l as y,b as x,e as f,D as O,p as ke,u as Q}from"./@vue-a9ecc9f1.js";import{_ as Se}from"./icon-plus-7207f329.js";import"./@js-joda-d98eb16f.js";import"./vue-router-21fffbbf.js";import"./rxjs-1250b26d.js";import"./tslib-8dbab242.js";import"./crypto-js-e64ac54c.js";import"./crypto-browserify-4fd8cccd.js";import"./randombytes-685e9383.js";import"./node-stdlib-browser-23a8bc7f.js";import"./buffer-6d367910.js";import"./base64-js-50a5cdf9.js";import"./ieee754-44f7831e.js";import"./process-2209b2b3.js";import"./safe-buffer-c463177b.js";import"./create-hash-92c04a28.js";import"./inherits-804453d8.js";import"./md5.js-8d474739.js";import"./hash-base-bb85fc42.js";import"./readable-stream-2241ee9e.js";import"./events-86ccc6d8.js";import"./util-06f7ff32.js";import"./is-arguments-86164331.js";import"./has-tostringtag-7c6352d6.js";import"./has-symbols-cd7870b9.js";import"./call-bind-9e7f09da.js";import"./get-intrinsic-f35014ba.js";import"./has-proto-8ede3a55.js";import"./function-bind-68631a08.js";import"./has-ab8e2922.js";import"./is-generator-function-06dfaf9d.js";import"./which-typed-array-cf6b6a29.js";import"./for-each-f57c5052.js";import"./is-callable-7492318c.js";import"./available-typed-arrays-61974ec7.js";import"./gopd-bab4d6bd.js";import"./is-typed-array-037eef20.js";import"./util-deprecate-c3aabb3c.js";import"./string_decoder-ef7b01fe.js";import"./ripemd160-58dcfa02.js";import"./sha.js-cea3da2e.js";import"./cipher-base-aee0e03d.js";import"./stream-browserify-7496a08f.js";import"./create-hmac-e8b5ea4a.js";import"./browserify-sign-a708a95f.js";import"./browserify-rsa-bfbdcbb6.js";import"./bn.js-1ae23332.js";import"./elliptic-75e883ee.js";import"./minimalistic-assert-4cc49674.js";import"./minimalistic-crypto-utils-6f869a51.js";import"./brorand-03f0f79d.js";import"./hash.js-4f5dfe73.js";import"./hmac-drbg-87799258.js";import"./parse-asn1-465c125b.js";import"./asn1.js-405e93e4.js";import"./safer-buffer-2ac6237e.js";import"./evp_bytestokey-e91543fa.js";import"./browserify-aes-ce20a0e6.js";import"./buffer-xor-87a7236a.js";import"./pbkdf2-e2ae8643.js";import"./browserify-cipher-c4c37ca3.js";import"./browserify-des-3f7e64d9.js";import"./des.js-d262604a.js";import"./diffie-hellman-c8260aab.js";import"./miller-rabin-de27bf02.js";import"./create-ecdh-ffe720e9.js";import"./public-encrypt-fc0568a2.js";import"./randomfill-2874e5f1.js";import"./mathjs-2a513dae.js";import"./@babel-484168fe.js";import"./typed-function-4896e4f1.js";import"./decimal.js-d133ee8e.js";import"./complex.js-cf2520e8.js";import"./fraction.js-39e7906a.js";import"./javascript-natural-sort-c4dd0c27.js";import"./escape-latex-c8a96e7a.js";import"./seedrandom-c8f991ad.js";import"./tiny-emitter-56d49cfd.js";import"./js-sha3-d7d4f583.js";import"./crypto-random-string-d158262e.js";import"./jose-92e5544c.js";import"./vue-loading-overlay-b89251b1.js";import"./jspdf-30014160.js";import"./fflate-8981c52c.js";import"./vue-debounce-3bbbf8c6.js";import"./mitt-f7ef348c.js";/* empty css                   */import"./maska-6f10db43.js";import"./@fortawesome-014b81f2.js";import"./vue3-blocks-tree-e53499e3.js";import"./@noble-f8eff84a.js";import"./utf8-c941a4a0.js";import"./bip39-936aefa9.js";import"./axios-b48d2c29.js";import"./flatbuffers-edc4f8d7.js";import"./ws-0a714537.js";import"./@intlify-16888cd3.js";import"./@vueform-4d3340af.js";const Te={components:{DataTable:de,Column:ue,SelectInputPluginClean:pe},name:"NamespaceDataTable",props:{account:ne,address:String},directives:{tooltip:he},setup(i,T){const{t:d}=fe(),a=N(!1),g=()=>{window.innerWidth<"1024"?a.value=!1:a.value=!0};g(),ye(()=>{window.addEventListener("resize",g)}),_e(()=>{window.removeEventListener("resize",g)});const v=S(()=>b.readBlockHeight?b.readBlockHeight:0),{address:L}=we(i),A=Q().appContext.config.globalProperties.emitter,D=N([]),H=N("");i.address&&(H.value=me.Address.createFromRawAddress(L.value).plain());const t=S(()=>{let s=[];return s.push({value:"",label:d("general.showAll")}),_.currentLoggedInWallet.accounts.forEach(u=>{s.push({value:u.address,label:u.name})}),_.currentLoggedInWallet.others.forEach(u=>{s.push({value:u.address,label:u.name})}),s});let E=new le(k.chainNetworkName);E.init();let F=parseInt(E.blockGenerationTargetTime);const X=(s,u,$)=>{let e=new Date,l=K(s,u,$),o={years:l.getFullYear()-e.getFullYear(),months:l.getMonth()-e.getMonth(),days:l.getDate()-e.getDate(),hours:l.getHours()-e.getHours(),mins:l.getMinutes()-e.getMinutes()};if(o.mins<0&&(o.hours--,o.mins+=60),o.hours<0&&(o.days--,o.hours+=24),o.days<0){o.months--;var w=new Date(e.getTime());w.setDate(32),o.days=32-e.getDate()-w.getDate()+l.getDate()}return o.months<0&&(o.years--,o.months+=12),o.years>0?o.years+" "+d("general.year",o.years):o.months>0?o.months+" "+d("general.month",o.months):o.days>0?o.days+" "+d("general.day",o.days):o.hours>0?o.hours+" "+d("general.hour",o.hours):o.mins+" "+d("general.minute",o.mins)},K=(s,u,$)=>{let e=new Date;return e.setTime(e.getTime()+s*24*60*60*1e3),e.setTime(e.getTime()+u*60*60*1e3),e.setTime(e.getTime()+$*60*1e3),e},q=S(()=>{let s=[];if(P.value){let e=_.currentLoggedInWallet.accounts.find(l=>l.address==P.value);e||(e=_.currentLoggedInWallet.others.find(l=>l.address==P.value)),e.namespaces.forEach(l=>{s.push({namespace:l,account:e})})}else _.currentLoggedInWallet.accounts.forEach(e=>{e.namespaces.forEach(l=>{s.push({namespace:l,account:e})})}),_.currentLoggedInWallet.others.forEach(e=>{e.namespaces.forEach(l=>{s.push({namespace:l,account:e})})});let u=[],$=new ce("ThemeStyleConfig");if($.init(),s.length>0)for(let e=0;e<s.length;++e){let l="";switch(s[e].namespace.linkType){case 1:l="Asset";break;case 2:l="Address";break}let o,w,M;if(typeof s[e].namespace.endHeight=="string")o="valid",s[e].namespace.endHeight==="F".repeat(16)&&(w="Never",M="Never");else{let R=s[e].namespace.endHeight-v.value,W=Math.floor(60*60*24/F),G=Math.floor(60*60/F),B=Math.floor(R/W),j=Math.floor(R%W/G),z=R%W%G;R>0?R<W*14?o="expiring":o="valid":o="expired",B>0||j>0||z>0?w=U.convertDisplayDateTimeFormat24(K(B,j,z)):w="None",v.value?R>0?M=X(B,j,z):w!="-"?M=d("general.expired"):M="-":M=""}let ae={i:e,idHex:s[e].namespace.idHex,name:s[e].namespace.name,linkType:l,linkedId:l==="Address"?U.createAddress(s[e].namespace.linkedId).pretty():s[e].namespace.linkedId,endHeight:s[e].namespace.endHeight,expiring:o,expiryRelative:M,expiry:v.value?w:"",explorerLink:b.isReady?k.currentNetworkProfile.chainExplorer.url+"/"+k.currentNetworkProfile.chainExplorer.namespaceInfoRoute+"/"+s[e].namespace.idHex:"",address:U.createAddress(s[e].account.address).pretty(),icon:ge(s[e].account.address,30,$.jdenticonConfig)};u.push(ae)}return u}),P=N(""),J=s=>{V.value=s,D.value[s]=!D.value[s]},V=N("");A.on("PAGE_CLICK",()=>{for(var s=0;s<D.value.length;)s!=V.value&&(D.value[s]=!1),s++});const Z=s=>{V.value=s},ee=()=>{V.value="e"},te=S(()=>b.isReady?k.currentNetworkProfile.chainExplorer.url:""),se=S(()=>b.isReady?k.currentNetworkProfile.chainExplorer.publicKeyRoute:""),re=S(()=>b.isReady?k.currentNetworkProfile.chainExplorer.addressRoute:""),ie=S(()=>b.isReady?k.currentNetworkProfile.chainExplorer.namespaceInfoRoute:""),oe=S(()=>b.isReady?k.currentNetworkProfile.chainExplorer.assetInfoRoute:"");return{addressExplorerURL:re,assetExplorerURL:oe,namespaceExplorerURL:ie,publicKeyExplorerURL:se,explorerBaseURL:te,showMenu:J,isMenuShow:D,hoverOverMenu:Z,hoverOutMenu:ee,listAccounts:t,filterNamespaces:P,generateDatatable:q,selectedAddress:H,wideScreen:a}}},De={class:"flex justify-between"},Ne={class:"text-sm pt-1 text-gray-700 ml-2 lg:ml-7"},Ie={class:"uppercase text-xxs text-gray-300 font-bold mb-1"},Ee={class:"uppercase font-bold text-txs"},$e={class:"uppercase text-xxs text-gray-300 font-bold mb-1"},Me={key:0,class:"uppercase font-bold text-txs"},Re={key:1,class:"text-gray-300 text-xs"},Ce={class:"text-center"},Le={class:"text-txs"},Ae={class:"text-txs uppercase"},He={key:0,class:"uppercase text-txs"},Pe={key:1,class:"text-txs"},Ve={key:0,class:"data.expiryRelative text-txs"},We={key:1,class:"text-gray-300 text-txs"},Be=["innerHTML"],je=["onMouseover"],ze=["onClick"],Ue={key:0,class:"mt-1 pop-option absolute right-0 w-32 rounded-sm shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none z-10 text-left lg:mr-2",role:"menu","aria-orientation":"vertical","aria-labelledby":"options-menu"},Oe={role:"none",class:"my-2"},Fe=["href"],Ke=r("img",{src:ve,class:"inline-block ml-2 relative -top-1"},null,-1);function Ge(i,T,d,a,g,v){const L=C("SelectInputPluginClean"),p=C("Column"),A=C("router-link"),D=C("DataTable"),H=be("tooltip");return c(),h("div",null,[I(D,{value:a.generateDatatable,paginator:!0,rows:10,alwaysShowPaginator:!1,responsiveLayout:"scroll"},{header:m(()=>[r("div",De,[r("span",Ne,n(i.$t("general.namespace",2)),1),I(L,{modelValue:a.filterNamespaces,"onUpdate:modelValue":T[0]||(T[0]=t=>a.filterNamespaces=t),options:a.listAccounts,selectDefault:a.selectedAddress,class:"w-48 lg:w-60 inline-block"},null,8,["modelValue","options","selectDefault"])])]),empty:m(()=>[y(n(i.$t("general.noRecord")),1)]),loading:m(()=>[y(n(i.$t("dashboard.fetchingTx")),1)]),default:m(()=>[a.wideScreen?f("v-if",!0):(c(),x(p,{key:0,style:{width:"250px"}},{body:m(({data:t})=>[r("div",null,[r("div",Ie,n(i.$t("general.name")),1),r("div",Ee,n(t.name),1)])]),_:1})),a.wideScreen?f("v-if",!0):(c(),x(p,{key:1,style:{width:"250px"}},{body:m(({data:t})=>[r("div",null,[r("div",$e,n(i.$t("dashboard.expirationEstimate")),1),t.expiry?(c(),h("div",Me,[y(n(t.expiry)+" ",1),r("div",{class:O(["rounded-full w-2 h-2 inline-block ml-2",t.expiring=="expired"?"bg-red-500":t.expiring=="expiring"?"bg-yellow-500":"bg-green-500"])},null,2)])):(c(),h("div",Re,n(i.$t("dashboard.fetching")),1))])]),_:1})),a.wideScreen?(c(),x(p,{key:2,style:{width:"30px"}},{body:m(({data:t})=>[r("div",Ce,[r("div",{class:O(["rounded-full w-2 h-2 inline-block",t.expiring=="expired"?"bg-red-500":t.expiring=="expiring"?"bg-yellow-500":"bg-green-500"])},null,2)])]),_:1})):f("v-if",!0),a.wideScreen?(c(),x(p,{key:3,field:"name",header:i.$t("general.name"),style:{"`wideScreen?'min-width":"160px'?'width: 160px'`"}},{body:m(({data:t})=>[r("span",Le,n(t.name),1)]),_:1},8,["header"])):f("v-if",!0),a.wideScreen?(c(),x(p,{key:4,field:"namespaceId",header:i.$t("general.namespaceId"),style:{"`wideScreen?'min-width":"180px'?'width: 180px'`"}},{body:m(({data:t})=>[r("span",Ae,n(t.idHex),1)]),_:1},8,["header"])):f("v-if",!0),a.wideScreen?(c(),x(p,{key:5,field:"linkedId",header:i.$t("general.linkedAssetAddress"),style:{"`wideScreen?'min-width":"200px'?'width: 200px'`"}},{body:m(({data:t})=>[t.linkedId?(c(),h("span",He,n(t.linkedId),1)):(c(),h("span",Pe,n(i.$t("general.noLinkedAsset")),1))]),_:1},8,["header"])):f("v-if",!0),a.wideScreen?(c(),x(p,{key:6,field:"linkType",header:i.$t("general.expires"),style:{"`wideScreen?'min-width":"150px'?'width: 150px'`"}},{body:m(({data:t})=>[t.expiryRelative?(c(),h("div",Ve,n(t.expiryRelative),1)):(c(),h("div",We,n(i.$t("dashboard.fetching")),1))]),_:1},8,["header"])):f("v-if",!0),a.wideScreen?(c(),x(p,{key:7,field:"Active",header:i.$t("dashboard.expirationEstimate"),style:{"`wideScreen?'min-width":"210px'?'width: 210px'`"}},{body:m(({data:t})=>[r("span",{class:O(["text-txs",t.expiring=="expired"?"text-red-500":t.expiring=="expiring"?"text-yellow-500":"text-green-500"])},n(t.expiry),3)]),_:1},8,["header"])):f("v-if",!0),a.wideScreen?(c(),x(p,{key:8,field:"Account",header:i.$t("general.account"),bodyStyle:"text-align: center; overflow: visible",style:{"`wideScreen?'min-width":"60px'?'width: 60px'`"}},{body:m(({data:t})=>[ke(r("div",{innerHTML:t.icon,class:"inline-block"},null,8,Be),[[H,{value:"<tiptitle>WALLET ADDRESS</tiptitle><tiptext>"+t.address+"</tiptext>",escape:!0},void 0,{bottom:!0}]])]),default:m(()=>[y("> ")]),_:1},8,["header"])):f("v-if",!0),I(p,{style:{width:"30px"}},{body:m(({data:t})=>[r("div",{class:"text-txs text-center lg:mr-2",onMouseover:E=>a.hoverOverMenu(t.i),onMouseout:T[1]||(T[1]=(...E)=>a.hoverOutMenu&&a.hoverOutMenu(...E))},[r("img",{src:xe,class:"w-4 h-4 cursor-pointer inline-block",onClick:E=>a.showMenu(t.i)},null,8,ze),a.isMenuShow[t.i]?(c(),h("div",Ue,[r("div",Oe,[I(A,{to:{name:"ViewServicesNamespaceExtend",params:{address:t.address,namespaceId:t.idHex}},class:"block hover:bg-gray-100 transition duration-200 p-2 z-20"},{default:m(()=>[y(n(i.$t("general.extendDuration")),1)]),_:2},1032,["to"]),I(A,{to:{name:"ViewUpdateNamespaceMetadata",params:{targetId:t.idHex}},class:"block hover:bg-gray-100 transition duration-200 p-2 z-20"},{default:m(()=>[y("Update Metadata")]),_:2},1032,["to"]),r("a",{href:t.explorerLink,class:"block hover:bg-gray-100 transition duration-200 p-2 z-20",target:"_new"},[y(n(i.$t("general.viewInExplorer")),1),Ke],8,Fe)])])):f("v-if",!0)],40,je)]),_:1})]),_:1},8,["value"])])}const Ye=Y(Te,[["render",Ge],["__file","/home/runner/work/web-wallet-vuejs/web-wallet-vuejs/src/modules/services/submodule/namespaces/components/NamespaceDataTable.vue"]]),Qe="/web-wallet-vuejs/assets/namespace_default-a764df25.svg",Xe={name:"ViewServicesNamespace",components:{NamespaceDataTable:Ye},props:{address:String},setup(){const i=N(0),d=Q().appContext.config.globalProperties.emitter,a=N([]);return _.currentLoggedInWallet&&(_.currentLoggedInWallet.accounts.forEach(g=>{g.namespaces.forEach(v=>{a.value.push(v)})}),_.currentLoggedInWallet.others.forEach(g=>{g.namespaces.forEach(v=>{a.value.push(v)})})),d.on("TXN_CONFIRMED",g=>{setTimeout(()=>{++i.value},1e3)}),{namespaces:a,defaultIndex:i}}},qe={class:"ml-2 mr-2 w-full lg:ml-auto lg:mr-auto mt-5"},Je={key:0},Ze=r("img",{src:Se,class:"inline-block mr-2"},null,-1),et={key:1,class:"lg:w-9/12 ml-2 mr-2 lg:ml-auto lg:mr-auto mt-5"},tt={class:"flex justify-between text-sm mb-5"},st={class:"text-gray-700"},rt={class:"border border-gray-200 filter drop-shadow-xl py-2 sm:py-14 px-2 sm:px-28 text-center bg-white"},it=r("img",{src:Qe,class:"inline-block h-18 w-18"},null,-1),ot={class:"text-gray-700 text-sm my-5"},at={class:"text-gray-600 text-tsm my-5"},nt={class:"sm:grid sm:grid-cols-2 mt-10 lg:mt-16"},lt={class:"mb-8 sm:pr-1"},ct={href:"https://bcdocs.xpxsirius.io/docs/built-in-features/namespace/",target:"_new",class:"sm:h-9 lg:h-5 text-blue-primary font-bold text-tsm items-start flex"},mt={class:"text-gray-400 text-tsm my-3 sm:pr-2"},pt={class:"mb-8"},dt={href:"https://t.me/proximaxhelpdesk",target:"_new",class:"sm:h-9 lg:h-5 text-blue-primary font-bold text-tsm items-start flex"},ut={class:"text-gray-400 text-tsm my-3"};function ht(i,T,d,a,g,v){const L=C("NamespaceDataTable"),p=C("router-link");return c(),h("div",null,[r("div",qe,[a.namespaces.length>0?(c(),h("div",Je,[(c(),x(L,{class:"mt-10 w-full",key:a.defaultIndex,address:d.address},null,8,["address"])),I(p,{to:{name:"ViewServicesNamespaceCreate"},class:"mt-10 lg:mt-0 bg-blue-primary px-5 py-3 text-gray-100 text-xs font-bold rounded-md flex items-center justify-center w-60"},{default:m(()=>[Ze,y(n(i.$t("namespace.registerNewNamespace")),1)]),_:1})])):(c(),h("div",et,[r("div",tt,[r("div",null,[r("span",st,n(i.$t("general.namespace",2)),1)])]),r("div",rt,[it,r("div",ot,n(i.$t("namespace.noNamespace2")),1),r("div",at,n(i.$t("namespace.namespaceDescription")),1),I(p,{to:{name:"ViewServicesNamespaceCreate"},class:"bg-blue-primary py-2 px-7 rounded-lg text-white font-bold mt-4 inline-block"},{default:m(()=>[y(n(i.$t("namespace.registerNamespace")),1)]),_:1})]),r("div",nt,[r("div",lt,[r("a",ct,n(i.$t("general.namespaceQues")),1),r("div",mt,n(i.$t("namespace.namespaceAns")),1)]),r("div",pt,[r("a",dt,n(i.$t("general.feedback")),1),r("div",ut,n(i.$t("general.feedbackDescription")),1)])])]))])])}const hr=Y(Xe,[["render",ht],["__file","/home/runner/work/web-wallet-vuejs/web-wallet-vuejs/src/modules/services/submodule/namespaces/views/ViewServicesNamespace.vue"]]);export{hr as default};
