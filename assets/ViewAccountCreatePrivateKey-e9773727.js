import"./vue-86063517.js";import{u as I}from"./vue-router-21fffbbf.js";import{T as N}from"./TextInput-50fcd4b9.js";import{P as E}from"./PasswordInput-92cf8ee7.js";import{_ as W,w as o,W as u,n as C,A,i as L}from"./index-71c561bd.js";import{d as T}from"./tsjs-xpx-chain-sdk-84426b6a.js";import{u as M}from"./vue-i18n-728f748b.js";import{_ as S}from"./chevron_left-0423cb29.js";import{r as n,c as K,B as g,z as V,A as a,a as w,m as $,g as p,e as B,o as k,l as U}from"./@vue-a9ecc9f1.js";import"./@js-joda-d98eb16f.js";import"./rxjs-1250b26d.js";import"./tslib-8dbab242.js";import"./crypto-js-e64ac54c.js";import"./crypto-browserify-4fd8cccd.js";import"./randombytes-685e9383.js";import"./node-stdlib-browser-23a8bc7f.js";import"./buffer-6d367910.js";import"./base64-js-50a5cdf9.js";import"./ieee754-44f7831e.js";import"./process-2209b2b3.js";import"./safe-buffer-c463177b.js";import"./create-hash-92c04a28.js";import"./inherits-804453d8.js";import"./md5.js-8d474739.js";import"./hash-base-bb85fc42.js";import"./readable-stream-2241ee9e.js";import"./events-86ccc6d8.js";import"./util-06f7ff32.js";import"./is-arguments-86164331.js";import"./has-tostringtag-7c6352d6.js";import"./has-symbols-cd7870b9.js";import"./call-bind-9e7f09da.js";import"./get-intrinsic-f35014ba.js";import"./has-proto-8ede3a55.js";import"./function-bind-68631a08.js";import"./has-ab8e2922.js";import"./is-generator-function-06dfaf9d.js";import"./which-typed-array-cf6b6a29.js";import"./for-each-f57c5052.js";import"./is-callable-7492318c.js";import"./available-typed-arrays-61974ec7.js";import"./gopd-bab4d6bd.js";import"./is-typed-array-037eef20.js";import"./util-deprecate-c3aabb3c.js";import"./string_decoder-ef7b01fe.js";import"./ripemd160-58dcfa02.js";import"./sha.js-cea3da2e.js";import"./cipher-base-aee0e03d.js";import"./stream-browserify-7496a08f.js";import"./create-hmac-e8b5ea4a.js";import"./browserify-sign-a708a95f.js";import"./browserify-rsa-bfbdcbb6.js";import"./bn.js-1ae23332.js";import"./elliptic-75e883ee.js";import"./minimalistic-assert-4cc49674.js";import"./minimalistic-crypto-utils-6f869a51.js";import"./brorand-03f0f79d.js";import"./hash.js-4f5dfe73.js";import"./hmac-drbg-87799258.js";import"./parse-asn1-465c125b.js";import"./asn1.js-405e93e4.js";import"./safer-buffer-2ac6237e.js";import"./evp_bytestokey-e91543fa.js";import"./browserify-aes-ce20a0e6.js";import"./buffer-xor-87a7236a.js";import"./pbkdf2-e2ae8643.js";import"./browserify-cipher-c4c37ca3.js";import"./browserify-des-3f7e64d9.js";import"./des.js-d262604a.js";import"./diffie-hellman-c8260aab.js";import"./miller-rabin-de27bf02.js";import"./create-ecdh-ffe720e9.js";import"./public-encrypt-fc0568a2.js";import"./randomfill-2874e5f1.js";import"./mathjs-2a513dae.js";import"./@babel-484168fe.js";import"./typed-function-4896e4f1.js";import"./decimal.js-d133ee8e.js";import"./complex.js-cf2520e8.js";import"./fraction.js-39e7906a.js";import"./javascript-natural-sort-c4dd0c27.js";import"./escape-latex-c8a96e7a.js";import"./seedrandom-c8f991ad.js";import"./tiny-emitter-56d49cfd.js";import"./js-sha3-d7d4f583.js";import"./crypto-random-string-d158262e.js";import"./jose-92e5544c.js";import"./primevue-35724b2c.js";import"./vue-loading-overlay-b89251b1.js";import"./jspdf-30014160.js";import"./fflate-8981c52c.js";import"./vue-debounce-3bbbf8c6.js";import"./mitt-f7ef348c.js";/* empty css                   */import"./maska-6f10db43.js";import"./@fortawesome-014b81f2.js";import"./vue3-blocks-tree-e53499e3.js";import"./@noble-f8eff84a.js";import"./utf8-c941a4a0.js";import"./bip39-936aefa9.js";import"./axios-b48d2c29.js";import"./flatbuffers-edc4f8d7.js";import"./ws-0a714537.js";import"./@intlify-16888cd3.js";const j={name:"ViewAccountCreatePrivateKey",components:{TextInput:N,PasswordInput:E},setup(){const{t}=M(),r=n(!1),s=n(""),e=n(""),m=n(""),f=n(!1),c="^(0x|0X)?[a-fA-F0-9].{63,65}$",d="^[^ ]{8,}$",v=I(),i=K(()=>!(m.value.match(d)&&e.value.length!=""&&s.value.match(c))),x=K(()=>!s.value.match(c)&&s.value!=""),h=o.currentLoggedInWallet?o.currentLoggedInWallet.name:"";return{showPkError:x,walletState:o,err:r,create:async()=>{if(!o.currentLoggedInWallet)return;if(o.currentLoggedInWallet.accounts.find(l=>l.name==e.value))r.value=t("account.nameTaken");else{var P=u.verifyWalletPassword(o.currentLoggedInWallet.name,C.chainNetworkName,m.value);if(P==-1)r.value=t("account.failCreate");else if(P==0)r.value=t("general.walletPasswordInvalid",{name:h});else{const l=T.Account.createFromPrivateKey(s.value,A.networkType,1);if(o.currentLoggedInWallet.accounts.find(y=>y.publicKey==l.publicKey))r.value=t("account.privateKeyExist");else{let y=u.createPassword(m.value);const _=u.createAccountSimpleFromPrivateKey(e.value,y,s.value,A.networkType);let b=new L(e.value,l.publicKey,l.address.plain(),"pass:bip32",_.encryptedPrivateKey.encryptedKey,_.encryptedPrivateKey.iv);o.currentLoggedInWallet.accounts.push(b),await u.reloadAddedAccount(b.name),o.wallets.saveMyWalletOnlytoLocalStorage(o.currentLoggedInWallet),v.push({name:"ViewAccountDetails",params:{address:l.address.address,accountCreated:!0}})}}}},accountName:e,walletPassword:m,privKey:s,showPasswdError:f,disableCreate:i,walletName:h}},methods:{clearInput:function(){this.accountName="",this.walletPassword="",this.privKey=""}}},F={class:"flex cursor-pointer"},D=a("img",{src:S},null,-1),R={class:"border w-8/12 ml-auto mr-auto mt-6 filter shadow-lg"},q={class:"text-lg text-center font-bold mt-10"},z={class:"text-blue-primary text-xs text-center font-bold"},O={key:0,class:"error error_box mb-2 w-8/12 ml-auto mr-auto"},X={class:"w-8/12 ml-auto mr-auto mt-3"},G={class:"flex justify-center mt-3"},H=["disabled"],J=a("div",{class:"mt-10"},null,-1);function Q(t,r,s,e,m,f){const c=g("router-link"),d=g("PasswordInput"),v=g("TextInput");return k(),V("div",null,[a("div",F,[D,w(c,{to:{name:"ViewAccountCreateSelectType"},class:"text-blue-primary text-xs mt-0.5"},{default:$(()=>[U(p(t.$t("general.back")),1)]),_:1})]),a("div",R,[a("div",q,p(t.$t("general.createNewAcc")),1),a("div",z,p(t.$t("general.fromPrivateKey")),1),e.err!=""?(k(),V("div",O,p(e.err),1)):B("v-if",!0),a("div",X,[w(d,{placeholder:t.$t("general.privateKey"),errorMessage:t.$t("general.invalidPrivateKey"),icon:"key",showError:e.showPkError,modelValue:e.privKey,"onUpdate:modelValue":r[0]||(r[0]=i=>e.privKey=i)},null,8,["placeholder","errorMessage","showError","modelValue"]),w(v,{class:"mt-3",placeholder:t.$t("account.namePlaceholder"),errorMessage:t.$t("account.enterAccountName"),modelValue:e.accountName,"onUpdate:modelValue":r[1]||(r[1]=i=>e.accountName=i),icon:"wallet"},null,8,["placeholder","errorMessage","modelValue"]),w(d,{class:"mt-3",placeholder:t.$t("general.enterPassword"),errorMessage:t.$t("general.passwordRequired"),showError:e.showPasswdError,icon:"lock",modelValue:e.walletPassword,"onUpdate:modelValue":r[2]||(r[2]=i=>e.walletPassword=i)},null,8,["placeholder","errorMessage","showError","modelValue"])]),a("div",G,[a("button",{type:"submit",class:"blue-btn py-2 px-8 disabled:opacity-50",onClick:r[3]||(r[3]=i=>e.create()),disabled:e.disableCreate},p(t.$t("general.create")),9,H)]),J])])}const Qt=W(j,[["render",Q],["__file","/home/runner/work/web-wallet-vuejs/web-wallet-vuejs/src/modules/account/views/ViewAccountCreatePrivateKey.vue"]]);export{Qt as default};
