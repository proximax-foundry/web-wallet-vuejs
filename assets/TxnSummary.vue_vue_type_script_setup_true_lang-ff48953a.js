import{d as S,K as j,c as L,w as x,g as F,r as A,o as t,f as n,t as l,i as g,l as p,b as y,e as s,v as H,E as N,O as P,D as E,a as X,x as C,A as $,n as V,s as _,F as w,M as W}from"./index-ac085045.js";import{t as I}from"./jdenticon-module-2a95d186.js";import{_ as D,a as T}from"./TransactionFeeLayout.vue_vue_type_script_setup_true_lang-4c592bc8.js";const U={class:"w-full"},O={key:0,class:"text-blue-primary font-semibold uppercase text-xxs"},G={key:0},Z={key:1},z={key:2},J={key:3},Q={key:0,class:"account-item-value account-item"},Y={class:"flex"},ee=["innerHTML"],te={key:0,class:"flex flex-col ml-2 text-left"},ne=s("div",{class:"text-blue-primary font-semibold text-xxs uppercase",style:{"line-height":"9px"}}," Selected Account to create / initiate transfer",-1),se={class:"mt-2 text-tsm font-bold"},le={key:1,class:"flex flex-col ml-2 text-left"},ae=s("div",{class:"text-blue-primary font-semibold text-xxs uppercase",style:{"line-height":"9px"}}," Selected Account to create namespace",-1),ie={class:"mt-2 text-tsm font-bold"},ce={key:2,class:"flex flex-col ml-2 text-left"},oe=s("div",{class:"text-blue-primary font-semibold text-xxs uppercase",style:{"line-height":"9px"}}," Selected Account to create asset",-1),re={class:"mt-2 text-tsm font-bold"},ue={key:3,class:"flex flex-col ml-2 text-left"},de={class:"text-blue-primary font-semibold text-xxs uppercase",style:{"line-height":"9px"}},me={class:"mt-2 text-tsm font-bold"},ye={class:"account-item"},ve={class:"flex"},ge=["innerHTML"],fe={class:"text-xs ml-2 font-semibold"},pt=S({__name:"SelectInputAccount",props:{type:{type:String,required:!0},label:{type:String,required:!1}},emits:["select-account","select-account-public-key","update:modelValue"],setup(e){const b=N().appContext.config.globalProperties.emitter;let d=new j("ThemeStyleConfig");d.init();let f=d.jdenticonConfig;const a=L(()=>x.currentLoggedInWallet?[...x.currentLoggedInWallet.accounts.filter(r=>r.multisigInfo.length==0||r.multisigInfo.find(o=>o.level==0).cosignaturies.length==0)].map(r=>({value:r.address,label:x.currentLoggedInWallet.convertAddressToName(r.address,!0),publicKey:r.publicKey})):[]),u=F(null),c=F(null),i=(v,r,o)=>{if(v==null&&r==null&&o==null){u.value=null,b.emit("select-account",null),b.emit("select-account-public-key",null);return}b.emit("select-account",r),b.emit("select-account-public-key",o),u.value.label=v,u.value.value=r,u.value.publicKey=o,c.value=I(r,25,f)};return(v,r)=>{const o=A("Dropdown");return t(),n("div",U,[u.value?g("",!0):(t(),n("div",O,[e.type=="transfer"?(t(),n("div",G,"Select Account to create / initiate transfer")):e.type=="namespace"?(t(),n("div",Z,"Select Account to create namespace")):e.type=="asset"?(t(),n("div",z,"Select Account to create asset")):(t(),n("div",J,"Select Account to "+l(e.label),1))])),p(o,{modelValue:u.value,"onUpdate:modelValue":r[0]||(r[0]=m=>u.value=m),style:{width:"100%"},options:a.value,filter:!0,filterFields:["label","value","publicKey"],emptyFilterMessage:" ",placeholder:"Select Account",onChange:r[1]||(r[1]=m=>{var k,M,R,K,q,B;i((k=m.value)==null?void 0:k.label,(M=m.value)==null?void 0:M.value,(R=m.value)==null?void 0:R.publicKey),v.$emit("update:modelValue",(K=m.value)==null?void 0:K.value),v.$emit("select-account",(q=m.value)==null?void 0:q.value),v.$emit("select-account-public-key",(B=m.value)==null?void 0:B.publicKey)})},{value:y(m=>[m.value?(t(),n("div",Q,[s("div",Y,[s("div",{innerHTML:c.value},null,8,ee),e.type=="transfer"?(t(),n("div",te,[ne,s("div",se,l(m.value.label),1)])):e.type=="namespace"?(t(),n("div",le,[ae,s("div",ie,l(m.value.label),1)])):e.type=="asset"?(t(),n("div",ce,[oe,s("div",re,l(m.value.label),1)])):(t(),n("div",ue,[s("div",de," Selected Account to "+l(e.label),1),s("div",me,l(m.value.label),1)]))])])):g("",!0)]),option:y(m=>[s("div",ye,[s("div",ve,[s("div",{innerHTML:H(I)(m.option.value,20,H(f))},null,8,ge),s("div",fe,l(m.option.label),1)])])]),_:1},8,["modelValue","options"])])}}}),pe={class:"text-xxs text-blue-primary font-semibold uppercase ml-auto mr-auto"},he={class:"text-xxs text-blue-primary font-semibold uppercase ml-auto mr-auto"},ht=S({__name:"SelectInputMultisigAccount",props:{selectedAddress:{type:String,required:!1}},emits:["select-multisig-account","update:modelValue"],setup(e){const h=F(!1),b=e,{selectedAddress:d}=P(b),f=F([]),u=N().appContext.config.globalProperties.emitter;E(d,i=>{if(i==null){f.value=[];return}const v=x.currentLoggedInWallet.accounts.find(o=>o.address==i),r=v.multisigInfo.find(o=>o.level==0);f.value=r?[...v.multisigInfo].filter(o=>o.level<0).map(o=>{const k=[...x.currentLoggedInWallet.accounts,...x.currentLoggedInWallet.others].find(M=>M.publicKey==o.publicKey);return{label:k?x.currentLoggedInWallet.convertAddressToName(k.address):x.currentLoggedInWallet.convertAddressToName(C.PublicAccount.createFromPublicKey(o.publicKey,$.networkType).address.plain())?x.currentLoggedInWallet.convertAddressToName(C.PublicAccount.createFromPublicKey(o.publicKey,$.networkType).address.plain()):C.PublicAccount.createFromPublicKey(o.publicKey,$.networkType).address.plain(),value:C.PublicAccount.createFromPublicKey(o.publicKey,$.networkType).address.plain(),publicKey:o.publicKey}}):[]});const c=i=>{u.emit("update:modelValue",i==null?void 0:i.value),u.emit("select-multisig-account",i),h.value=!1};return(i,v)=>{const r=A("font-awesome-icon"),o=A("Tree"),m=A("Sidebar");return t(),n("div",null,[f.value.length&&!h.value&&H(d)?(t(),n("button",{key:0,class:"border rounded-md cursor-pointer flex flex-col justify-center py-1 px-1.5",onClick:v[0]||(v[0]=k=>h.value=!0)},[p(r,{icon:"id-card-alt",class:"text-blue-primary ml-auto mr-auto"}),s("div",pe,l(i.$t("general.select")),1),s("div",he,l(i.$t("general.multisig")),1)])):g("",!0),p(m,{visible:h.value,"onUpdate:visible":v[1]||(v[1]=k=>h.value=k),baseZIndex:1e4,position:"full"},{default:y(()=>[h.value&&f.value.length?(t(),X(o,{key:0,showClear:!0,style:{width:"100%"},value:f.value,filter:!0,selectionMode:"single",filterFields:["label","value"],emptyFilterMessage:" ",onNodeSelect:c},null,8,["value"])):g("",!0)]),_:1},8,["visible"])])}}}),be={class:"w-full mt-0 border border-gray-200 px-2 py-2 rounded-md"},xe={class:"flex"},ke=["innerHTML"],Te={class:"flex flex-col ml-2 text-left"},_e={key:0,class:"text-blue-primary font-semibold text-xxs uppercase",style:{"line-height":"9px"}},$e={key:1,class:"text-blue-primary font-semibold text-xxs uppercase",style:{"line-height":"9px"}},Ae={key:2,class:"text-blue-primary font-semibold text-xxs uppercase",style:{"line-height":"9px"}},Fe={key:3,class:"text-blue-primary font-semibold text-xxs uppercase",style:{"line-height":"9px"}},Me={class:"mt-2 text-tsm font-bold"},Ce={class:"ml-auto mt-auto mb-auto mr-6"},bt=S({__name:"MultisigInput",props:{selectDefaultAddress:{type:String,required:!0},selectDefaultName:{type:String,required:!0},type:{type:String,required:!0},label:{type:String,required:!1}},setup(e){const h=e,d=N().appContext.config.globalProperties.emitter;let f=new j("ThemeStyleConfig");f.init();let a=F(f.jdenticonConfig);const u=L(()=>I(h.selectDefaultAddress,25,a.value)),c=()=>{d.emit("CLOSE_MULTISIG")};return(i,v)=>{const r=A("font-awesome-icon");return t(),n("div",be,[s("div",xe,[s("div",{innerHTML:u.value},null,8,ke),s("div",Te,[e.type=="transfer"?(t(),n("div",_e,l(i.$t("transfer.transferFrom"))+" "+l(i.$t("general.multisig")),1)):e.type=="namespace"?(t(),n("div",$e,l(i.$t("general.createNamespace"))+" From "+l(i.$t("general.multisig")),1)):e.type=="asset"?(t(),n("div",Ae,l(i.$t("asset.assetCreatedBy"))+" "+l(i.$t("general.multisig")),1)):(t(),n("div",Fe,l(e.label),1)),s("div",Me,l(e.selectDefaultName),1)]),s("div",Ce,[p(r,{icon:"times",class:"delete-icon-style",onClick:v[0]||(v[0]=o=>c())})])])])}}}),Le={key:0},Se=["innerHTML"],we={key:0},He={key:0},Ie={key:1},Ne={key:2},Re={key:0},Ke=["innerHTML"],qe={key:1},Be=["innerHTML"],Ve={key:2},We=["innerHTML"],De={key:0,class:"lg:col-span-4 col-span-6 ml-auto"},je={key:1,class:"lg:col-span-4 col-span-6 ml-auto"},Pe=["index"],Ee=s("div",{class:"border-b-2 border-gray-600 my-2"},null,-1),Xe=["innerHTML"],Ue=s("div",{class:"border-b-2 border-gray-600 mt-2"},null,-1),Oe={key:1},Ge={key:0},Ze={key:0},ze={key:1},Je={key:2},Qe={key:0},Ye=["innerHTML"],et={key:1},tt=["innerHTML"],nt={key:2},st=["innerHTML"],lt={key:0,class:"lg:col-span-4 col-span-6 ml-auto"},at={key:1,class:"lg:col-span-4 col-span-6 ml-auto"},it=["index"],ct=["innerHTML"],ot={key:2},rt=["innerHTML"],ut=["innerHTML"],dt=s("div",{class:"border-b-2 border-gray-600 mt-2"},null,-1),mt=s("div",{class:"uppercase"},"total",-1),yt=["innerHTML"],xt=S({__name:"TxnSummary",props:{selectedMultisigAddress:{type:String||null},nativeTokenBalance:{type:Number,required:!0},selectedAssets:{type:Array,required:!1},lockFund:{type:Number,required:!0},txnFee:{type:Number,required:!0},lockFundTxFee:{type:Number,required:!0},totalFee:{type:Number,required:!0},nativeAmount:{type:String,required:!1},signerNativeTokenBalance:{type:Number,required:!0},namespaceRentalFeeCurrency:{type:String,required:!1},assetRentalFeeCurrency:{type:String,required:!1}},setup(e){const h=[{namespace:"prx.xpx",name:"XPX"},{namespace:"prx.metx",name:"METX"},{namespace:"xarcade.xar",name:"XAR"}],b=a=>{const u=h.find(c=>c.namespace==a);return u?u.name:a.length==16?a.substring(0,4)+"..."+a.substring(a.length-4,a.length+1):a},d=a=>{let u=a.toString().split(".");return u[1]!=null?'<span class="font-semibold text-sm">'+u[0]+'</span>.<span class="font-semibold text-xs">'+u[1]+"</span>":'<span class="font-semibold text-sm">'+u[0]+"</span>"},f=L(()=>$.networkType);return L(()=>f.value==168&&V.chainNetworkName=="Sirius Testnet 1"?"https://bctestnetfaucet.xpxsirius.io/#/":f.value==168&&V.chainNetworkName=="Sirius Testnet 2"?"https://bctestnet2faucet.xpxsirius.io/#/":""),(a,u)=>(t(),n(w,null,[e.selectedMultisigAddress?(t(),n("div",Le,[p(D,null,{selectedAcc:y(()=>[_(l(a.$t("general.multisigAcc")),1)]),accBalance:y(()=>[s("div",{innerHTML:d(e.nativeTokenBalance??0)},null,8,Se)]),_:1}),e.nativeAmount||e.namespaceRentalFeeCurrency||e.assetRentalFeeCurrency?(t(),n("div",we,[p(T,null,{transactionType:y(()=>[e.nativeAmount?(t(),n("div",He,l(a.$t("transfer.transferAmount")),1)):e.namespaceRentalFeeCurrency?(t(),n("div",Ie,l(a.$t("general.namespacerentalFee")),1)):e.assetRentalFeeCurrency?(t(),n("div",Ne,l(a.$t("general.assetRentalFee")),1)):g("",!0)]),transactionTypeFee:y(()=>[e.nativeAmount?(t(),n("div",Re,[s("div",{innerHTML:d(e.nativeAmount??0)},null,8,Ke)])):e.namespaceRentalFeeCurrency?(t(),n("div",qe,[s("div",{innerHTML:d(e.namespaceRentalFeeCurrency??0)},null,8,Be)])):e.assetRentalFeeCurrency?(t(),n("div",Ve,[s("div",{innerHTML:d(e.assetRentalFeeCurrency??0)},null,8,We)])):g("",!0)]),_:1})])):g("",!0),e.selectedAssets?(t(!0),n(w,{key:1},W(e.selectedAssets,(c,i)=>(t(),n("div",{class:"lg:grid lg:grid-cols-5 grid grid-cols-7 text-white text-xs",key:i},[isNaN(parseFloat(c.amount))&&c.id!=null?(t(),n("div",De," 0 ")):(t(),n("div",je,l(c.amount),1)),c.id!=null?(t(),n("div",{key:2,class:"ml-1 text-blue-400",index:i},l(b(c.namespace==""?c.id:c.namespace)),9,Pe)):g("",!0)]))),128)):g("",!0),Ee])):g("",!0),p(D,null,{selectedAcc:y(()=>[_(l(a.$t("general.signerAcc")),1)]),accBalance:y(()=>[s("div",{innerHTML:d(e.selectedMultisigAddress?e.signerNativeTokenBalance:e.nativeTokenBalance??0)},null,8,Xe)]),_:1}),Ue,e.selectedMultisigAddress?g("",!0):(t(),n("div",Oe,[e.nativeAmount||e.namespaceRentalFeeCurrency||e.assetRentalFeeCurrency?(t(),n("div",Ge,[p(T,null,{transactionType:y(()=>[e.nativeAmount?(t(),n("div",Ze,l(a.$t("transfer.transferAmount")),1)):e.namespaceRentalFeeCurrency?(t(),n("div",ze,l(a.$t("general.namespacerentalFee")),1)):e.assetRentalFeeCurrency?(t(),n("div",Je,l(a.$t("general.assetRentalFee")),1)):g("",!0)]),transactionTypeFee:y(()=>[e.nativeAmount?(t(),n("div",Qe,[s("div",{innerHTML:d(e.nativeAmount??0)},null,8,Ye)])):e.namespaceRentalFeeCurrency?(t(),n("div",et,[s("div",{innerHTML:d(e.namespaceRentalFeeCurrency??0)},null,8,tt)])):e.assetRentalFeeCurrency?(t(),n("div",nt,[s("div",{innerHTML:d(e.assetRentalFeeCurrency??0)},null,8,st)])):g("",!0)]),_:1})])):g("",!0),e.selectedAssets?(t(!0),n(w,{key:1},W(e.selectedAssets,(c,i)=>(t(),n("div",{class:"lg:grid lg:grid-cols-5 grid grid-cols-7 text-white text-xs",key:i},[isNaN(parseFloat(c.amount))&&c.id!=null?(t(),n("div",lt," 0 ")):(t(),n("div",at,l(c.amount),1)),c.id!=null?(t(),n("div",{key:2,class:"ml-1 text-blue-400",index:i},l(b(c.namespace==""?c.id:c.namespace)),9,it)):g("",!0)]))),128)):g("",!0)])),p(T,null,{transactionType:y(()=>[_(l(e.selectedMultisigAddress!=null?a.$t("general.aggregateFee"):a.$t("general.transactionFee")),1)]),transactionTypeFee:y(()=>[s("div",{innerHTML:d(e.txnFee)},null,8,ct)]),_:1}),e.selectedMultisigAddress!=null?(t(),n("div",ot,[p(T,null,{transactionType:y(()=>[_(l(a.$t("general.lockFund")),1)]),transactionTypeFee:y(()=>[s("div",{innerHTML:d(e.lockFund??0)},null,8,rt)]),_:1}),p(T,null,{transactionType:y(()=>[_(l(a.$t("general.lockFundTxFee")),1)]),transactionTypeFee:y(()=>[s("div",{innerHTML:d(e.lockFundTxFee??0)},null,8,ut)]),_:1})])):g("",!0),dt,p(T,null,{transactionType:y(()=>[mt]),transactionTypeFee:y(()=>[s("div",{innerHTML:d(e.totalFee)},null,8,yt)]),_:1})],64))}});export{pt as _,ht as a,bt as b,xt as c};
