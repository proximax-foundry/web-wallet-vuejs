import{d as te,j as se,y as le,c as B,A as oe,n as ae,g as c,K as re,Y as ne,W as U,w as ie,x as de,D as ce,r as D,o as m,f as b,e as t,l as r,b as g,s as H,t as l,m as ue,v as n,i as p,V as y,a as K,X as me,F as pe}from"./index-f4fa05bb.js";import{_ as ve}from"./chevron_left-0423cb29.js";import{_ as we}from"./icon-green-tick-1b766454.js";import{t as fe,o as be,s as _,u as ge,a as x,b as E,_ as ye}from"./vee-validate-zod.esm-fead55b2.js";import{c as _e}from"./functions-19d5b840.js";import{_ as xe}from"./SelectNetwork.vue_vue_type_script_setup_true_lang-0dd2ceda.js";import{t as he}from"./jdenticon-module-14cc3de9.js";import{E as ke}from"./jspdf.es.min-452dff5d.js";import{q as $e}from"./qrcode-f7caa088.js";import{p as Ve}from"./pdfPaperWalletBackground-9b716104.js";const Pe={class:"md:col-span-1 bg-white mx-5 md:mx-0 px-30 pt-1 md:pt-0 rounded-md"},Se=t("img",{src:ve,class:"w-5 inline-block"},null,-1),Ce={class:"text-sm text-center font-semibold"},Ke={class:"text-xxs text-center text-blue-primary mb-5 font-bold uppercase"},Ee={class:"w-9/12 ml-auto mr-auto text-xs text-center"},We={class:"mt-4 w-8/12 ml-auto mr-auto"},Ne={key:0,class:"error error_box"},Te={class:"w-8/12 mx-auto"},je={class:"mt-3 w-8/12 ml-auto mr-auto"},Ae={type:"submit",class:"mt-3 text-center font-bold blue-btn py-3 block ml-auto mr-auto w-8/12 disabled:opacity-50"},Fe={class:"mt-12 text-center text-xs mb-1"},Ie={class:"text-center text-xs text-blue-primary font-semibold"},Me=t("div",{class:"h-8"},null,-1),Be={class:"mr-auto ml-auto w-10/12 mt-3"},Ue={class:"mb-8"},De={class:"border border-green-300 px-6 pb-3 bg-green-50"},He={class:"flex items-center gap-3"},Re=t("img",{src:we,class:"h-10 w-10 pt-3 mr-2"},null,-1),Le={class:"flex flex-col w-full"},qe={class:"flex"},ze={class:"text-xs text-green-500 font-semibold pt-3"},Ge={class:"text-xxs mt-1"},Je={class:"border-2 shadow-lg filter mb-10 bg-white"},Xe={class:"flex items-center"},Ye=["innerHTML"],Oe={class:"flex flex-col justify-center ml-4"},Qe={class:"flex"},Ze={class:"font-semibold text-md"},et={class:"flex"},tt=["copyValue"],st={class:"border p-6 bg-white"},lt={class:"text-xxs text-blue-primary mt-2 font-semibold uppercase"},ot={class:"flex"},at=["copyValue","copySubject"],rt=t("div",{class:"my-6 gray-line"},null,-1),nt={class:"text-xxs text-blue-primary mt-0.5 font-semibold uppercase"},it={class:"flex"},dt={key:0,class:"break-all font-semibold w-44 truncate md:w-auto"},ct={class:"flex"},ut=["copyValue","copySubject"],mt={class:"text-txs mt-2 text-red-400 border px-1.5 py-2 border-red-400 rounded-md"},pt=t("div",{class:"my-6 gray-line"},null,-1),vt={class:"flex flex-col md:flex-row gap-3 text-center"},wt={class:"blue-btn cursor-pointer py-3 px-3"},ft="^(0x|0X)?[a-fA-F0-9]{64}$",R="^[^ ]{8,}$",Ct=te({__name:"ViewWalletCreatePrivateKey",setup(bt){const{t:u}=se(),L=le(),q=fe(be({privKey:_().regex(new RegExp(ft),{message:u("general.invalidPrivateKey")}),name:_().min(1,{message:u("wallet.nameErrMsg")}),password:_().regex(new RegExp(R),{message:u("wallet.passwordErrMsg")}),confirmPassword:_().regex(new RegExp(R),{message:u("wallet.passwordErrMsg")})}).refine(({password:e,confirmPassword:s})=>s==e,{message:u("wallet.confirmPasswordErrMsg"),path:["confirmPassword"]})),{handleSubmit:z,resetForm:G}=ge({validationSchema:q,initialValues:{privKey:"",name:"",password:"",confirmPassword:""}}),{value:h,errors:J}=x("privKey"),{value:k,errors:X}=x("name"),{value:$,errors:Y}=x("password"),{value:V,errors:O}=x("confirmPassword"),W=B(()=>oe.networkType),N=B(()=>ae.chainNetworkName),f=c(""),T=c(null),v=c(""),d=c(!1),P=c(!1),w=c(""),S=c(""),j=c(""),A=new re("ThemeStyleConfig");A.init();const Q=c(he(w.value,100,A.jdenticonConfig)),C=e=>{let s=document.getElementById(e).getAttribute("copyValue"),a=document.getElementById(e).getAttribute("copySubject");_e(s),L.add({severity:"info",detail:a+" "+u("general.copied"),group:"br-custom",life:3e3})},F=z(({name:e,password:s,privKey:a})=>{if(f.value="",new ne().filterByNetworkNameAndName(N.value,e))f.value=u("wallet.walletNameExist");else{let o=U.createPassword(s);a.substring(0,2)=="0x"&&(a=a.substring(2));const I=U.addNewWalletWithPrivateKey(ie.wallets,a,o,e,N.value,W.value);v.value=a,T.value=I,j.value=I.name;let M=de.Account.createFromPrivateKey(v.value,W.value,1);w.value=M.address.pretty(),S.value=M.publicKey,G()}}),Z=(e,s=2,a=0)=>{const i=$e(10,"H");return i.addData(e),i.make(),i.createDataURL(s,a)},ee=()=>{const e=new ke({unit:"px"});e.addImage(Ve,"JPEG",120,60,205,132),e.addImage(Z(v.value,1,0),"JPEG",151.5,105,40,40),e.setFontSize(8),e.setTextColor("#000000"),e.text(w.value,146,164,{maxWidth:132}),e.save("Your_Paper_Wallet")};return ce(T,e=>{e&&(P.value=!0)}),(e,s)=>{const a=D("router-link"),i=D("font-awesome-icon");return m(),b(pe,null,[t("div",Pe,[r(a,{to:{name:"ViewWalletCreateSelection"},class:"text-xs m-2 text-blue-primary items-center flex"},{default:g(()=>[Se,H(l(e.$t("general.back")),1)]),_:1}),t("form",{onSubmit:s[4]||(s[4]=ue((...o)=>n(F)&&n(F)(...o),["prevent"]))},[t("div",Ce,l(e.$t("wallet.createWallet")),1),t("div",Ke,l(e.$t("general.fromPrivateKey")),1),t("p",Ee,l(e.$t("wallet.privateKeyDescription")),1),t("div",We,[f.value!=""?(m(),b("div",Ne,l(f.value),1)):p("",!0)]),t("div",Te,[r(xe)]),t("div",je,[r(E,{placeholder:e.$t("general.privateKey"),errors:n(J),modelValue:n(h),"onUpdate:modelValue":s[0]||(s[0]=o=>y(h)?h.value=o:null)},null,8,["placeholder","errors","modelValue"]),r(ye,{placeholder:e.$t("wallet.namePlaceholder"),errors:n(X),modelValue:n(k),"onUpdate:modelValue":s[1]||(s[1]=o=>y(k)?k.value=o:null)},null,8,["placeholder","errors","modelValue"]),r(E,{placeholder:e.$t("wallet.enterPassword"),modelValue:n($),"onUpdate:modelValue":s[2]||(s[2]=o=>y($)?$.value=o:null),errors:n(Y)},null,8,["placeholder","modelValue","errors"]),r(E,{placeholder:e.$t("wallet.confirmPassword"),errors:n(O),modelValue:n(V),"onUpdate:modelValue":s[3]||(s[3]=o=>y(V)?V.value=o:null)},null,8,["placeholder","errors","modelValue"])]),t("button",Ae,l(e.$t("wallet.createWallet")),1),t("div",Fe,l(e.$t("wallet.haveWallet")),1),t("div",Ie,[r(a,{to:{name:"Home"}},{default:g(()=>[H(l(e.$t("wallet.signInHere"))+" >",1)]),_:1})]),Me],32)]),r(n(me),{visible:P.value,"onUpdate:visible":s[10]||(s[10]=o=>P.value=o),closable:!1,dismissableMask:!1,closeOnEscape:!1,class:"lg:w-9/12",modal:""},{default:g(()=>[t("div",Be,[t("div",Ue,[t("div",De,[t("div",He,[Re,t("div",Le,[t("div",qe,[t("div",ze,l(e.$t("general.congratz")),1)]),t("div",Ge,l(e.$t("wallet.walletCreated"))+" "+l(e.$t("general.pkWarning")),1)])])])]),t("div",Je,[t("div",Xe,[t("div",{innerHTML:Q.value},null,8,Ye),t("div",Oe,[t("div",Qe,[t("div",Ze,l(j.value),1)]),t("div",et,[t("div",{id:"address",copyValue:w.value,copySubject:"Address",class:"text-xs font-semibold mt-1 w-36 truncate md:w-auto"},l(w.value),9,tt),r(i,{icon:"copy",title:e.$t("general.copy"),onClick:s[5]||(s[5]=o=>C("address")),class:"ml-2 w-5 h-5 text-blue-link cursor-pointer"},null,8,["title"])])])])]),t("div",st,[t("div",lt,l(e.$t("general.publicKey")),1),t("div",ot,[t("div",{id:"public",class:"text-xs font-semibold mt-1 break-all w-44 truncate md:w-auto",copyValue:S.value,copySubject:e.$t("general.publicKey")},l(S.value),9,at),r(i,{icon:"copy",onClick:s[6]||(s[6]=o=>C("public")),title:e.$t("general.copy"),class:"ml-2 mt-0.5 pb-1 w-5 h-5 text-blue-link cursor-pointer"},null,8,["title"])]),rt,t("div",null,[t("div",nt,l(e.$t("general.privateKey")),1),t("div",it,[d.value?p("",!0):(m(),b("div",dt," **************************************************************** ")),d.value?p("",!0):(m(),K(i,{key:1,icon:"eye",title:e.$t("general.view")+" "+e.$t("general.privateKey"),class:"text-blue-link relative cursor-pointer ml-1",onClick:s[7]||(s[7]=o=>d.value=!d.value)},null,8,["title"]))]),t("div",ct,[d.value?(m(),b("div",{key:0,id:"private",class:"text-xs mt-1 font-semibold break-all w-44 truncate md:w-auto",type:"text",copyValue:v.value,copySubject:e.$t("general.privateKey")},l(v.value),9,ut)):p("",!0),d.value?(m(),K(i,{key:1,title:e.$t("general.copy"),icon:"copy",onClick:s[8]||(s[8]=o=>C("private")),class:"ml-2 pb-1 w-5 h-5 text-blue-link mt-0.5 cursor-pointer"},null,8,["title"])):p("",!0),d.value?(m(),K(i,{key:2,icon:"eye-slash",title:e.$t("general.hide")+" "+e.$t("general.privateKey"),class:"text-blue-link relative cursor-pointer mt-0.5 ml-1",onClick:s[9]||(s[9]=o=>d.value=!d.value)},null,8,["title"])):p("",!0)]),t("div",mt,l(e.$t("general.pkWarning")),1)]),pt,t("div",vt,[t("div",{onClick:ee,class:"blue-btn cursor-pointer py-3 px-3"},l(e.$t("general.downloadPaperWallet")),1),r(a,{class:"md:ml-auto",to:{name:"Home"}},{default:g(()=>[t("div",wt,l(e.$t("wallet.continueLogIn")),1)]),_:1})])])])]),_:1},8,["visible"])],64)}}});export{Ct as default};
