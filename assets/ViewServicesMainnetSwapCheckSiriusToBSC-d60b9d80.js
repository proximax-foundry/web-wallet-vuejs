import{_ as ve,j as pe,c as p,A as ye,g as l,bc as ke,n as M,y as ge,r as H,o as r,f as i,e as t,t as n,s as d,h as c,i as u,l as x,a as y,b as z}from"./index-5ab99b99.js";import{T as _e}from"./TextInputClean-2db3f025.js";import{c as Se}from"./functions-bdc73ff4.js";import{S as X}from"./swapUtils-172f46ba.js";import{_ as Te}from"./bsc-e621c678.js";import{_ as Ce}from"./address-ae442d6a.js";import{_ as G,B as Me}from"./icon-connected-afc67468.js";import"./jspdf.es.min-b6ad787d.js";import"./qrcode-44711ddc.js";const He={name:"ViewServicesMainnetSwapCheckSiriusToBSC",components:{TextInputClean:_e},setup(){const{t:s}=pe(),o=p(()=>ye.nativeToken.label),w=l(!0);window.ethereum&&(window.ethereum.isMetaMask||(w.value=!1));let e=new ke(M.chainNetworkName);e.init();const I=l([]),N=l("");(async()=>{try{I.value=await X.getSwapTokenList(e.swap_XPX_BSC_URL),k.value=""}catch{k.value=s("swap.serviceDown")}})(),window.ethereum&&(window.ethereum.isMetaMask||(w.value=!1));const h=()=>{window.ethereum&&(j(),window.ethereum.isMetaMask||(w.value=!1))},T="^[0-9A-Za-z]{64}$",f=l(""),m=p(()=>!f.value.match(T)&&f.value.length>0);let Z=e.BSCChainId,J=e.BSCNetworkName;const V=l(!1),g=l(!1),b=l(null),K=l(""),Q=X.getOutgoing_BSCCheckStatus_URL(e.swap_SERVICE_URL),W=e.BSCScanUrl,Y=p(()=>W+S.value);let A;const j=async()=>{typeof window.ethereum<"u"?(A=new Me(window.ethereum),await A.getSigner(),V.value=!0,g.value=!!ethereum.isConnected(),ethereum.request({method:"eth_accounts"}).then(B).catch(a=>{console.error(a)}),ethereum.request({method:"eth_chainId"}).then(a=>{E(a)}).catch(a=>{console.error(a)}),ethereum.on("accountsChanged",$),ethereum.on("chainChanged",a=>{E(a)})):console.log("MetaMask not installed")};j();function B(a){a.length===0?b.value="":a[0]!==b.value&&(b.value=a[0]),g.value=!!ethereum.isConnected()}function $(a){window.ethereum.isMetaMask&&(a.length===0?b.value="":a[0]!==b.value&&(b.value=a[0],k.value="")),g.value=!!ethereum.isConnected()}function E(a){K.value=a,Z===parseInt(a)?_.value="":_.value=s("swap.selectNetworkToSwap",{network:J})}const ee=()=>{window.ethereum.isMetaMask==null?w.value=!1:(w.value=!0,ethereum.request({method:"eth_requestAccounts"}).then(B).catch(a=>{a.code===4001?console.log("Please connect to MetaMask."):a.code=="-32002"&&(k.value=s("swap.approveTransaction"))}))},P=l(!1),R=l(!1),D=l(!1),U=l(!1),te=l(!1),se=l(!1),ne=l(!1),oe=ge(),re=a=>{let v=document.getElementById(a).getAttribute("copyValue"),be=document.getElementById(a).getAttribute("copySubject");Se(v),oe.add({severity:"info",summary:be+" "+s("general.copied"),detail:v,group:"br-custom",life:3e3})},L=l(1),ae=l(!1),le=l(!1),ie=l(!0),ce=l(""),_=l(""),k=l(""),de=p(()=>!(!_.value&&!(m.value&&f.value.length>0)&&f.value.length>0)),C=l(!1),ue=()=>{L.value=2,setTimeout(()=>P.value=!0,1e3),setTimeout(()=>{(async()=>await xe())()},2e3)};let me=M.currentNetworkProfile.chainExplorer.url+"/"+M.currentNetworkProfile.chainExplorer.hashRoute+"/";const he=p(()=>me+f.value);l(!1);const fe=l(!1),q=l(!1),S=l(!1),F=l(!1),O=l(!0),xe=async()=>{f.value;try{const a=await fetch(Q+f.value,{method:"GET",headers:{"Content-Type":"application/json"}});if(R.value=!0,a.status==200){const v=await a.json();S.value=v.fulfillTransaction?v.fulfillTransaction:"",N.value=v.type,setTimeout(async()=>{D.value=!0,S.value||(F.value=!0),setTimeout(async()=>{setTimeout(()=>U.value=!0,1e3),setTimeout(()=>O.value=!1,1e3)},1e3)},1e3)}else C.value=!0}catch{C.value=!0}},we=p(()=>q.value?fe.value?s("swap.txNotFound"):s("swap.txFailed"):F.value?s("swap.transactionPending",{network:s("swap.bsc")}):s("swap.txSuccessful",{network:s("swap.bsc")}));return{recheckMetamask:h,err:_,isInstallMetamask:V,connectMetamask:ee,isMetamaskConnected:g,currentAccount:b,copy:re,currentPage:L,isDisabledValidate:ie,siriusAddress:ce,showSiriusAddressErr:ae,disableSiriusAddress:le,sendRequest:ue,isDisabledCheck:de,step1:P,step2:R,step3:D,step4:U,step5:te,step6:se,step7:ne,siriusTxnLink:he,serviceErr:k,verifyMetaMaskPlugin:w,showTxnHashError:m,siriusTxnHash:f,isInvalidSiriusTxnHash:C,isInvalidRemoteTxnHash:q,remoteTxnLink:Y,remoteTxnHash:S,txtRemoteTxnSummary:we,isDisabled:O,currentNativeTokenName:o}}},Ie={class:"lg:w-9/12 ml-2 mr-2 lg:ml-auto lg:mr-auto mt-5"},Ne={class:"mt-6 p-6 border filter shadow-lg text-center"},Ve={class:"text-md"},Ae={class:"text-xs my-3 mb-5 sm:mb-10"},je={class:"flex my-10"},Be={class:"flex-none"},Ee={class:"flex border border-gray-300 rounded-md filter shadow-md"},Pe={class:"px-4 sm:px-10 self-center text-xxs sm:text-xs hidden md:inline-block lg:hidden xl:inline-block"},Re={class:"flex-none"},De={class:"flex border border-gray-300 rounded-md filter shadow-md"},Ue={class:"px-4 sm:px-10 self-center text-xxs sm:text-xs hidden md:inline-block lg:hidden xl:inline-block"},Le={key:0},qe={class:"text-lg my-7 font-bold"},Fe={key:0,class:"error error_box mb-5"},Oe={key:2,class:"bg-yellow-200 text-yellow-900 text-tsm p-3 mb-5 rounded-2xl"},ze={class:"my-2"},Xe={href:"https://bit.ly/3mVayCu",target:"_new",class:"text-blue-primary"},Ge={key:3,class:"error error_box mb-5"},Ze={key:4,class:"error error_box mb-5"},Je={class:"font-bold text-xs text-left mb-1"},Ke={class:"mb-5 mt-3 text-left"},Qe={class:"bg-blue-primary px-3 py-2 w-20 text-white font-bold rounded-r border border-blue-primary cursor-auto"},We={class:"text-gray-500 ml-3 text-tsm"},Ye={class:"mb-5 md:flex md:justify-between border border-gray-200 rounded"},$e={class:"flex justify-left"},et={class:"text-left flex items-center"},tt={class:"text-xxs uppercase text-blue-primary font-bold mb-1"},st={class:"font-bold text-black text-tsm break-all mr-2"},nt={key:0,class:"border-l border-gray-200 text-green-500 font-semibold text-xxs w-16 lg:w-20 flex items-center justify-center uppercase"},ot={class:"border-l border-gray-200 text-blue-primary text-tsm font-bold w-16 lg:w-20 flex justify-center items-center"},rt={key:0},at={key:1},lt={href:"https://metamask.io/",target:"_new"},it={class:"md:hidden"},ct={key:0,class:"border-t border-gray-200 text-green-500 font-semibold text-xxs uppercase p-2"},dt={class:"border-t border-gray-200 text-blue-primary text-tsm font-bold p-3"},ut={key:0},mt={key:1},ht={href:"https://metamask.io/",target:"_new"},ft={class:"mt-10 text-center"},xt=["disabled"],wt={key:1},bt={class:"text-lg my-7"},vt={class:"flex border-b border-gray-300 p-3"},pt={class:"flex-none"},yt={class:"flex h-full justify-center"},kt={class:"flex border-b border-gray-300 p-3"},gt={class:"flex-none"},_t={class:"flex h-full justify-center"},St={key:0,class:"mt-2"},Tt={key:0,class:"bg-yellow-100 py-2 px-5 mt-1 rounded-xl flex"},Ct=["href","copyValue","copySubject"],Mt={class:"flex-none"},Ht={key:1,class:"mt-2 text-sm text-gray-700"},It={class:"flex border-b border-gray-300 p-3"},Nt={class:"flex-none"},Vt={class:"flex h-full justify-center"},At={class:"flex border-b border-gray-300 p-3"},jt={class:"flex-none"},Bt={class:"flex h-full justify-center"},Et={key:0,class:"mt-2"},Pt={key:0,class:"bg-yellow-100 py-2 px-5 mt-1 rounded-xl flex"},Rt=["href","copyValue","copySubject"],Dt={class:"flex-none"},Ut={key:1,class:"mt-2 text-xs md:text-sm text-gray-700"},Lt={href:"https://t.me/proximaxhelpdesk",target:"_new",class:"text-blue-primary font-bold underline"},qt={class:"mt-10 text-center"};function Ft(s,o,w,e,I,N){const h=H("font-awesome-icon"),T=H("TextInputClean"),f=H("router-link");return r(),i("div",null,[t("div",Ie,[t("div",Ne,[t("div",Ve,n(s.$t("swap.mainNetworkSwap")),1),t("div",Ae,[o[11]||(o[11]=t("img",{src:Te,class:"mr-2 h-5 inline-block"},null,-1)),d(n(s.$t("general.check"))+" "+n(s.$t("swap.swapSiriusToBsc")),1)]),t("div",je,[t("div",Be,[t("div",Ee,[t("div",{class:c(["flex w-6 h-6 sm:w-10 sm:h-10",`${e.currentPage>=1?"bg-yellow-500":"bg-gray-300"}`])},[t("div",{class:c(["self-center inline-block text-center w-full text-txs sm:text-sm font-bold",`${e.currentPage>=1?"text-white":"text-gray-400"}`])},"1",2)],2),t("div",Pe,n(s.$t("swap.inputInfo")),1)])]),o[12]||(o[12]=t("div",{class:"flex-grow self-center md:mx-4 h-0.5 bg-gray-100"},null,-1)),t("div",Re,[t("div",De,[t("div",{class:c(["flex w-6 h-6 sm:w-10 sm:h-10",`${e.currentPage>=2?"bg-yellow-500":"bg-gray-300"}`])},[t("div",{class:c(["self-center inline-block text-center w-full text-txs sm:text-sm font-bold",`${e.currentPage>=2?"text-white":"text-gray-400"}`])},"2",2)],2),t("div",Ue,n(s.$t("swap.validation")),1)])])]),e.currentPage==1?(r(),i("div",Le,[t("div",qe,n(s.$t("swap.checkSwapStatus")),1),e.isInstallMetamask?u("",!0):(r(),i("div",Fe,n(s.$t("swap.noMetamask")),1)),e.isInstallMetamask?u("",!0):(r(),i("button",{key:1,onClick:o[0]||(o[0]=m=>e.recheckMetamask()),class:"text-xs blue-btn p-2 mb-3"},"Recheck MetaMask")),e.verifyMetaMaskPlugin?u("",!0):(r(),i("div",Oe,[d(n(s.$t("swap.noOtherExtension"))+" ",1),t("b",null,n(s.$t("swap.metamask")),1),o[13]||(o[13]=d(".")),t("div",ze,[d(n(s.$t("swap.referTo")),1),t("a",Xe,[d(n(s.$t("swap.walkthrough")),1),x(h,{icon:"external-link-alt",class:"text-blue-primary w-3 h-3 self-center inline-block ml-1"})]),d(n(s.$t("swap.forMoreDetails")),1)]),d(n(s.$t("swap.refreshMsg")),1)])),e.serviceErr?(r(),i("div",Ge,n(e.serviceErr),1)):u("",!0),e.err!=""?(r(),i("div",Ze,n(e.err),1)):u("",!0),t("p",Je,n(s.$t("dashboard.type")),1),t("div",Ke,[t("button",{class:"border px-3 py-2 w-20 text-blue-primary font-bold rounded-l cursor-pointer hover:border-blue-primary hover:bg-blue-50 transition-all duration-200",onClick:o[1]||(o[1]=m=>s.$router.push({name:"ViewServicesMainnetSwapCheckBSCToSirius"}))},n(s.$t("general.in")),1),t("button",Qe,n(s.$t("general.out")),1),o[14]||(o[14]=d()),t("span",We,n(s.$t("swap.siriusToBsc")),1)]),t("div",Ye,[t("div",$e,[o[15]||(o[15]=t("div",{class:"w-18 flex items-center justify-center py-5 sm:h-20"},[t("img",{src:Ce,class:"w-8 h-8 inline-block"})],-1)),t("div",et,[t("div",null,[t("div",tt,n(s.$t("swap.fromMetamaskAddress")),1),t("div",st,n(e.isMetamaskConnected?e.currentAccount?e.currentAccount:s.$t("swap.connected"):s.$t("swap.notConnected")),1)])])]),t("div",{class:c(["md:grid hidden",e.currentAccount?"grid-cols-2":"grid-cols-1"])},[e.currentAccount?(r(),i("div",nt,[t("div",null,[o[16]||(o[16]=t("img",{src:G,class:"inline-block"},null,-1)),t("div",null,n(s.$t("swap.connected")),1)])])):u("",!0),t("div",ot,[e.isInstallMetamask?(r(),i("div",rt,[e.currentAccount?(r(),i("div",{key:1,class:"cursor-pointer",onClick:o[3]||(o[3]=m=>e.connectMetamask())},n(s.$t("general.change")),1)):(r(),i("div",{key:0,class:"cursor-pointer",onClick:o[2]||(o[2]=m=>e.connectMetamask())},n(s.$t("swap.connect")),1))])):(r(),i("div",at,[t("a",lt,n(s.$t("general.download")),1)]))])],2),t("div",it,[e.currentAccount?(r(),i("div",ct,o[17]||(o[17]=[t("div",{class:"flex items-center justify-center"},[t("img",{src:G,class:"inline-block mr-2 w-4 h-4"}),d(" Connected ")],-1)]))):u("",!0),t("div",dt,[e.isInstallMetamask?(r(),i("div",ut,[e.currentAccount?(r(),i("div",{key:1,class:"cursor-pointer",onClick:o[5]||(o[5]=m=>e.connectMetamask())},n(s.$t("general.change")),1)):(r(),i("div",{key:0,class:"cursor-pointer",onClick:o[4]||(o[4]=m=>e.connectMetamask())},n(s.$t("swap.connect")),1))])):(r(),i("div",mt,[t("a",ht,n(s.$t("general.download")),1)]))])])]),x(T,{placeholder:s.$t("swap.transactionHash",{network:"SIRIUS"}),errorMessage:s.$t("swap.enterValidHash"),modelValue:e.siriusTxnHash,"onUpdate:modelValue":o[6]||(o[6]=m=>e.siriusTxnHash=m),showError:e.showTxnHashError,class:"w-full"},null,8,["placeholder","errorMessage","modelValue","showError"]),t("div",ft,[t("button",{onClick:o[7]||(o[7]=m=>s.$router.push({name:"ViewServicesMainnetSwap"})),class:"text-black font-bold text-xs mr-5 focus:outline-none disabled:opacity-50"},n(s.$t("general.cancel")),1),t("button",{type:"submit",class:"default-btn focus:outline-none disabled:opacity-50",disabled:e.isDisabledCheck,onClick:o[8]||(o[8]=m=>e.sendRequest())},n(s.$t("swap.checkStatus")),9,xt)])])):u("",!0),e.currentPage==2?(r(),i("div",wt,[t("div",bt,[t("div",{class:c(["font-bold text-left text-xs md:text-sm",e.step1?"text-gray-700":"text-gray-300"])},n(s.$t("swap.checkStep1",{network:s.$t("swap.sirius")})),3),t("div",vt,[t("div",pt,[t("div",{class:c(["rounded-full border w-6 h-6 transition-all duration-500",e.step1?"border-blue-primary":"border-gray-300"])},[t("div",yt,[x(h,{icon:"check",class:c([e.step1?"text-blue-primary":"text-gray-300","w-3 h-3 self-center inline-block transition-all duration-500"])},null,8,["class"])])],2)]),t("div",{class:c(["flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500",e.step1?"text-gray-700":"text-gray-300"])},n(s.$t("swap.checkingStatus",{network:s.$t("swap.sirius")})),3)]),t("div",kt,[t("div",gt,[t("div",{class:c(["rounded-full border w-6 h-6 transition-all duration-500",e.isInvalidSiriusTxnHash?"border-red-primary":e.step2?"border-blue-primary":"border-gray-300"])},[t("div",_t,[e.isInvalidSiriusTxnHash?(r(),y(h,{key:0,icon:"times",class:"text-red-primary w-3 h-3 self-center inline-block transition-all duration-500"})):(r(),y(h,{key:1,icon:"check",class:c([e.step2?"text-blue-primary":"text-gray-300","w-3 h-3 self-center inline-block transition-all duration-500"])},null,8,["class"]))])],2)]),t("div",{class:c(["flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500",e.step2?"text-gray-700":"text-gray-300"])},[d(n(e.isInvalidSiriusTxnHash?s.$t("swap.txNotFound"):s.$t("swap.txSuccessful",{network:s.$t("swap.sirius")}))+" ",1),!e.isInvalidSiriusTxnHash&&e.step2?(r(),i("div",St,[e.siriusTxnHash?(r(),i("div",Tt,[t("a",{href:e.siriusTxnLink,target:"_new",class:c([e.isInvalidSiriusTxnHash?"text-gray-300":"text-blue-primary","flex-grow break-all text-tsm self-center hover:underline"]),id:"siriusTx",copyValue:e.siriusTxnHash,copySubject:s.$t("swap.transactionHash",{network:s.$t("swap.sirius")})},[x(h,{icon:"external-link-alt",class:"text-blue-primary w-3 h-3 self-center inline-block mr-2"}),d(n(e.siriusTxnHash),1)],10,Ct),t("div",Mt,[e.step2?(r(),y(h,{key:0,icon:"copy",onClick:o[9]||(o[9]=m=>e.copy("siriusTx")),class:"w-5 h-5 text-blue-primary cursor-pointer self-center ml-3 absoltue top-2 hover:opacity-90 duration-800 transition-all"})):u("",!0)])])):u("",!0)])):u("",!0),e.isInvalidSiriusTxnHash&&e.step2?(r(),i("div",Ht,[d(n(s.$t("swap.hashNotFound",[s.$t("swap.sirius"),s.$t("swap.bsc")]))+" ",1),x(f,{to:{name:"ViewServicesMainnetSwapCheckBSCToSirius"},class:"bg-blue-primary text-white py-2 px-5 rounded-2xl w-24 block text-center my-3 font-bold"},{default:z(()=>[d(n(s.$t("general.swap")),1)]),_:1})])):u("",!0)],2)]),t("div",{class:c(["font-bold text-left text-xs md:text-sm mt-4",e.step3?"text-gray-700":"text-gray-300"])},n(s.$t("swap.checkOutgoingStep2")),3),t("div",It,[t("div",Nt,[t("div",{class:c(["rounded-full border w-6 h-6",e.step3?"border-blue-primary":"border-gray-300"])},[t("div",Vt,[x(h,{icon:"check",class:c([e.step3?"text-blue-primary":"text-gray-300","w-3 h-3 self-center inline-block"])},null,8,["class"])])],2)]),t("div",{class:c(["flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500",e.step3?"text-gray-700":"text-gray-300"])},n(s.$t("swap.checkingStatus",{network:s.$t("swap.bsc")})),3)]),t("div",At,[t("div",jt,[t("div",{class:c(["rounded-full border w-6 h-6 transition-all duration-500",e.isInvalidRemoteTxnHash&&e.step4?"border-red-primary":e.step4?"border-blue-primary":"border-gray-300"])},[t("div",Bt,[e.isInvalidRemoteTxnHash&&e.step4?(r(),y(h,{key:0,icon:"times",class:"text-red-primary w-3 h-3 self-center inline-block transition-all duration-500"})):(r(),y(h,{key:1,icon:"check",class:c([e.step4?"text-blue-primary":"text-gray-300","w-3 h-3 self-center inline-block transition-all duration-500"])},null,8,["class"]))])],2)]),t("div",{class:c(["flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500",e.step4?"text-gray-700":"text-gray-300"])},[d(n(e.txtRemoteTxnSummary)+" ",1),!e.isInvalidRemoteTxnHash&&e.step4?(r(),i("div",Et,[e.remoteTxnHash?(r(),i("div",Pt,[t("a",{href:e.remoteTxnLink,target:"_new",class:c([e.isInvalidRemoteTxnHash?"text-gray-300":"text-blue-primary","flex-grow break-all text-tsm self-center hover:underline"]),id:"remoteTx",copyValue:e.remoteTxnHash,copySubject:s.$t("swap.transactionHash",{network:s.$t("swap.bsc")})},[x(h,{icon:"external-link-alt",class:"text-blue-primary w-3 h-3 self-center inline-block mr-2"}),d(n(e.remoteTxnHash),1)],10,Rt),t("div",Dt,[e.step4?(r(),y(h,{key:0,icon:"copy",onClick:o[10]||(o[10]=m=>e.copy("remoteTx")),class:"w-5 h-5 text-blue-primary cursor-pointer self-center ml-3 absoltue top-2 hover:opacity-90 duration-800 transition-all"})):u("",!0)])])):u("",!0)])):u("",!0),e.isInvalidRemoteTxnHash&&e.step4?(r(),i("div",Ut,[d(n(s.$t("swap.hashNotFound2"))+" ",1),t("a",Lt,n(s.$t("home.helpdesk")),1),o[18]||(o[18]=d(". "))])):u("",!0)],2)])]),t("div",qt,[x(f,{to:{name:"ViewServicesMainnetSwap"},class:c(["default-btn focus:outline-none w-40 inline-block",e.isDisabled?"opacity-50":""]),is:e.isDisabled?"span":"router-link",tag:"button"},{default:z(()=>[d(n(s.$t("general.done")),1)]),_:1},8,["class","is"])])])):u("",!0)])])])}const Yt=ve(He,[["render",Ft]]);export{Yt as default};
