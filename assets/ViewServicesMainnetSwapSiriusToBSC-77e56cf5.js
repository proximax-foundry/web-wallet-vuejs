import{_ as St,j as At,c as p,A as u,y as Tt,k as Pt,g as r,D as B,w as _,H as o,bc as It,n as he,r as X,o as m,f as v,e as t,t as a,s as D,h as M,O as st,ak as Ct,F as Nt,K as Mt,i as x,l as L,R as Gt,b as Ft,x as Ee,al as Dt,am as lt,W as Lt}from"./index-5ab99b99.js";import{_ as Ut,S as Et,M as Bt,a as Xt}from"./SelectInputAccountOutgoingSwap-bd353d56.js";import{S as Vt,_ as Ht}from"./icon-dots-46c52bf7.js";import{a as Ot}from"./functions-bdc73ff4.js";import{S as w}from"./swapUtils-172f46ba.js";import{_ as Rt}from"./bsc-e621c678.js";import{_ as rt}from"./metx-logo-27f23eae.js";import{_ as jt}from"./proximax-logo-ecfc3767.js";import{_ as Wt}from"./icon-xpx-072deeab.js";import{g as nt}from"./address-ae442d6a.js";import"./icon-info-8b4f1351.js";import"./jdenticon-module-3d0ed466.js";import"./delete-8b454e7f.js";import"./jspdf.es.min-b6ad787d.js";import"./qrcode-44711ddc.js";const Kt="/web-wallet-vuejs/assets/icon-prx-xpx-blue-05a9ca17.svg";const Qt={name:"ViewServicesMainnetSwapMetxToBSC",components:{PasswordInputClean:Ut,SwapInputClean:Et,MetamaskAddressInput:Bt,SwapCertificateComponent:Vt,SelectInputAccountOutgoingSwap:Xt},setup(){const{t:s}=At(),n=p(()=>u.nativeToken.label),ke=Tt(),e=Pt(),Be=r(!0),R=r(180),_e=p(()=>R.value%60),Se=p(()=>Math.floor(R.value/60)),Ae=setInterval(()=>{--R.value},1e3),b=r(""),j=r(""),ee=B(()=>R.value,l=>{l<=0&&(te(),c())}),te=()=>{ee(),Be.value=!1,clearInterval(Ae)},c=()=>{e.push({name:"ViewServicesMainnetSwap"})},U=r(1),Xe=r(!1),ae=r(""),W=r(""),se=r(""),S=r(0),Te=r(!1),Ve=p(()=>{if(!_.currentLoggedInWallet)return[];let l=_.currentLoggedInWallet.accounts.map(i=>({name:i.name,balance:i.balance,balanceDisplay:o.toCurrencyFormat(i.balance,u.nativeToken.divisibility),type:"",address:o.createAddress(i.address).pretty(),publicKey:i.publicKey,isMultisig:!!i.getDirectParentMultisig().length}));if(Xe.value){let i=_.currentLoggedInWallet.others.filter(d=>d.type==="MULTISIG").map(d=>({name:d.name,balance:d.balance,balanceDisplay:o.toCurrencyFormat(d.balance,u.nativeToken.divisibility),type:"MULTISIG",address:o.createAddress(d.address).pretty(),publicKey:d.publicKey,isMultisig:!0}));return l.concat(i)}else return l}),I=p(()=>Ve.value.find(l=>l.name===ae.value)),E=r("");B(E,l=>{if(l){let i=_.currentLoggedInWallet.accounts.find(d=>d.address==l);if(i||(i=_.currentLoggedInWallet.others.find(d=>d.address==l)),ae.value=i.name,W.value=i.address,b.value.name.toUpperCase()!="XPX"){let d=i.assets.findIndex(f=>f.idHex==b.value.assetId);S.value=d>-1?i.assets[d].amount:0,k.value=o.convertNumberMinimumFormat(S.value,N.value)}else S.value=i.balance,k.value=o.convertNumberMinimumFormat(i.balance-A.value-h.value,N.value);se.value=i.publicKey}else ae.value="",W.value="",S.value="",se.value=""}),B(b,async l=>{let i=await u.chainAPI.assetAPI.getMosaic(new Ee.MosaicId(l.assetId));if(N.value=i.divisibility,E.value!=""){let d=_.currentLoggedInWallet.accounts.find(f=>f.address==E.value);if(d||(d=_.currentLoggedInWallet.others.find(f=>f.address==E.value)),l.name.toUpperCase()!="XPX"){let f=d.assets.findIndex(T=>T.idHex==l.assetId);S.value=f>-1?d.assets[f].amount:0,k.value=o.convertNumberMinimumFormat(S.value,N.value)}else S.value=d.balance,k.value=o.convertNumberMinimumFormat(d.balance-A.value-h.value,N.value)}g.value>k.value&&fe()});const Pe=1e9,Ie=1.2,V=r(!1),P=r(!1),C=r(!1),it=r(!1),le=r(""),He="^[^ ]{8,}$",y=r(!1),K=r(!1),Ce=r(""),Q=r(""),ot=p(()=>!(g.value>0&&le.value.match(He)&&Q.value!=""&&!C.value&&y.value==!1)),g=r(0),Oe=u.nativeToken.fullNamespace,dt=o.createAsset(o.createNamespaceId(Oe).toHex(),1),ct=o.createAsset(o.createNamespaceId("prx.metx").toHex(),1),Re=u.buildTxn,ne=Re.transferBuilder(),je=Re.aggregateCompleteBuilder();let Ne={type:"Swap-xpx-bsc",remoteAddress:"0".repeat(42)};const ut=()=>{Ne.remoteAddress=Q.value,We()};let re={type:"Swap-xpx-bsc-fees",gasPrice:5,gasLimit:57500},H=new It(he.chainNetworkName);H.init();let J=H.swap_XPX_BSC_URL,Me=H.BSCScanUrl,mt=he.currentNetworkProfile.chainExplorer.url+"/"+he.currentNetworkProfile.chainExplorer.hashRoute+"/",Ge,Fe,z=r([]);const N=r(0),vt=async()=>{let l=await w.getSwapTokenList(J);l&&(z.value=l,b.value=z.value[0],j.value=z.value[0].name,u.chainAPI.assetAPI.getMosaic(new Ee.MosaicId(b.value.assetId)).then(i=>{N.value=i.properties.divisibility}))};(async()=>{try{const l=w.getServiceInfoURL(J),i=await w.getOutgoingSwapServiceInfo(l);Ge=i.siriusInfo.sinkingFundAddress,Fe=i.siriusInfo.sinkingFeeAddress,ft()}catch{F(s("swap.serviceUnavailable"),s("swap.failGetSink")),c()}})(),vt();let q,ie,oe;const ft=()=>{ie=ne.mosaics([ct]).recipient(o.createAddress(Ge)).message(o.createPlainMessage(JSON.stringify(Ne))).build(),oe=ne.mosaics([dt]).recipient(o.createAddress(Fe)).message(o.createPlainMessage(JSON.stringify(re))).build(),q=je.innerTransactions(o.createInnerTransaction([ie,oe],"0".repeat(64))).build(),A.value=o.convertToExact(q.maxFee.compact(),u.nativeToken.divisibility),G.value=A.value};let A=r(0);const pt=p(()=>o.toCurrencyFormat(A.value,u.nativeToken.divisibility)),We=()=>{let l;g.value<0?l=0:l=g.value;const i=o.createAsset(o.createNamespaceId(b.value.namespace).toHex(),o.convertToAbsolute(l,N.value)),d=o.createAsset(o.createNamespaceId(Oe).toHex(),o.convertToAbsolute(h.value,u.nativeToken.divisibility));ie=ne.mosaics([i]).recipient(o.createAddress(Ge)).message(o.createPlainMessage(JSON.stringify(Ne))).build(),oe=ne.mosaics([d]).recipient(o.createAddress(Fe)).message(o.createPlainMessage(JSON.stringify(re))).build(),q=je.innerTransactions(o.createInnerTransaction([ie,oe],se.value)).build(),A.value=o.convertToExact(q.maxFee.compact(),u.nativeToken.divisibility)},Ke=p(()=>de.value*ue.value/Pe),Qe=p(()=>Y.value*De.value/Pe),Je=p(()=>ce.value*Le.value/Pe),ze=p(()=>o.convertNumberMinimumFormat(Ke.value*ve.value,5)),qe=p(()=>o.convertNumberMinimumFormat(Qe.value*ve.value,5)),Ye=p(()=>o.convertNumberMinimumFormat(Je.value*ve.value,5)),Ze=p(()=>o.convertNumberMinimumFormat(ze.value/me.value*Ie,u.nativeToken.divisibility)),$e=p(()=>o.convertNumberMinimumFormat(qe.value/me.value*Ie,u.nativeToken.divisibility)),et=p(()=>o.convertNumberMinimumFormat(Ye.value/me.value*Ie,u.nativeToken.divisibility)),de=r(0),Y=r(0),ce=r(0),ue=r(55e3),De=r(55e3),Le=r(55e3);(async()=>{if(u.networkType===Ee.NetworkType.TEST_NET)de.value=10,Y.value=10,ce.value=10;else{let l=await w.getBSC_SafeGwei(H.gasPriceConsultURL);if(l.status===0)console.log("Error, no data found. Please try again later");else{let i=l.result;de.value=parseFloat(i.ProposeGasPrice),Y.value=parseFloat(i.FastGasPrice),ce.value=Dt(lt(Y.value),lt(1.1))}}})(),(async()=>{let l=await w.getBSC_GasLimit(H.gasPriceConsultURL);l.status===0?console.log("Error, no gas limit data found. Please try again later"):(ue.value=l.standardGasLimit,De.value=l.fastGasLimit,Le.value=l.rapidGasLimit)})();const me=r(0),ve=r(0),bt=r(0);(async()=>{let l=await Ot(w.checkSwapPrice(H.priceConsultURL));me.value=l.xpx,bt.value=l.metx,ve.value=l.bnb})();const fe=()=>{g.value=k.value};B(j,l=>{b.value=z.value.find(i=>i.name===l)});const xt=r(!1),pe=r("");let Z=r(0),$=r(0),h=r(0);const k=r(0),G=r(0),gt=p(()=>I.value?I.value.balance<G.value:!1),tt=l=>{pe.value=l,l==="rapid"?(Z.value=Le.value,$.value=ce.value,h.value=et.value):l==="fast"?(Z.value=De.value,$.value=Y.value,h.value=$e.value):(Z.value=ue.value,$.value=de.value,h.value=Ze.value),re.gasPrice=$.value,re.gasLimit=Z.value,We(),G.value=o.convertNumberMinimumFormat(A.value+h.value,u.nativeToken.divisibility),wt()},wt=async()=>{b.value.name.toUpperCase()!=="XPX"?I.value.balance<h.value+A.value?y.value=!0:y.value=!1:(I.value.balance<G.value&&(g.value=0),I.value.balance<G.value?K.value=!0:(K.value=!1,y.value=!1))};B(h,l=>{let i=_.currentLoggedInWallet.accounts.find(d=>d.address==E.value);i||(i=_.currentLoggedInWallet.others.find(d=>d.address==E.value)),b.value.name!="xpx"?(k.value=o.convertNumberMinimumFormat(S.value,N.value),g.value>k.value&&fe()):(k.value=o.convertNumberMinimumFormat(i.balance-A.value-l,u.nativeToken.divisibility),g.value>k.value&&fe())}),B(ue,()=>{U.value==2&&(I.value.balance<=G.value?(K.value=!0,y.value=!0):(K.value=!1,y.value=!1))}),B([S,g],()=>{b.value.name.toUpperCase()!=="XPX"?g.value>k.value?y.value=!0:y.value=!1:S.value<g.value+G.value?y.value=!0:y.value=!1});const O=r(""),yt=()=>{C.value=!0,P.value=!0;try{nt(Q.value)&&(V.value=!1)}catch{V.value=!0,C.value=!1,P.value=!1}if(!V.value)if(Lt.verifyWalletPassword(_.currentLoggedInWallet.name,he.chainNetworkName,le.value)){if(Ce.value="",ut(),tt(pe.value),b.value.name=="xpx"){if(g.value+h.value+A.value>I.value.balance){F(s("swap.insufficientAmount"),s("swap.swapInsufficientAmount"),5e3);return}}else if(h.value+A.value>I.value.balance){F(s("swap.insufficientAmount"),s("swap.swapInsufficientAmount"),5e3);return}te();let l=w.signTransaction(W.value,le.value,q);O.value=l.hash,ht().then(i=>{g.value<=i?kt(l.payload):F("Swap Server Error","Insufficient Balance from Funding Account",5e3)})}else Ce.value=s("general.walletPasswordInvalid",{name:_.currentLoggedInWallet.name}),C.value=!1,P.value=!1},ht=async()=>{const l=await w.checkTokenBalance(J,b.value.name);return l.status?l.tokenBalance:0},kt=async l=>{let d=JSON.stringify({txnInfo:{network:"bsc",siriusTxnPayload:l}});try{const f=await fetch(w.getOutgoing_SwapTransfer_URL(J,b.value.name),{method:"POST",headers:{"Content-Type":"application/json"},body:d});if(f.ok){u.txnSwapLog.find(ye=>ye.txnHash===O.value)||u.txnSwapLog.push({txnHash:O.value,accPubKey:se.value,status:"",statusMsg:"",relatedAddress:[],checkedNum:0});const T=await f.json();ge.value=T.data.txHash,at.value=Me+T.data.txHash,be.value="",xe.value=T.data.swapId,we.value=w.generateQRCode(Me+T.data.txHash),U.value=3}else if(f.status==400){const T=await f.json();F(s("swap.swapOperationFail"),T.data.message),C.value=!1,P.value=!1}else if(f.status==409)Ue.value=!0,P.value=!1;else if(f.status==503){const T=await f.json();let ye=T.data.message?T.data.message:"";ke.add({severity:"warn",summary:s("swap.serviceUnavailable"),detail:ye||s("swap.tryAgain"),group:"br-custom"}),C.value=!1,P.value=!1}else f.status==504&&(F(s("swap.timedOut"),s("swap.checkStatusAgain")),P.value=!1,Ue.value=!0)}catch{F(s("swap.networkErr"),s("swap.serverNotFound")),C.value=!1,P.value=!1}},_t=async()=>{const l=await fetch(w.getOutgoing_SwapCheckByTxID_URL(J,O.value));if(l.status==200){const i=await l.json();ge.value=i.fulfillTransaction,be.value="",xe.value=i.data._id,we.value=w.generateQRCode(Me+i.fulfillTransaction),U.value=2}else F(s("swap.swapNotFound"),s("swap.txIdNotFound"))},F=(l,i,d=void 0)=>{ke.add({severity:"error",summary:l,detail:i,group:"br-custom",life:d})},at=r(""),be=r(""),xe=r(""),ge=r(""),we=r(""),Ue=r(!1);return{selectedAccountBalance:S,minNativeBalanceAmount:G,includeMultisig:Xe,timerSecondsDisplay:_e,timerMinutes:Se,currentPage:U,bscAddress:Q,showAddressErr:V,showPasswdError:it,walletPasswd:le,passwdPattern:He,showAmountErr:y,amount:g,disableAmount:K,updateAmountToMax:fe,bscGasStrategy:pe,isDisabledSwap:ot,err:Ce,swap:yt,savedCheck:xt,allAvailableAccounts:Ve,selectedAccount:I,selectedAccountName:ae,selectedGasPriceInGwei:$,selectedGasLimit:Z,standardGasPrice:Ke,fastGasPrice:Qe,rapidGasPrice:Je,standardGasPriceInUSD:ze,fastGasPriceInUSD:qe,rapidGasPriceInUSD:Ye,xpxAmountInStandardGasPrice:Ze,xpxAmountInFastGasPrice:$e,xpxAmountInRapidGasPrice:et,txFeeDisplay:pt,gasPriceInXPX:h,maxSwapAmount:k,changeGasStrategy:tt,swapInProgress:C,certTransactionHash:ge,swapLink:at,swapTimestamp:be,swapId:xe,swapQr:we,saveCertificate:()=>{w.generateoutgoingPdfCert("BSC",be.value,W.value,xe.value,ge.value,we.value,O.value)},selectedAccountAddress:W,isDisabledCancel:P,canCheckStatus:Ue,callTocheckSwapStatus:_t,siriusTransactionHash:O,xpxExplorerUrl:mt,currentNativeTokenName:n,siriusAddress:E,walletState:_,Helper:o,xpxFeeErr:gt,tokenDivisibility:N,tokenList:z,selectedToken:b,selectedTokenName:j,validated:()=>{if(pe.value===""){Te.value=!0;return}else Te.value=!1;try{nt(Q.value)&&!y.value&&(V.value=!1,U.value=2)}catch{V.value=!0,C.value=!1,P.value=!1}},selectErr:Te}}},Jt={class:"lg:w-9/12 ml-2 mr-2 lg:ml-auto lg:mr-auto mt-5"},zt={class:"mt-6 p-6 border filter shadow-lg text-center"},qt={class:"text-md"},Yt={class:"text-xs my-3 mb-5 sm:mb-10"},Zt={class:"flex my-10"},$t={class:"flex-none"},ea={class:"flex border border-gray-300 rounded-md filter shadow-md"},ta={class:"px-4 sm:px-10 self-center text-xxs sm:text-xs hidden md:inline-block lg:hidden xl:inline-block"},aa={class:"flex-none"},sa={class:"flex border border-gray-300 rounded-md filter shadow-md"},la={class:"px-4 sm:px-10 self-center text-xxs sm:text-xs hidden md:inline-block lg:hidden xl:inline-block"},na={class:"flex-none"},ra={class:"flex border border-gray-300 rounded-md filter shadow-md"},ia={class:"px-4 sm:px-10 self-center text-xxs sm:text-xs hidden md:inline-block lg:hidden xl:inline-block"},oa={key:0},da=["value"],ca={class:"text-sm my-5 font-bold"},ua={key:0,class:"error error_box mb-5"},ma={class:"relative"},va={key:0,class:"opacity-90 w-full h-full absolute z-10 bg-white"},fa={class:"tex-center font-bold text-sm my-5"},pa={class:"md:grid md:grid-cols-3 mb-4"},ba={class:"md:col-span-1 mb-3"},xa={class:"font-bold text-tsm"},ga={class:"md:col-span-1 mb-3"},wa={class:"font-bold text-tsm"},ya={class:"md:col-span-1 mb-3"},ha={class:"font-bold text-tsm"},ka={key:1,class:"error error_box mb-5"},_a={class:"text-sm text-center mb-2 sm:mb-4"},Sa={class:"tex-center font-bold text-sm mb-2"},Aa={class:"rounded-2xl bg-gray-100 p-5 mb-5"},Ta={class:"inline-block mr-4 text-xs"},Pa={class:"mb-5"},Ia={key:2,class:"error error_box mb-5"},Ca={class:"bg-blue-50 border border-blue-primary h-20 mt-5 rounded flex items-center justify-center uppercase"},Na={key:0,src:rt,class:"w-5 h-5 ml-4"},Ma={key:1,src:jt,class:"w-5 h-5 ml-4"},Ga={class:"flex justify-center mt-3"},Fa={class:"text-xs text-gray-600 mt-2 max-w-screen-md"},Da={class:"mt-10 text-center"},La=["disabled"],Ua=["disabled"],Ea={key:1},Ba={class:"text-lg my-7"},Xa={key:0,class:"error error_box mb-5"},Va={class:"flex border-b border-gray-300 p-3"},Ha={class:"flex h-full justify-center"},Oa={class:"flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500 text-gray-700 break-all"},Ra={class:"flex border-b border-gray-300 p-3"},ja={class:"flex h-full justify-center"},Wa={class:"flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500 text-gray-700 break-all"},Ka={class:"flex border-b border-gray-300 p-3"},Qa={class:"flex h-full justify-center"},Ja={class:"flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500 text-gray-700 break-all"},za={class:"flex border-b border-gray-300 p-3"},qa={class:"flex h-full justify-center"},Ya={class:"flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500 text-gray-700 break-all"},Za={class:"flex border-b border-gray-300 p-3"},$a={class:"flex h-full justify-center"},es={class:"self-center inline-block transition-all duration-500 text-xs md:text-sm text-blue-primary"},ts={key:0,class:"flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500 text-gray-700 break-all"},as={class:"font-bold text-tsm"},ss={key:1,class:"flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500 text-gray-700 break-all"},ls={class:"font-bold text-tsm"},ns={key:2,class:"flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500 text-gray-700 break-all"},rs={class:"font-bold text-tsm"},is={class:"flex border-b border-gray-300 p-3"},os={class:"flex h-full justify-center"},ds={class:"self-center inline-block transition-all duration-500 text-xs md:text-sm text-blue-primary"},cs={class:"flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500 text-gray-700 break-all"},us={class:"flex border-b border-gray-300 p-3"},ms={class:"flex h-full justify-center"},vs={class:"flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500 text-gray-700 break-all"},fs={class:"flex border-b border-gray-300 p-3"},ps={class:"flex h-full justify-center"},bs={class:"self-center inline-block transition-all duration-500 text-xs md:text-sm text-blue-primary"},xs={class:"flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500 text-gray-700 break-all"},gs={class:"mt-10 text-center"},ws=["disabled"],ys=["disabled"],hs={key:2},ks={class:"default-title font-bold mt-5 mb-2"},_s={class:"text-sm mb-7"},Ss={class:"mt-5"},As=["href"],Ts=["href"],Ps={class:"md:mx-20 lg:mx-40 font-bold text-center text-tsm py-5 sm:py-10 mt-5 sm:mt-10 border-t border-gray-200"},Is={class:"md:mx-20 lg:mx-10 xl:mx-40 border-2 border-gray-200 mt-4 p-5 text-xs font-bold filter shadow-lg"},Cs={class:"text-blue-primary mb-1"},Ns={class:"break-all"},Ms={class:"mt-1"},Gs={key:0,src:rt,class:"w-3 h-3 ml-2 inline relative",style:{top:"-2px"}},Fs={key:1,src:Wt,class:"w-3 h-3 ml-2 inline relative",style:{top:"-2px"}},Ds={class:"text-blue-primary mb-1"},Ls={class:"mt-1"},Us={class:"my-5 sm:my-7 text-gray-500 text-xs md:mx-20 lg:mx-10 xl:mx-40"},Es={class:"inline-flex items-center mb-5"},Bs={class:"ml-2 cursor-pointer text-xs font-bold"},Xs={class:"sm:mt-5 text-center"},Vs=["disabled"];function Hs(s,n,ke,e,Be,R){const _e=X("SelectInputAccountOutgoingSwap"),Se=X("SwapInputClean"),Ae=X("MetamaskAddressInput"),b=X("PasswordInputClean"),j=X("SwapCertificateComponent"),ee=X("font-awesome-icon"),te=X("router-link");return m(),v("div",null,[t("div",Jt,[t("div",zt,[t("div",qt,a(s.$t("swap.mainNetworkSwap")),1),t("div",Yt,[n[16]||(n[16]=t("img",{src:Rt,class:"mr-2 h-5 inline-block"},null,-1)),D(a(s.$t("swap.swapSiriusToBsc")),1)]),t("div",Zt,[t("div",$t,[t("div",ea,[t("div",{class:M(["flex w-6 h-6 sm:w-10 sm:h-10",`${e.currentPage>=1?"bg-yellow-500":"bg-gray-300"}`])},[t("div",{class:M(["self-center inline-block text-center w-full text-txs sm:text-sm font-bold",`${e.currentPage>=1?"text-white":"text-gray-400"}`])},"1",2)],2),t("div",ta,a(s.$t("general.transaction")),1)])]),n[17]||(n[17]=t("div",{class:"flex-grow self-center md:mx-4 h-0.5 bg-gray-100"},null,-1)),t("div",aa,[t("div",sa,[t("div",{class:M(["flex w-6 h-6 sm:w-10 sm:h-10",`${e.currentPage>=2?"bg-yellow-500":"bg-gray-300"}`])},[t("div",{class:M(["self-center inline-block text-center w-full text-txs sm:text-sm font-bold",`${e.currentPage>=2?"text-white":"text-gray-400"}`])},"2",2)],2),t("div",la,a(s.$t("swap.validation")),1)])]),n[18]||(n[18]=t("div",{class:"flex-grow self-center md:mx-4 h-0.5 bg-gray-100"},null,-1)),t("div",na,[t("div",ra,[t("div",{class:M(["flex w-6 h-6 sm:w-10 sm:h-10",`${e.currentPage>=3?"bg-yellow-500":"bg-gray-300"}`])},[t("div",{class:M(["self-center inline-block text-center w-full text-txs sm:text-sm font-bold",`${e.currentPage>=2?"text-white":"text-gray-400"}`])},"3",2)],2),t("div",ia,a(s.$t("general.certificate")),1)])])]),e.currentPage==1?(m(),v("div",oa,[n[20]||(n[20]=t("div",{class:"text-sm my-5 font-bold"},"Select Asset",-1)),st(t("select",{class:"","onUpdate:modelValue":n[0]||(n[0]=c=>e.selectedTokenName=c)},[(m(!0),v(Nt,null,Mt(e.tokenList,(c,U)=>(m(),v("option",{value:c.name,key:U},a(c.name.toUpperCase()),9,da))),128))],512),[[Ct,e.selectedTokenName]]),t("div",ca,a(s.$t("general.transactionDetails")),1),e.xpxFeeErr?(m(),v("div",ua,a(s.$t("swap.failCoverTxFee")),1)):x("",!0),L(_e,{otherToken:e.selectedToken.namespace,otherTokenId:e.selectedToken.assetId,name:e.selectedToken.name,modelValue:e.siriusAddress,"onUpdate:modelValue":n[1]||(n[1]=c=>e.siriusAddress=c),placeholder:s.$t("swap.fromSiriusAcc"),selectDefault:e.walletState.currentLoggedInWallet.selectDefaultAccount().address,divisibility:e.tokenDivisibility},null,8,["otherToken","otherTokenId","name","modelValue","placeholder","selectDefault","divisibility"]),t("div",ma,[e.siriusAddress?x("",!0):(m(),v("div",va)),L(Se,{class:"mt-5",disabled:e.disableAmount,remarkOption:e.selectedToken.name=="xpx",modelValue:e.amount,"onUpdate:modelValue":n[2]||(n[2]=c=>e.amount=c),balance:e.selectedAccountBalance,placeholder:`${e.selectedToken.name} `+s.$t("general.amount"),type:"text",showError:e.showAmountErr,errorMessage:s.$t("general.insufficientBalance"),emptyErrorMessage:s.$t("swap.amountEmpty"),maxAmount:e.maxSwapAmount,gasFee:e.gasPriceInXPX,transactionFee:e.txFeeDisplay,onClickedMaxAvailable:n[3]||(n[3]=c=>e.updateAmountToMax()),toolTip:s.$t("swap.bscAmountMsg",{token:e.selectedTokenName.toUpperCase()}),decimal:e.tokenDivisibility},null,8,["disabled","remarkOption","modelValue","balance","placeholder","showError","errorMessage","emptyErrorMessage","maxAmount","gasFee","transactionFee","toolTip","decimal"]),L(Ae,{placeholder:s.$t("swap.bscAddress"),errorMessage:s.$t("swap.bscAddressErr"),class:"mt-5",showError:e.showAddressErr,modelValue:e.bscAddress,"onUpdate:modelValue":n[4]||(n[4]=c=>e.bscAddress=c)},null,8,["placeholder","errorMessage","showError","modelValue"]),t("div",fa,a(s.$t("general.transactionFee"))+" ("+a(s.$t("swap.bsc"))+" BEP20 "+a(s.$t("general.network"))+"):",1),t("div",pa,[t("div",ba,[t("div",{class:M(["bscGasStrategy md:mr-6",`${e.bscGasStrategy=="standard"?"selected":"option"}`]),onClick:n[5]||(n[5]=c=>e.changeGasStrategy("standard"))},[t("p",xa,a(s.$t("swap.standard")),1),t("div",null,"BNB "+a(e.standardGasPrice),1),t("div",null,"XPX "+a(e.xpxAmountInStandardGasPrice)+" = "+a(s.$t("general.usd"))+" "+a(e.standardGasPriceInUSD),1)],2)]),t("div",ga,[t("div",{class:M(["bscGasStrategy md:mx-3",`${e.bscGasStrategy=="fast"?"selected":"option"}`]),onClick:n[6]||(n[6]=c=>e.changeGasStrategy("fast"))},[t("p",wa,a(s.$t("swap.fast")),1),t("div",null,"BNB "+a(e.fastGasPrice),1),t("div",null,"XPX "+a(e.xpxAmountInFastGasPrice)+" = "+a(s.$t("general.usd"))+" "+a(e.fastGasPriceInUSD),1)],2)]),t("div",ya,[t("div",{class:M(["bscGasStrategy md:ml-6",`${e.bscGasStrategy=="rapid"?"selected":"option"}`]),onClick:n[7]||(n[7]=c=>e.changeGasStrategy("rapid"))},[t("p",ha,a(s.$t("swap.rapid")),1),t("div",null,"BNB "+a(e.rapidGasPrice),1),t("div",null,"XPX "+a(e.xpxAmountInRapidGasPrice)+" = "+a(s.$t("general.usd"))+" "+a(e.rapidGasPriceInUSD),1)],2)])]),e.selectErr===!0?(m(),v("div",ka,"Please select one of options")):x("",!0),t("div",_a,a(s.$t("swap.feesValidDuration"))+": "+a(e.timerMinutes)+":"+a(e.timerSecondsDisplay>=10?e.timerSecondsDisplay:"0"+e.timerSecondsDisplay),1),t("div",Sa,a(s.$t("general.transactionFee"))+" ("+a(s.$t("swap.siriusNetwork"))+"):",1),t("div",Aa,[t("div",Ta,[n[19]||(n[19]=t("img",{src:Kt,class:"w-5 inline mr-1 text-gray-500"},null,-1)),D(a(s.$t("general.transactionFee"))+": ",1),t("span",null,a(e.txFeeDisplay),1),D(" "+a(e.currentNativeTokenName),1)])]),t("div",Pa,"Total Transaction Fee: "+a(e.minNativeBalanceAmount)+" "+a(e.currentNativeTokenName),1),L(b,{placeholder:s.$t("general.enterPassword"),errorMessage:s.$t("general.passwordRequired"),showError:e.showPasswdError,icon:"lock",modelValue:e.walletPasswd,"onUpdate:modelValue":n[8]||(n[8]=c=>e.walletPasswd=c)},null,8,["placeholder","errorMessage","showError","modelValue"]),e.err!=""?(m(),v("div",Ia,a(e.err),1)):x("",!0),t("div",Ca,[D(a(e.amount)+" "+a(e.selectedToken.name)+" ",1),e.selectedToken.name=="metx"?(m(),v("img",Na)):x("",!0),e.selectedToken.name=="xpx"?(m(),v("img",Ma)):x("",!0)]),t("div",Ga,[t("div",Fa,a(s.$t("swap.bscOutgoingMsg")),1)]),t("div",Da,[t("button",{onClick:n[9]||(n[9]=c=>s.$router.push({name:"ViewServicesMainnetSwap"})),class:"text-black font-bold text-xs mr-1 sm:mr-5 mt-2 focus:outline-none disabled:opacity-50",disabled:e.isDisabledCancel},a(s.$t("general.later")),9,La),t("button",{type:"submit",class:"default-btn focus:outline-none disabled:opacity-50",disabled:e.xpxFeeErr,onClick:n[10]||(n[10]=c=>e.validated())},a(s.$t("general.continue")),9,Ua)])])])):x("",!0),e.currentPage==2?(m(),v("div",Ea,[t("div",Ba,[e.err!=""?(m(),v("div",Xa,a(e.err),1)):x("",!0),n[26]||(n[26]=t("div",{class:"font-bold text-left text-xs md:text-sm text-gray-700"},"Validate your transaction",-1)),t("div",Va,[t("div",Ha,[n[21]||(n[21]=t("div",{class:"self-center inline-block transition-all duration-500 text-xs md:text-sm text-blue-primary"},"Account Name: ",-1)),t("div",Oa,a(s.$t(e.selectedAccountName)),1)])]),t("div",Ra,[t("div",ja,[n[22]||(n[22]=t("div",{class:"self-center inline-block transition-all duration-500 text-xs md:text-sm text-blue-primary"},"Account Address: ",-1)),t("div",Wa,a(s.$t(e.siriusAddress)),1)])]),t("div",Ka,[t("div",Qa,[n[23]||(n[23]=t("div",{class:"self-center inline-block transition-all duration-500 text-xs md:text-sm text-blue-primary"},"Amount: ",-1)),t("div",Ja,a(s.$t(e.amount))+" "+a(s.$t(e.selectedToken.name.toUpperCase())),1)])]),t("div",za,[t("div",qa,[n[24]||(n[24]=t("div",{class:"self-center inline-block transition-all duration-500 text-xs md:text-sm text-blue-primary"},"MetaMask Address: ",-1)),t("div",Ya,a(s.$t(e.bscAddress)),1)])]),t("div",Za,[t("div",$a,[t("div",es,a(s.$t("general.transactionFee"))+" ("+a(s.$t("swap.bsc"))+" BEP20 "+a(s.$t("general.network"))+"): ",1),e.bscGasStrategy==="standard"?(m(),v("div",ts,[t("p",as,a(s.$t("swap.standard")),1),t("div",null,"XPX "+a(e.xpxAmountInStandardGasPrice),1)])):x("",!0),e.bscGasStrategy==="fast"?(m(),v("div",ss,[t("p",ls,a(s.$t("swap.fast")),1),t("div",null,"XPX "+a(e.xpxAmountInFastGasPrice),1)])):x("",!0),e.bscGasStrategy==="rapid"?(m(),v("div",ns,[t("p",rs,a(s.$t("swap.rapid")),1),t("div",null,"XPX "+a(e.xpxAmountInRapidGasPrice),1)])):x("",!0)])]),t("div",is,[t("div",os,[t("div",ds,a(s.$t("general.transactionFee"))+" ("+a(s.$t("swap.siriusNetwork"))+"): ",1),t("div",cs,[t("span",null,a(e.txFeeDisplay),1),D(" "+a(e.currentNativeTokenName),1)])])]),t("div",us,[t("div",ms,[n[25]||(n[25]=t("div",{class:"self-center inline-block transition-all duration-500 text-xs md:text-sm text-blue-primary"},"Total Transaction Fee: ",-1)),t("div",vs,a(e.minNativeBalanceAmount)+" "+a(e.currentNativeTokenName),1)])]),t("div",fs,[t("div",ps,[t("div",bs,a(s.$t("swap.feesValidDuration"))+": ",1),t("div",xs,a(e.timerMinutes)+":"+a(e.timerSecondsDisplay>=10?e.timerSecondsDisplay:"0"+e.timerSecondsDisplay),1)])]),t("div",gs,[t("button",{onClick:n[11]||(n[11]=c=>s.$router.push({name:"ViewServicesMainnetSwap"})),class:"text-black font-bold text-xs mr-1 sm:mr-5 mt-2 focus:outline-none disabled:opacity-50",disabled:e.isDisabledCancel},a(s.$t("general.later")),9,ws),t("button",{type:"button",class:"default-btn focus:outline-none disabled:opacity-50 mt-2",disabled:e.isDisabledSwap,onClick:n[12]||(n[12]=(...c)=>e.swap&&e.swap(...c))},a(e.swapInProgress?s.$t("swap.swapInProgress"):s.$t("swap.confirmSwap")),9,ys),e.canCheckStatus?(m(),v("button",{key:0,class:"default-btn focus:outline-none disabled:opacity-50 mt-2",onClick:n[13]||(n[13]=(...c)=>e.callTocheckSwapStatus&&e.callTocheckSwapStatus(...c))},a(s.$t("swap.checkSwapStatus")),1)):x("",!0)])])])):x("",!0),e.currentPage==3?(m(),v("div",hs,[t("div",null,[t("h1",ks,a(s.$t("general.congratz")),1),t("div",_s,a(s.$t("swap.swapStarted")),1),L(j,{networkTerm:s.$t("swap.bsc"),swapType:"Out",swapId:e.swapId,swapTimestamp:e.swapTimestamp,transactionHash:e.certTransactionHash,swapQr:e.swapQr,swapLink:e.swapLink,siriusName:e.selectedAccountName,swappedAmount:e.amount,siriusAddress:e.Helper.createAddress(e.selectedAccountAddress).pretty(),siriusTransactionHash:e.siriusTransactionHash,xpxExplorer:e.xpxExplorerUrl},null,8,["networkTerm","swapId","swapTimestamp","transactionHash","swapQr","swapLink","siriusName","swappedAmount","siriusAddress","siriusTransactionHash","xpxExplorer"]),t("button",{type:"button",class:"w-40 hover:shadow-lg bg-blue-primary text-white text-xs hover:opacity-50 rounded font-bold px-4 py-3 border border-blue-primary outline-none mr-4 mt-6",onClick:n[14]||(n[14]=(...c)=>e.saveCertificate&&e.saveCertificate(...c))},a(s.$t("general.downloadCertificate")),1),t("div",Ss,[t("a",{href:e.swapLink,target:"_new",class:"underline self-center text-xs font-bold text-blue-primary"},[D(a(s.$t("swap.viewTxInBsc")),1),L(ee,{icon:"external-link-alt",class:"ml-2 text-blue-500 w-3 h-3 self-center inline-block"})],8,As),n[27]||(n[27]=t("br",null,null,-1)),t("a",{href:e.xpxExplorerUrl+e.siriusTransactionHash,target:"_new",class:"underline self-center text-xs font-bold text-blue-primary"},[D(a(s.$t("swap.viewTxInExplorer")),1),L(ee,{icon:"external-link-alt",class:"ml-2 text-blue-500 w-3 h-3 self-center inline-block"})],8,Ts)]),t("div",Ps,a(s.$t("swap.swapDetails")),1),t("div",Is,[t("div",Cs,a(s.$t("general.from"))+": "+a(e.selectedAccountName),1),t("div",Ns,a(e.Helper.createAddress(e.selectedAccountAddress).pretty()),1),t("div",Ms,[D(a(s.$t("swap.swapAmount"))+" "+a(e.amount)+" "+a(e.selectedToken.name.toUpperCase())+" ",1),e.selectedToken.name=="metx"?(m(),v("img",Gs)):x("",!0),e.selectedToken.name=="xpx"?(m(),v("img",Fs)):x("",!0)]),n[28]||(n[28]=t("div",null,[t("img",{src:Ht,class:"inline-block h-8 my-2"})],-1)),t("div",Ds,a(s.$t("general.to"))+": "+a(s.$t("swap.metamaskAcc")),1),t("div",null,a(e.bscAddress),1),t("div",Ls,a(s.$t("swap.equivalentTo"))+" "+a(e.amount)+" BEP20 "+a(e.selectedToken.name.toUpperCase()),1)]),t("div",Us,a(s.$t("swap.swapMsg3")),1),t("label",Es,[st(t("input",{type:"checkbox",class:"h-5 w-5 bg-blue-primary","onUpdate:modelValue":n[15]||(n[15]=c=>e.savedCheck=c)},null,512),[[Gt,e.savedCheck]]),t("span",Bs,a(s.$t("swap.confirmDownloaded")),1)]),t("div",Xs,[L(te,{to:{name:"ViewServicesMainnetSwap"}},{default:Ft(()=>[t("button",{type:"submit",class:"default-btn mr-5 focus:outline-none w-40 inline-block disabled:opacity-50",disabled:!e.savedCheck},a(s.$t("general.done")),9,Vs)]),_:1})])])])):x("",!0)])])])}const dl=St(Qt,[["render",Hs],["__scopeId","data-v-12eb61f0"]]);export{dl as default};
