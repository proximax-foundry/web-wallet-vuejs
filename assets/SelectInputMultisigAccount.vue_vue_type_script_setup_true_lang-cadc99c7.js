import{d as $,D,c as B,w as p,r as _,i as H,o as d,b as v,m as K,v as k,e as t,t as y,f as x,y as A,h as W,M as N,O as j,j as q,_ as P,L as U,a as M,k as z,z as T,B as F}from"./index-1b5cb3ad.js";import{t as S}from"./jdenticon-module-bd90392b.js";const O={key:0,class:"account-item-value account-item"},E={class:"flex"},R=["innerHTML"],G={class:"flex flex-col ml-2 text-left"},J=t("div",{class:"text-blue-primary font-semibold text-xxs uppercase",style:{"line-height":"9px"}}," Selected Account to create / initiate transaction",-1),Q={class:"mt-1 text-tsm font-bold"},X={class:"account-item"},Y={class:"flex"},Z=["innerHTML"],ee={class:"text-xs ml-2 font-semibold"},xe=$({__name:"SelectInputAccount",emits:["select-account","update:modelValue"],setup(r){const h=W().appContext.config.globalProperties.emitter;let f=new D("ThemeStyleConfig");f.init();let l=f.jdenticonConfig;const c=B(()=>p.currentLoggedInWallet?[...p.currentLoggedInWallet.accounts.filter(s=>s.multisigInfo.length==0||s.multisigInfo.find(g=>g.level==0).cosignaturies.length==0)].map(s=>({value:s.address,label:p.currentLoggedInWallet.convertAddressToName(s.address,!0)})):[]),u=_(null),m=_(null),I=(a,s)=>{h.emit("select-account",s),u.value.label=a,u.value.value=s,m.value=S(s,25,l)};return(a,s)=>{const g=H("Dropdown");return d(),v("div",null,[K(g,{modelValue:u.value,"onUpdate:modelValue":s[0]||(s[0]=n=>u.value=n),style:{width:"100%"},options:c.value,filter:!0,filterFields:["label","value"],emptyFilterMessage:" ",onChange:s[1]||(s[1]=n=>{I(n.value.label,n.value.value),a.$emit("update:modelValue",n.value.value),a.$emit("select-account",n.value.value)})},{value:k(n=>[n.value?(d(),v("div",O,[t("div",E,[t("div",{innerHTML:m.value},null,8,R),t("div",G,[J,t("div",Q,y(n.value.label),1)])])])):x("",!0)]),option:k(n=>[t("div",X,[t("div",Y,[t("div",{innerHTML:A(S)(n.option.value,20,A(l))},null,8,Z),t("div",ee,y(n.option.label),1)])])]),_:1},8,["modelValue","options"])])}}}),te={class:"border border-gray-200 px-2 py-1 rounded-md"},le={class:"flex flex-col"},ne={class:"uppercase font-light text-gray-500 text-txs text-left mb-2"},se={class:"flex w-full"},oe=["value","data-maska","placeholder"],ae=$({__name:"InputAmount",props:{modelValue:{type:String,required:!0},decimal:{type:Number,required:!0},placeholder:{type:String,required:!0},disabled:{type:Boolean,required:!1}},emits:["update:modelValue","show-error"],setup(r){const i=r,h=()=>{let l="0";return i.decimal>0&&(l=l+"."+"9".repeat(i.decimal)),l},f={preProcess:l=>l.replace(/,/g,""),postProcess:l=>{if(!l)return"";let c=0;return i.decimal>0&&(c=1+i.decimal-(l.includes(".")?l.length-l.indexOf("."):0)),Intl.NumberFormat("en-US",{minimumFractionDigits:i.decimal}).format(parseFloat(l)).slice(0,c?-c:void 0)}};return(l,c)=>{const u=N("maska");return d(),v("div",{class:q(r.disabled?"opacity-50":"")},[t("div",te,[t("div",le,[t("div",ne,y(r.placeholder),1),t("div",se,[j(t("input",{value:r.modelValue,class:"supply_input","data-maska":h(),"data-maska-tokens":"0:\\d:multiple|9:\\d:optional",placeholder:r.placeholder,onInput:c[0]||(c[0]=m=>l.$emit("update:modelValue",parseFloat(m.target.value.replace(/,/g,"")).toString()))},null,40,oe),[[u,void 0,f]])])])])],2)}}});const ye=P(ae,[["__scopeId","data-v-49824407"]]),ie={key:1,class:"text-xs mt-3 text-blue-primary"},ce={key:0,class:"account-item-value account-item"},ue={class:"flex"},re=["innerHTML"],de={class:"flex flex-col ml-2 text-left"},me=t("div",{class:"text-blue-primary font-semibold text-xxs uppercase",style:{"line-height":"9px"}}," Selected Multisig Account",-1),pe={class:"mt-1 text-tsm font-bold"},ve={class:"account-item"},fe={class:"flex items-center"},ge=["innerHTML"],_e={class:"text-xs ml-2 font-semibold"},Ie=$({__name:"SelectInputMultisigAccount",props:{selectedAddress:{type:String,required:!1}},emits:["select-multisig-account","update:modelValue"],setup(r){const i=_(!1),h=r,{selectedAddress:f}=U(h),l=_([]),u=W().appContext.config.globalProperties.emitter;let m=new D("ThemeStyleConfig");m.init();let I=m.jdenticonConfig;const a=_(null);M(f,n=>{g(null,null);const o=p.currentLoggedInWallet.accounts.find(e=>e.address==n),w=o.multisigInfo.find(e=>e.level==0);l.value=w?[...o.multisigInfo].filter(e=>e.level<0).map(e=>{const b=[...p.currentLoggedInWallet.accounts,...p.currentLoggedInWallet.others].find(C=>C.publicKey==e.publicKey);return{label:b?p.currentLoggedInWallet.convertAddressToName(b.address):T.PublicAccount.createFromPublicKey(e.publicKey,F.networkType).address.plain(),value:T.PublicAccount.createFromPublicKey(e.publicKey,F.networkType).address.plain()}}):[]}),M(a,n=>{n==null&&(i.value=!1)});const s=_(null),g=(n,o)=>{if(n==null&&o==null){a.value=null,u.emit("select-multisig-account",null);return}u.emit("select-multisig-account",o),a.value.label=n,a.value.value=o,s.value=S(o,25,I)};return(n,o)=>{const w=H("Dropdown");return d(),v("div",null,[l.value.length&&!i.value?(d(),v("button",{key:0,class:"blue-btn py-2 px-3 mt-3",onClick:o[0]||(o[0]=e=>i.value=!0)},"Select Multisig Account")):x("",!0),l.value.length&&i.value&&!a.value?(d(),v("div",ie,"Select Multisig Account")):x("",!0),i.value&&l.value.length?(d(),z(w,{key:2,showClear:!0,modelValue:a.value,"onUpdate:modelValue":o[1]||(o[1]=e=>a.value=e),style:{width:"100%"},options:l.value,filter:!0,filterFields:["label","value"],emptyFilterMessage:" ",onChange:o[2]||(o[2]=e=>{var V,b,C,L;g((V=e.value)==null?void 0:V.label,(b=e.value)==null?void 0:b.value),n.$emit("update:modelValue",(C=e.value)==null?void 0:C.value),n.$emit("select-multisig-account",(L=e.value)==null?void 0:L.value)})},{value:k(e=>[e.value?(d(),v("div",ce,[t("div",ue,[t("div",{innerHTML:s.value},null,8,re),t("div",de,[me,t("div",pe,y(e.value.label),1)])])])):x("",!0)]),option:k(e=>[t("div",ve,[t("div",fe,[t("div",{innerHTML:A(S)(e.option.value,20,A(I))},null,8,ge),t("div",_e,y(e.option.label),1)])])]),_:1},8,["modelValue","options"])):x("",!0)])}}});export{ye as I,xe as _,Ie as a};
