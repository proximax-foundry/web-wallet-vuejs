import{d as y,u as x,r as p,i as k,o as L,b as S,e as r,m as s,v as a,x as l,t,y as i,H as C,h as $,w as c}from"./index-98b53c7e.js";import{_ as V}from"./icon-upload-6def9237.js";import{s as u,a as P}from"./column.esm-36f7f3fe.js";import{s as B}from"./multiselect.esm-90dd5b8e.js";const E={class:"w-9/12 ml-auto mr-auto mt-5"},I={class:"flex text-xs font-semibold border-b-2 menu_title_div"},T={class:"w-18 text-center border-b-2 pb-3 border-yellow-500"},A={class:"mt-10"},N={class:"text-md my-5 font-semibold"},R={class:"flex cursor-pointer"},W={class:"border-2 border-blue-primary p-1 mb-3 w-16 text-white bg-blue-primary text-xs text-center font-semibold"},D={class:"text-tsm"},F={class:"mt-4"},H=r("img",{src:V,class:"inline-block mr-4 relative top-1"},null,-1),j=y({__name:"ViewServicesAddressBookExportSelect",setup(K){x();const m=$(),v=m==null?void 0:m.appContext.config.globalProperties.emitter,d=p([]),g=p(),_=p([]),h=()=>{c.currentLoggedInWallet&&(d.value=[],c.currentLoggedInWallet.contacts!=null&&c.currentLoggedInWallet.contacts.length>0&&(c.currentLoggedInWallet.contacts.forEach(e=>{d.value.push(e),_.value.push(e.group)}),d.value.sort((e,n)=>e.name>n.name?1:e.name<n.name?-1:0)))};h(),v.on("REFRESH_CONTACT_LIST",e=>{e&&setTimeout(()=>{h()},1e3)});const f=p(),w=e=>{f.value.exportCSV(e)};return(e,n)=>{const b=k("router-link");return L(),S("div",null,[r("div",E,[r("div",I,[s(b,{to:{name:"ViewServicesAddressBook"},class:"w-18 text-center border-b pb-3"},{default:a(()=>[l(t(e.$t("general.list")),1)]),_:1}),s(b,{to:{name:"ViewServicesAddressBookImport"},class:"w-18 text-center border-b pb-3"},{default:a(()=>[l(t(e.$t("general.import")),1)]),_:1}),r("div",T,t(e.$t("general.export")),1)]),r("div",A,[r("div",N,t(e.$t("addressBook.exportContacts")),1),r("div",R,[s(b,{to:{name:"ViewServicesAddressBookExport"},class:"border-2 border-blue-primary p-1 mb-3 w-16 text-blue-primary text-xs text-center font-semibold"},{default:a(()=>[l(t(e.$t("general.group")),1)]),_:1}),r("div",W,t(e.$t("general.name")),1)])]),r("div",null,[r("div",D,t(e.$t("addressBook.selectExportContacts")),1),r("div",F,[s(i(B),{modelValue:g.value,"onUpdate:modelValue":n[0]||(n[0]=o=>g.value=o),options:d.value,optionLabel:"name",placeholder:"Contacts",class:"w-60 mr-2"},null,8,["modelValue","options"])])]),r("div",{onClick:n[1]||(n[1]=o=>w(o)),class:"cursor-pointer mt-5 py-2 px-5 rounded-md w-36 bg-blue-primary text-white text-tsm drop-shadow-lg filter hover:bg-blue-600 transition-all duration-500"},[H,l(t(e.$t("general.export")),1)]),s(i(P),{class:"hidden",value:g.value,ref_key:"dt",ref:f,paginator:!0,rows:10,responsiveLayout:"scroll",scrollDirection:"horizontal",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",currentPageReportTemplate:""},{default:a(()=>[s(i(u),{field:"name",header:e.$t("general.label"),headerStyle:"width:30%"},{body:a(({data:o})=>[l(t(o.name),1)]),_:1},8,["header"]),s(i(u),{field:"address",header:e.$t("general.address"),headerStyle:"width:55%"},{body:a(({data:o})=>[l(t(i(C).createAddress(o.address).pretty()),1)]),_:1},8,["header"]),s(i(u),{field:"group",header:e.$t("general.group"),headerStyle:"width:30%"},{body:a(({data:o})=>[l(t(o.group),1)]),_:1},8,["header"]),s(i(u),{field:"publicKey",header:e.$t("general.publicKey"),headerStyle:"width:55%"},{body:a(({data:o})=>[l(t(o.publicKey),1)]),_:1},8,["header"])]),_:1},8,["value"])])])}}});export{j as default};
