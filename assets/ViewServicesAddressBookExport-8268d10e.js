import{_ as S,u as k,g as y,r as g,c as C,ad as V,H as L,k as f,o as I,b as P,e as l,s as n,z as d,A as u,t as s,S as B,a2 as T,w as v}from"./index-f81de996.js";import{a as A,s as E}from"./column.esm-a96344fe.js";import{S as D}from"./SelectInputPluginClean-88aa12a6.js";import{_ as N}from"./icon-upload-6def9237.js";import"./multiselect-9024d715.js";const $={name:"ViewServicesAddressBookExport",components:{DataTable:A,Column:E,SelectInputPluginClean:D},setup(){const{t:r}=k(),_=y().appContext.config.globalProperties.emitter,t=g([]),h=g([]);function x(o,i,p){return p.indexOf(o)===i}const m=C(()=>{var o=h.value.filter(x);o=o.filter(p=>p!="-none-"),o.sort();let i=[];return i.push({value:"",label:r("general.showAll")}),o.forEach(p=>{i.push({value:p,label:p})}),i}),w=g({global:{value:null,matchMode:V.CONTAINS}}),c=()=>{v.currentLoggedInWallet&&(t.value=[],v.currentLoggedInWallet.contacts!=null&&v.currentLoggedInWallet.contacts.length>0&&(v.currentLoggedInWallet.contacts.forEach(o=>{t.value.push(o),h.value.push(o.group)}),t.value.sort((o,i)=>o.name>i.name?1:o.name<i.name?-1:0)))};c(),_.on("REFRESH_CONTACT_LIST",o=>{o&&setTimeout(()=>{c()},1e3)});const b=g();return{dt:b,exportCSV:()=>{b.value.exportCSV()},list:t,filters:w,Helper:L,contactGroups:m}}},F={class:"w-9/12 ml-auto mr-auto mt-5"},G={class:"flex text-xs font-semibold border-b-2 menu_title_div"},R={class:"w-18 text-center border-b-2 pb-3 border-yellow-500"},H={class:"mt-10"},M={class:"text-md my-5 font-semibold"},U={class:"flex cursor-pointer"},W={class:"border-2 border-blue-primary p-1 mb-3 w-16 text-white bg-blue-primary text-xs text-center font-semibold"},K={class:"text-tsm"},O={class:"mt-4"},j=l("img",{src:N,class:"inline-block mr-4 relative top-1"},null,-1);function q(r,a,_,t,h,x){const m=f("router-link"),w=f("SelectInputPluginClean"),c=f("Column"),b=f("DataTable");return I(),P("div",null,[l("div",F,[l("div",G,[n(m,{to:{name:"ViewServicesAddressBook"},class:"w-18 text-center border-b pb-3"},{default:d(()=>[u(s(r.$t("general.list")),1)]),_:1}),n(m,{to:{name:"ViewServicesAddressBookImport"},class:"w-18 text-center border-b pb-3"},{default:d(()=>[u(s(r.$t("general.import")),1)]),_:1}),l("div",R,s(r.$t("general.export")),1)]),l("div",H,[l("div",M,s(r.$t("addressBook.exportContacts")),1),l("div",U,[l("div",W,s(r.$t("general.group")),1),n(m,{to:{name:"ViewServicesAddressBookExportSelect"},class:"border-2 border-blue-primary p-1 mb-3 w-16 text-blue-primary text-xs text-center font-semibold"},{default:d(()=>[u(s(r.$t("general.name")),1)]),_:1})]),l("div",K,s(r.$t("addressBook.exportBackUpContact")),1),l("div",O,[n(w,{modelValue:t.filters.global.value,"onUpdate:modelValue":a[0]||(a[0]=e=>t.filters.global.value=e),placeholder:"Group",options:t.contactGroups,selectDefault:"",class:"w-60 inline-block mr-2"},null,8,["modelValue","options"])])]),B(l("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>t.filters.global.value=e),type:"text",class:"hidden"},null,512),[[T,t.filters.global.value]]),l("div",{onClick:a[2]||(a[2]=e=>t.exportCSV(e)),class:"cursor-pointer mt-5 py-2 px-5 rounded-md w-36 bg-blue-primary text-white text-tsm drop-shadow-lg filter hover:bg-blue-600 transition-all duration-500"},[j,u(s(r.$t("general.export")),1)]),n(b,{class:"hidden",value:t.list,ref:"dt",filters:t.filters,"onUpdate:filters":a[3]||(a[3]=e=>t.filters=e),paginator:!0,rows:10,responsiveLayout:"scroll",scrollDirection:"horizontal",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",currentPageReportTemplate:"",globalFilterFields:["group"]},{default:d(()=>[n(c,{field:"name",header:r.$t("general.label"),headerStyle:"width:30%"},{body:d(({data:e})=>[u(s(e.name),1)]),_:1},8,["header"]),n(c,{field:"address",header:r.$t("general.address"),headerStyle:"width:55%"},{body:d(({data:e})=>[u(s(t.Helper.createAddress(e.address).pretty()),1)]),_:1},8,["header"]),n(c,{field:"group",header:r.$t("general.group"),headerStyle:"width:30%"},{body:d(({data:e})=>[u(s(e.group),1)]),_:1},8,["header"]),n(c,{field:"publicKey",header:r.$t("general.publicKey"),headerStyle:"width:55%"},{body:d(({data:e})=>[u(s(e.publicKey),1)]),_:1},8,["header"])]),_:1},8,["value","filters"])])])}const Z=S($,[["render",q],["__file","/home/runner/work/web-wallet-vuejs/web-wallet-vuejs/src/modules/services/submodule/addressbook/views/ViewServicesAddressBookExport.vue"]]);export{Z as default};
