import{_ as _t,j as St,c as p,A as u,y as At,k as Tt,g as r,D as B,w as _,H as o,bc as Pt,n as he,r as X,o as m,f as v,e as t,t as a,s as D,h as M,O as st,ak as It,F as Ct,K as Nt,i as x,l as L,R as Mt,b as Gt,x as Ee,W as Ft}from"./index-aa0744c5.js";import{_ as Dt,S as Lt,M as Ut,a as Et}from"./SelectInputAccountOutgoingSwap-75e9a522.js";import{S as Bt,_ as Xt}from"./icon-dots-4ec7d515.js";import{a as Vt}from"./functions-340feb99.js";import{S as w}from"./swapUtils-67ee931a.js";import{_ as Ht}from"./bsc-e621c678.js";import{_ as nt}from"./metx-logo-27f23eae.js";import{_ as Ot}from"./proximax-logo-ecfc3767.js";import{_ as Rt}from"./icon-xpx-072deeab.js";import{g as lt}from"./index-0d9c2350.js";import"./icon-info-8b4f1351.js";import"./jdenticon-module-cb5aedf5.js";import"./delete-8b454e7f.js";import"./jspdf.es.min-589187e9.js";import"./qrcode-84a1fcdb.js";const jt="/web-wallet-vuejs/assets/icon-prx-xpx-blue-05a9ca17.svg";const Wt={name:"ViewServicesMainnetSwapMetxToBSC",components:{PasswordInputClean:Dt,SwapInputClean:Lt,MetamaskAddressInput:Ut,SwapCertificateComponent:Bt,SelectInputAccountOutgoingSwap:Et},setup(){const{t:s}=St(),n=p(()=>u.nativeToken.label),ke=At(),e=Tt(),Be=r(!0),R=r(180),_e=p(()=>R.value%60),Se=p(()=>Math.floor(R.value/60)),Ae=setInterval(()=>{--R.value},1e3),b=r(""),j=r(""),ee=B(()=>R.value,l=>{l<=0&&(te(),c())}),te=()=>{ee(),Be.value=!1,clearInterval(Ae)},c=()=>{e.push({name:"ViewServicesMainnetSwap"})},U=r(1),Xe=r(!1),ae=r(""),W=r(""),se=r(""),S=r(0),Te=r(!1),Ve=p(()=>{if(!_.currentLoggedInWallet)return[];let l=_.currentLoggedInWallet.accounts.map(i=>({name:i.name,balance:i.balance,balanceDisplay:o.toCurrencyFormat(i.balance,u.nativeToken.divisibility),type:"",address:o.createAddress(i.address).pretty(),publicKey:i.publicKey,isMultisig:!!i.getDirectParentMultisig().length}));if(Xe.value){let i=_.currentLoggedInWallet.others.filter(d=>d.type==="MULTISIG").map(d=>({name:d.name,balance:d.balance,balanceDisplay:o.toCurrencyFormat(d.balance,u.nativeToken.divisibility),type:"MULTISIG",address:o.createAddress(d.address).pretty(),publicKey:d.publicKey,isMultisig:!0}));return l.concat(i)}else return l}),I=p(()=>Ve.value.find(l=>l.name===ae.value)),E=r("");B(E,l=>{if(l){let i=_.currentLoggedInWallet.accounts.find(d=>d.address==l);if(i||(i=_.currentLoggedInWallet.others.find(d=>d.address==l)),ae.value=i.name,W.value=i.address,b.value.name.toUpperCase()!="XPX"){let d=i.assets.findIndex(f=>f.idHex==b.value.assetId);S.value=d>-1?i.assets[d].amount:0,k.value=o.convertNumberMinimumFormat(S.value,N.value)}else S.value=i.balance,k.value=o.convertNumberMinimumFormat(i.balance-A.value-h.value,N.value);se.value=i.publicKey}else ae.value="",W.value="",S.value="",se.value=""}),B(b,async l=>{let i=await u.chainAPI.assetAPI.getMosaic(new Ee.MosaicId(l.assetId));if(N.value=i.divisibility,E.value!=""){let d=_.currentLoggedInWallet.accounts.find(f=>f.address==E.value);if(d||(d=_.currentLoggedInWallet.others.find(f=>f.address==E.value)),l.name.toUpperCase()!="XPX"){let f=d.assets.findIndex(T=>T.idHex==l.assetId);S.value=f>-1?d.assets[f].amount:0,k.value=o.convertNumberMinimumFormat(S.value,N.value)}else S.value=d.balance,k.value=o.convertNumberMinimumFormat(d.balance-A.value-h.value,N.value)}g.value>k.value&&fe()});const Pe=1e9,Ie=1.2,V=r(!1),P=r(!1),C=r(!1),rt=r(!1),le=r(""),He="^[^ ]{8,}$",y=r(!1),K=r(!1),Ce=r(""),Q=r(""),it=p(()=>!(g.value>0&&le.value.match(He)&&Q.value!=""&&!C.value&&y.value==!1)),g=r(0),Oe=u.nativeToken.fullNamespace,ot=o.createAsset(o.createNamespaceId(Oe).toHex(),1),dt=o.createAsset(o.createNamespaceId("prx.metx").toHex(),1),Re=u.buildTxn,ne=Re.transferBuilder(),je=Re.aggregateCompleteBuilder();let Ne={type:"Swap-xpx-bsc",remoteAddress:"0".repeat(42)};const ct=()=>{Ne.remoteAddress=Q.value,We()};let re={type:"Swap-xpx-bsc-fees",gasPrice:5,gasLimit:57500},H=new Pt(he.chainNetworkName);H.init();let J=H.swap_XPX_BSC_URL,Me=H.BSCScanUrl,ut=he.currentNetworkProfile.chainExplorer.url+"/"+he.currentNetworkProfile.chainExplorer.hashRoute+"/",Ge,Fe,z=r([]);const N=r(0),mt=async()=>{let l=await w.getSwapTokenList(J);l&&(z.value=l,b.value=z.value[0],j.value=z.value[0].name,u.chainAPI.assetAPI.getMosaic(new Ee.MosaicId(b.value.assetId)).then(i=>{N.value=i.properties.divisibility}))};(async()=>{try{const l=w.getServiceInfoURL(J),i=await w.getOutgoingSwapServiceInfo(l);Ge=i.siriusInfo.sinkingFundAddress,Fe=i.siriusInfo.sinkingFeeAddress,vt()}catch{F(s("swap.serviceUnavailable"),s("swap.failGetSink")),c()}})(),mt();let q,ie,oe;const vt=()=>{ie=ne.mosaics([dt]).recipient(o.createAddress(Ge)).message(o.createPlainMessage(JSON.stringify(Ne))).build(),oe=ne.mosaics([ot]).recipient(o.createAddress(Fe)).message(o.createPlainMessage(JSON.stringify(re))).build(),q=je.innerTransactions(o.createInnerTransaction([ie,oe],"0".repeat(64))).build(),A.value=o.convertToExact(q.maxFee.compact(),u.nativeToken.divisibility),G.value=A.value};let A=r(0);const ft=p(()=>o.toCurrencyFormat(A.value,u.nativeToken.divisibility)),We=()=>{let l;g.value<0?l=0:l=g.value;const i=o.createAsset(o.createNamespaceId(b.value.namespace).toHex(),o.convertToAbsolute(l,N.value)),d=o.createAsset(o.createNamespaceId(Oe).toHex(),o.convertToAbsolute(h.value,u.nativeToken.divisibility));ie=ne.mosaics([i]).recipient(o.createAddress(Ge)).message(o.createPlainMessage(JSON.stringify(Ne))).build(),oe=ne.mosaics([d]).recipient(o.createAddress(Fe)).message(o.createPlainMessage(JSON.stringify(re))).build(),q=je.innerTransactions(o.createInnerTransaction([ie,oe],se.value)).build(),A.value=o.convertToExact(q.maxFee.compact(),u.nativeToken.divisibility)},Ke=p(()=>de.value*ue.value/Pe),Qe=p(()=>Y.value*De.value/Pe),Je=p(()=>ce.value*Le.value/Pe),ze=p(()=>o.convertNumberMinimumFormat(Ke.value*ve.value,2)),qe=p(()=>o.convertNumberMinimumFormat(Qe.value*ve.value,2)),Ye=p(()=>o.convertNumberMinimumFormat(Je.value*ve.value,2)),Ze=p(()=>o.convertNumberMinimumFormat(ze.value/me.value*Ie,u.nativeToken.divisibility)),$e=p(()=>o.convertNumberMinimumFormat(qe.value/me.value*Ie,u.nativeToken.divisibility)),et=p(()=>o.convertNumberMinimumFormat(Ye.value/me.value*Ie,u.nativeToken.divisibility)),de=r(0),Y=r(0),ce=r(0),ue=r(55e3),De=r(55e3),Le=r(55e3);(async()=>{if(u.networkType===Ee.NetworkType.TEST_NET)de.value=10,Y.value=10,ce.value=10;else{let l=await w.getBSC_SafeGwei(H.gasPriceConsultURL);if(l.status===0)console.log("Error, no data found. Please try again later");else{let i=l.result;de.value=i.ProposeGasPrice,Y.value=i.FastGasPrice,ce.value=Math.ceil(Y.value*1.1)}}})(),(async()=>{let l=await w.getBSC_GasLimit(H.gasPriceConsultURL);l.status===0?console.log("Error, no gas limit data found. Please try again later"):(ue.value=l.standardGasLimit,De.value=l.fastGasLimit,Le.value=l.rapidGasLimit)})();const me=r(0),ve=r(0),pt=r(0);(async()=>{let l=await Vt(w.checkSwapPrice(H.priceConsultURL));me.value=l.xpx,pt.value=l.metx,ve.value=l.bnb})();const fe=()=>{g.value=k.value};B(j,l=>{b.value=z.value.find(i=>i.name===l)});const bt=r(!1),pe=r("");let Z=r(0),$=r(0),h=r(0);const k=r(0),G=r(0),xt=p(()=>I.value?I.value.balance<G.value:!1),tt=l=>{pe.value=l,l==="rapid"?(Z.value=Le.value,$.value=ce.value,h.value=et.value):l==="fast"?(Z.value=De.value,$.value=Y.value,h.value=$e.value):(Z.value=ue.value,$.value=de.value,h.value=Ze.value),re.gasPrice=$.value,re.gasLimit=Z.value,G.value=o.convertNumberMinimumFormat(A.value+h.value,u.nativeToken.divisibility),gt(),We()},gt=async()=>{b.value.name.toUpperCase()!=="XPX"?I.value.balance<h.value+A.value?y.value=!0:y.value=!1:(I.value.balance<G.value&&(g.value=0),I.value.balance<G.value?K.value=!0:(K.value=!1,y.value=!1))};B(h,l=>{let i=_.currentLoggedInWallet.accounts.find(d=>d.address==E.value);i||(i=_.currentLoggedInWallet.others.find(d=>d.address==E.value)),b.value.name!="xpx"?(k.value=o.convertNumberMinimumFormat(S.value,N.value),g.value>k.value&&fe()):(k.value=o.convertNumberMinimumFormat(i.balance-A.value-l,u.nativeToken.divisibility),g.value>k.value&&fe())}),B(ue,()=>{U.value==2&&(I.value.balance<=G.value?(K.value=!0,y.value=!0):(K.value=!1,y.value=!1))}),B([S,g],()=>{b.value.name.toUpperCase()!=="XPX"?g.value>k.value?y.value=!0:y.value=!1:S.value<g.value+G.value?y.value=!0:y.value=!1});const O=r(""),wt=()=>{C.value=!0,P.value=!0;try{lt(Q.value)&&(V.value=!1)}catch{V.value=!0,C.value=!1,P.value=!1}if(!V.value)if(Ft.verifyWalletPassword(_.currentLoggedInWallet.name,he.chainNetworkName,le.value)){if(Ce.value="",ct(),tt(pe.value),b.value.name=="xpx"){if(g.value+h.value+A.value>I.value.balance){F(s("swap.insufficientAmount"),s("swap.swapInsufficientAmount"),5e3);return}}else if(h.value+A.value>I.value.balance){F(s("swap.insufficientAmount"),s("swap.swapInsufficientAmount"),5e3);return}te();let l=w.signTransaction(W.value,le.value,q);O.value=l.hash,yt().then(i=>{g.value<=i?ht(l.payload):F("Swap Server Error","Insufficient Balance from Funding Account",5e3)})}else Ce.value=s("general.walletPasswordInvalid",{name:_.currentLoggedInWallet.name}),C.value=!1,P.value=!1},yt=async()=>{const l=await w.checkTokenBalance(J,b.value.name);return l.status?l.tokenBalance:0},ht=async l=>{let d=JSON.stringify({txnInfo:{network:"bsc",siriusTxnPayload:l}});try{const f=await fetch(w.getOutgoing_SwapTransfer_URL(J,b.value.name),{method:"POST",headers:{"Content-Type":"application/json"},body:d});if(f.ok){u.txnSwapLog.find(ye=>ye.txnHash===O.value)||u.txnSwapLog.push({txnHash:O.value,accPubKey:se.value,status:"",statusMsg:"",relatedAddress:[],checkedNum:0});const T=await f.json();ge.value=T.data.txHash,at.value=Me+T.data.txHash,be.value="",xe.value=T.data.swapId,we.value=w.generateQRCode(Me+T.data.txHash),U.value=3}else if(f.status==400){const T=await f.json();F(s("swap.swapOperationFail"),T.data.message),C.value=!1,P.value=!1}else if(f.status==409)Ue.value=!0,P.value=!1;else if(f.status==503){const T=await f.json();let ye=T.data.message?T.data.message:"";ke.add({severity:"warn",summary:s("swap.serviceUnavailable"),detail:ye||s("swap.tryAgain"),group:"br-custom"}),C.value=!1,P.value=!1}else f.status==504&&(F(s("swap.timedOut"),s("swap.checkStatusAgain")),P.value=!1,Ue.value=!0)}catch{F(s("swap.networkErr"),s("swap.serverNotFound")),C.value=!1,P.value=!1}},kt=async()=>{const l=await fetch(w.getOutgoing_SwapCheckByTxID_URL(J,O.value));if(l.status==200){const i=await l.json();ge.value=i.fulfillTransaction,be.value="",xe.value=i.data._id,we.value=w.generateQRCode(Me+i.fulfillTransaction),U.value=2}else F(s("swap.swapNotFound"),s("swap.txIdNotFound"))},F=(l,i,d=void 0)=>{ke.add({severity:"error",summary:l,detail:i,group:"br-custom",life:d})},at=r(""),be=r(""),xe=r(""),ge=r(""),we=r(""),Ue=r(!1);return{selectedAccountBalance:S,minNativeBalanceAmount:G,includeMultisig:Xe,timerSecondsDisplay:_e,timerMinutes:Se,currentPage:U,bscAddress:Q,showAddressErr:V,showPasswdError:rt,walletPasswd:le,passwdPattern:He,showAmountErr:y,amount:g,disableAmount:K,updateAmountToMax:fe,bscGasStrategy:pe,isDisabledSwap:it,err:Ce,swap:wt,savedCheck:bt,allAvailableAccounts:Ve,selectedAccount:I,selectedAccountName:ae,selectedGasPriceInGwei:$,selectedGasLimit:Z,standardGasPrice:Ke,fastGasPrice:Qe,rapidGasPrice:Je,standardGasPriceInUSD:ze,fastGasPriceInUSD:qe,rapidGasPriceInUSD:Ye,xpxAmountInStandardGasPrice:Ze,xpxAmountInFastGasPrice:$e,xpxAmountInRapidGasPrice:et,txFeeDisplay:ft,gasPriceInXPX:h,maxSwapAmount:k,changeGasStrategy:tt,swapInProgress:C,certTransactionHash:ge,swapLink:at,swapTimestamp:be,swapId:xe,swapQr:we,saveCertificate:()=>{w.generateoutgoingPdfCert("BSC",be.value,W.value,xe.value,ge.value,we.value,O.value)},selectedAccountAddress:W,isDisabledCancel:P,canCheckStatus:Ue,callTocheckSwapStatus:kt,siriusTransactionHash:O,xpxExplorerUrl:ut,currentNativeTokenName:n,siriusAddress:E,walletState:_,Helper:o,xpxFeeErr:xt,tokenDivisibility:N,tokenList:z,selectedToken:b,selectedTokenName:j,validated:()=>{if(pe.value===""){Te.value=!0;return}else Te.value=!1;try{lt(Q.value)&&!y.value&&(V.value=!1,U.value=2)}catch{V.value=!0,C.value=!1,P.value=!1}},selectErr:Te}}},Kt={class:"lg:w-9/12 ml-2 mr-2 lg:ml-auto lg:mr-auto mt-5"},Qt={class:"mt-6 p-6 border filter shadow-lg text-center"},Jt={class:"text-md"},zt={class:"text-xs my-3 mb-5 sm:mb-10"},qt={class:"flex my-10"},Yt={class:"flex-none"},Zt={class:"flex border border-gray-300 rounded-md filter shadow-md"},$t={class:"px-4 sm:px-10 self-center text-xxs sm:text-xs hidden md:inline-block lg:hidden xl:inline-block"},ea={class:"flex-none"},ta={class:"flex border border-gray-300 rounded-md filter shadow-md"},aa={class:"px-4 sm:px-10 self-center text-xxs sm:text-xs hidden md:inline-block lg:hidden xl:inline-block"},sa={class:"flex-none"},la={class:"flex border border-gray-300 rounded-md filter shadow-md"},na={class:"px-4 sm:px-10 self-center text-xxs sm:text-xs hidden md:inline-block lg:hidden xl:inline-block"},ra={key:0},ia=["value"],oa={class:"text-sm my-5 font-bold"},da={key:0,class:"error error_box mb-5"},ca={class:"relative"},ua={key:0,class:"opacity-90 w-full h-full absolute z-10 bg-white"},ma={class:"tex-center font-bold text-sm my-5"},va={class:"md:grid md:grid-cols-3 mb-4"},fa={class:"md:col-span-1 mb-3"},pa={class:"font-bold text-tsm"},ba={class:"md:col-span-1 mb-3"},xa={class:"font-bold text-tsm"},ga={class:"md:col-span-1 mb-3"},wa={class:"font-bold text-tsm"},ya={key:1,class:"error error_box mb-5"},ha={class:"text-sm text-center mb-2 sm:mb-4"},ka={class:"tex-center font-bold text-sm mb-2"},_a={class:"rounded-2xl bg-gray-100 p-5 mb-5"},Sa={class:"inline-block mr-4 text-xs"},Aa={class:"mb-5"},Ta={key:2,class:"error error_box mb-5"},Pa={class:"bg-blue-50 border border-blue-primary h-20 mt-5 rounded flex items-center justify-center uppercase"},Ia={key:0,src:nt,class:"w-5 h-5 ml-4"},Ca={key:1,src:Ot,class:"w-5 h-5 ml-4"},Na={class:"flex justify-center mt-3"},Ma={class:"text-xs text-gray-600 mt-2 max-w-screen-md"},Ga={class:"mt-10 text-center"},Fa=["disabled"],Da=["disabled"],La={key:1},Ua={class:"text-lg my-7"},Ea={key:0,class:"error error_box mb-5"},Ba={class:"flex border-b border-gray-300 p-3"},Xa={class:"flex h-full justify-center"},Va={class:"flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500 text-gray-700 break-all"},Ha={class:"flex border-b border-gray-300 p-3"},Oa={class:"flex h-full justify-center"},Ra={class:"flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500 text-gray-700 break-all"},ja={class:"flex border-b border-gray-300 p-3"},Wa={class:"flex h-full justify-center"},Ka={class:"flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500 text-gray-700 break-all"},Qa={class:"flex border-b border-gray-300 p-3"},Ja={class:"flex h-full justify-center"},za={class:"flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500 text-gray-700 break-all"},qa={class:"flex border-b border-gray-300 p-3"},Ya={class:"flex h-full justify-center"},Za={class:"self-center inline-block transition-all duration-500 text-xs md:text-sm text-blue-primary"},$a={key:0,class:"flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500 text-gray-700 break-all"},es={class:"font-bold text-tsm"},ts={key:1,class:"flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500 text-gray-700 break-all"},as={class:"font-bold text-tsm"},ss={key:2,class:"flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500 text-gray-700 break-all"},ls={class:"font-bold text-tsm"},ns={class:"flex border-b border-gray-300 p-3"},rs={class:"flex h-full justify-center"},is={class:"self-center inline-block transition-all duration-500 text-xs md:text-sm text-blue-primary"},os={class:"flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500 text-gray-700 break-all"},ds={class:"flex border-b border-gray-300 p-3"},cs={class:"flex h-full justify-center"},us={class:"flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500 text-gray-700 break-all"},ms={class:"flex border-b border-gray-300 p-3"},vs={class:"flex h-full justify-center"},fs={class:"self-center inline-block transition-all duration-500 text-xs md:text-sm text-blue-primary"},ps={class:"flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500 text-gray-700 break-all"},bs={class:"mt-10 text-center"},xs=["disabled"],gs=["disabled"],ws={key:2},ys={class:"default-title font-bold mt-5 mb-2"},hs={class:"text-sm mb-7"},ks={class:"mt-5"},_s=["href"],Ss=["href"],As={class:"md:mx-20 lg:mx-40 font-bold text-center text-tsm py-5 sm:py-10 mt-5 sm:mt-10 border-t border-gray-200"},Ts={class:"md:mx-20 lg:mx-10 xl:mx-40 border-2 border-gray-200 mt-4 p-5 text-xs font-bold filter shadow-lg"},Ps={class:"text-blue-primary mb-1"},Is={class:"break-all"},Cs={class:"mt-1"},Ns={key:0,src:nt,class:"w-3 h-3 ml-2 inline relative",style:{top:"-2px"}},Ms={key:1,src:Rt,class:"w-3 h-3 ml-2 inline relative",style:{top:"-2px"}},Gs={class:"text-blue-primary mb-1"},Fs={class:"mt-1"},Ds={class:"my-5 sm:my-7 text-gray-500 text-xs md:mx-20 lg:mx-10 xl:mx-40"},Ls={class:"inline-flex items-center mb-5"},Us={class:"ml-2 cursor-pointer text-xs font-bold"},Es={class:"sm:mt-5 text-center"},Bs=["disabled"];function Xs(s,n,ke,e,Be,R){const _e=X("SelectInputAccountOutgoingSwap"),Se=X("SwapInputClean"),Ae=X("MetamaskAddressInput"),b=X("PasswordInputClean"),j=X("SwapCertificateComponent"),ee=X("font-awesome-icon"),te=X("router-link");return m(),v("div",null,[t("div",Kt,[t("div",Qt,[t("div",Jt,a(s.$t("swap.mainNetworkSwap")),1),t("div",zt,[n[16]||(n[16]=t("img",{src:Ht,class:"mr-2 h-5 inline-block"},null,-1)),D(a(s.$t("swap.swapSiriusToBsc")),1)]),t("div",qt,[t("div",Yt,[t("div",Zt,[t("div",{class:M(["flex w-6 h-6 sm:w-10 sm:h-10",`${e.currentPage>=1?"bg-yellow-500":"bg-gray-300"}`])},[t("div",{class:M(["self-center inline-block text-center w-full text-txs sm:text-sm font-bold",`${e.currentPage>=1?"text-white":"text-gray-400"}`])},"1",2)],2),t("div",$t,a(s.$t("general.transaction")),1)])]),n[17]||(n[17]=t("div",{class:"flex-grow self-center md:mx-4 h-0.5 bg-gray-100"},null,-1)),t("div",ea,[t("div",ta,[t("div",{class:M(["flex w-6 h-6 sm:w-10 sm:h-10",`${e.currentPage>=2?"bg-yellow-500":"bg-gray-300"}`])},[t("div",{class:M(["self-center inline-block text-center w-full text-txs sm:text-sm font-bold",`${e.currentPage>=2?"text-white":"text-gray-400"}`])},"2",2)],2),t("div",aa,a(s.$t("swap.validation")),1)])]),n[18]||(n[18]=t("div",{class:"flex-grow self-center md:mx-4 h-0.5 bg-gray-100"},null,-1)),t("div",sa,[t("div",la,[t("div",{class:M(["flex w-6 h-6 sm:w-10 sm:h-10",`${e.currentPage>=3?"bg-yellow-500":"bg-gray-300"}`])},[t("div",{class:M(["self-center inline-block text-center w-full text-txs sm:text-sm font-bold",`${e.currentPage>=2?"text-white":"text-gray-400"}`])},"3",2)],2),t("div",na,a(s.$t("general.certificate")),1)])])]),e.currentPage==1?(m(),v("div",ra,[n[20]||(n[20]=t("div",{class:"text-sm my-5 font-bold"},"Select Asset",-1)),st(t("select",{class:"","onUpdate:modelValue":n[0]||(n[0]=c=>e.selectedTokenName=c)},[(m(!0),v(Ct,null,Nt(e.tokenList,(c,U)=>(m(),v("option",{value:c.name,key:U},a(c.name.toUpperCase()),9,ia))),128))],512),[[It,e.selectedTokenName]]),t("div",oa,a(s.$t("general.transactionDetails")),1),e.xpxFeeErr?(m(),v("div",da,a(s.$t("swap.failCoverTxFee")),1)):x("",!0),L(_e,{otherToken:e.selectedToken.namespace,otherTokenId:e.selectedToken.assetId,name:e.selectedToken.name,modelValue:e.siriusAddress,"onUpdate:modelValue":n[1]||(n[1]=c=>e.siriusAddress=c),placeholder:s.$t("swap.fromSiriusAcc"),selectDefault:e.walletState.currentLoggedInWallet.selectDefaultAccount().address,divisibility:e.tokenDivisibility},null,8,["otherToken","otherTokenId","name","modelValue","placeholder","selectDefault","divisibility"]),t("div",ca,[e.siriusAddress?x("",!0):(m(),v("div",ua)),L(Se,{class:"mt-5",disabled:e.disableAmount,remarkOption:e.selectedToken.name=="xpx",modelValue:e.amount,"onUpdate:modelValue":n[2]||(n[2]=c=>e.amount=c),balance:e.selectedAccountBalance,placeholder:`${e.selectedToken.name} `+s.$t("general.amount"),type:"text",showError:e.showAmountErr,errorMessage:s.$t("general.insufficientBalance"),emptyErrorMessage:s.$t("swap.amountEmpty"),maxAmount:e.maxSwapAmount,gasFee:e.gasPriceInXPX,transactionFee:e.txFeeDisplay,onClickedMaxAvailable:n[3]||(n[3]=c=>e.updateAmountToMax()),toolTip:s.$t("swap.bscAmountMsg",{token:e.selectedTokenName.toUpperCase()}),decimal:e.tokenDivisibility},null,8,["disabled","remarkOption","modelValue","balance","placeholder","showError","errorMessage","emptyErrorMessage","maxAmount","gasFee","transactionFee","toolTip","decimal"]),L(Ae,{placeholder:s.$t("swap.bscAddress"),errorMessage:s.$t("swap.bscAddressErr"),class:"mt-5",showError:e.showAddressErr,modelValue:e.bscAddress,"onUpdate:modelValue":n[4]||(n[4]=c=>e.bscAddress=c)},null,8,["placeholder","errorMessage","showError","modelValue"]),t("div",ma,a(s.$t("general.transactionFee"))+" ("+a(s.$t("swap.bsc"))+" BEP20 "+a(s.$t("general.network"))+"):",1),t("div",va,[t("div",fa,[t("div",{class:M(["bscGasStrategy md:mr-6",`${e.bscGasStrategy=="standard"?"selected":"option"}`]),onClick:n[5]||(n[5]=c=>e.changeGasStrategy("standard"))},[t("p",pa,a(s.$t("swap.standard")),1),t("div",null,"BNB "+a(e.standardGasPrice),1),t("div",null,"XPX "+a(e.xpxAmountInStandardGasPrice)+" = "+a(s.$t("general.usd"))+" "+a(e.standardGasPriceInUSD),1)],2)]),t("div",ba,[t("div",{class:M(["bscGasStrategy md:mx-3",`${e.bscGasStrategy=="fast"?"selected":"option"}`]),onClick:n[6]||(n[6]=c=>e.changeGasStrategy("fast"))},[t("p",xa,a(s.$t("swap.fast")),1),t("div",null,"BNB "+a(e.fastGasPrice),1),t("div",null,"XPX "+a(e.xpxAmountInFastGasPrice)+" = "+a(s.$t("general.usd"))+" "+a(e.fastGasPriceInUSD),1)],2)]),t("div",ga,[t("div",{class:M(["bscGasStrategy md:ml-6",`${e.bscGasStrategy=="rapid"?"selected":"option"}`]),onClick:n[7]||(n[7]=c=>e.changeGasStrategy("rapid"))},[t("p",wa,a(s.$t("swap.rapid")),1),t("div",null,"BNB "+a(e.rapidGasPrice),1),t("div",null,"XPX "+a(e.xpxAmountInRapidGasPrice)+" = "+a(s.$t("general.usd"))+" "+a(e.rapidGasPriceInUSD),1)],2)])]),e.selectErr===!0?(m(),v("div",ya,"Please select one of options")):x("",!0),t("div",ha,a(s.$t("swap.feesValidDuration"))+": "+a(e.timerMinutes)+":"+a(e.timerSecondsDisplay>=10?e.timerSecondsDisplay:"0"+e.timerSecondsDisplay),1),t("div",ka,a(s.$t("general.transactionFee"))+" ("+a(s.$t("swap.siriusNetwork"))+"):",1),t("div",_a,[t("div",Sa,[n[19]||(n[19]=t("img",{src:jt,class:"w-5 inline mr-1 text-gray-500"},null,-1)),D(a(s.$t("general.transactionFee"))+": ",1),t("span",null,a(e.txFeeDisplay),1),D(" "+a(e.currentNativeTokenName),1)])]),t("div",Aa,"Total Transaction Fee: "+a(e.minNativeBalanceAmount)+" "+a(e.currentNativeTokenName),1),L(b,{placeholder:s.$t("general.enterPassword"),errorMessage:s.$t("general.passwordRequired"),showError:e.showPasswdError,icon:"lock",modelValue:e.walletPasswd,"onUpdate:modelValue":n[8]||(n[8]=c=>e.walletPasswd=c)},null,8,["placeholder","errorMessage","showError","modelValue"]),e.err!=""?(m(),v("div",Ta,a(e.err),1)):x("",!0),t("div",Pa,[D(a(e.amount)+" "+a(e.selectedToken.name)+" ",1),e.selectedToken.name=="metx"?(m(),v("img",Ia)):x("",!0),e.selectedToken.name=="xpx"?(m(),v("img",Ca)):x("",!0)]),t("div",Na,[t("div",Ma,a(s.$t("swap.bscOutgoingMsg")),1)]),t("div",Ga,[t("button",{onClick:n[9]||(n[9]=c=>s.$router.push({name:"ViewServicesMainnetSwap"})),class:"text-black font-bold text-xs mr-1 sm:mr-5 mt-2 focus:outline-none disabled:opacity-50",disabled:e.isDisabledCancel},a(s.$t("general.later")),9,Fa),t("button",{type:"submit",class:"default-btn focus:outline-none disabled:opacity-50",disabled:e.xpxFeeErr,onClick:n[10]||(n[10]=c=>e.validated())},a(s.$t("general.continue")),9,Da)])])])):x("",!0),e.currentPage==2?(m(),v("div",La,[t("div",Ua,[e.err!=""?(m(),v("div",Ea,a(e.err),1)):x("",!0),n[26]||(n[26]=t("div",{class:"font-bold text-left text-xs md:text-sm text-gray-700"},"Validate your transaction",-1)),t("div",Ba,[t("div",Xa,[n[21]||(n[21]=t("div",{class:"self-center inline-block transition-all duration-500 text-xs md:text-sm text-blue-primary"},"Account Name: ",-1)),t("div",Va,a(s.$t(e.selectedAccountName)),1)])]),t("div",Ha,[t("div",Oa,[n[22]||(n[22]=t("div",{class:"self-center inline-block transition-all duration-500 text-xs md:text-sm text-blue-primary"},"Account Address: ",-1)),t("div",Ra,a(s.$t(e.siriusAddress)),1)])]),t("div",ja,[t("div",Wa,[n[23]||(n[23]=t("div",{class:"self-center inline-block transition-all duration-500 text-xs md:text-sm text-blue-primary"},"Amount: ",-1)),t("div",Ka,a(s.$t(e.amount))+" "+a(s.$t(e.selectedToken.name.toUpperCase())),1)])]),t("div",Qa,[t("div",Ja,[n[24]||(n[24]=t("div",{class:"self-center inline-block transition-all duration-500 text-xs md:text-sm text-blue-primary"},"MetaMask Address: ",-1)),t("div",za,a(s.$t(e.bscAddress)),1)])]),t("div",qa,[t("div",Ya,[t("div",Za,a(s.$t("general.transactionFee"))+" ("+a(s.$t("swap.bsc"))+" BEP20 "+a(s.$t("general.network"))+"): ",1),e.bscGasStrategy==="standard"?(m(),v("div",$a,[t("p",es,a(s.$t("swap.standard")),1),t("div",null,"XPX "+a(e.xpxAmountInStandardGasPrice),1)])):x("",!0),e.bscGasStrategy==="fast"?(m(),v("div",ts,[t("p",as,a(s.$t("swap.fast")),1),t("div",null,"XPX "+a(e.xpxAmountInFastGasPrice),1)])):x("",!0),e.bscGasStrategy==="rapid"?(m(),v("div",ss,[t("p",ls,a(s.$t("swap.rapid")),1),t("div",null,"XPX "+a(e.xpxAmountInRapidGasPrice),1)])):x("",!0)])]),t("div",ns,[t("div",rs,[t("div",is,a(s.$t("general.transactionFee"))+" ("+a(s.$t("swap.siriusNetwork"))+"): ",1),t("div",os,[t("span",null,a(e.txFeeDisplay),1),D(" "+a(e.currentNativeTokenName),1)])])]),t("div",ds,[t("div",cs,[n[25]||(n[25]=t("div",{class:"self-center inline-block transition-all duration-500 text-xs md:text-sm text-blue-primary"},"Total Transaction Fee: ",-1)),t("div",us,a(e.minNativeBalanceAmount)+" "+a(e.currentNativeTokenName),1)])]),t("div",ms,[t("div",vs,[t("div",fs,a(s.$t("swap.feesValidDuration"))+": ",1),t("div",ps,a(e.timerMinutes)+":"+a(e.timerSecondsDisplay>=10?e.timerSecondsDisplay:"0"+e.timerSecondsDisplay),1)])]),t("div",bs,[t("button",{onClick:n[11]||(n[11]=c=>s.$router.push({name:"ViewServicesMainnetSwap"})),class:"text-black font-bold text-xs mr-1 sm:mr-5 mt-2 focus:outline-none disabled:opacity-50",disabled:e.isDisabledCancel},a(s.$t("general.later")),9,xs),t("button",{type:"button",class:"default-btn focus:outline-none disabled:opacity-50 mt-2",disabled:e.isDisabledSwap,onClick:n[12]||(n[12]=(...c)=>e.swap&&e.swap(...c))},a(e.swapInProgress?s.$t("swap.swapInProgress"):s.$t("swap.confirmSwap")),9,gs),e.canCheckStatus?(m(),v("button",{key:0,class:"default-btn focus:outline-none disabled:opacity-50 mt-2",onClick:n[13]||(n[13]=(...c)=>e.callTocheckSwapStatus&&e.callTocheckSwapStatus(...c))},a(s.$t("swap.checkSwapStatus")),1)):x("",!0)])])])):x("",!0),e.currentPage==3?(m(),v("div",ws,[t("div",null,[t("h1",ys,a(s.$t("general.congratz")),1),t("div",hs,a(s.$t("swap.swapStarted")),1),L(j,{networkTerm:s.$t("swap.bsc"),swapType:"Out",swapId:e.swapId,swapTimestamp:e.swapTimestamp,transactionHash:e.certTransactionHash,swapQr:e.swapQr,swapLink:e.swapLink,siriusName:e.selectedAccountName,swappedAmount:e.amount,siriusAddress:e.Helper.createAddress(e.selectedAccountAddress).pretty(),siriusTransactionHash:e.siriusTransactionHash,xpxExplorer:e.xpxExplorerUrl},null,8,["networkTerm","swapId","swapTimestamp","transactionHash","swapQr","swapLink","siriusName","swappedAmount","siriusAddress","siriusTransactionHash","xpxExplorer"]),t("button",{type:"button",class:"w-40 hover:shadow-lg bg-blue-primary text-white text-xs hover:opacity-50 rounded font-bold px-4 py-3 border border-blue-primary outline-none mr-4 mt-6",onClick:n[14]||(n[14]=(...c)=>e.saveCertificate&&e.saveCertificate(...c))},a(s.$t("general.downloadCertificate")),1),t("div",ks,[t("a",{href:e.swapLink,target:"_new",class:"underline self-center text-xs font-bold text-blue-primary"},[D(a(s.$t("swap.viewTxInBsc")),1),L(ee,{icon:"external-link-alt",class:"ml-2 text-blue-500 w-3 h-3 self-center inline-block"})],8,_s),n[27]||(n[27]=t("br",null,null,-1)),t("a",{href:e.xpxExplorerUrl+e.siriusTransactionHash,target:"_new",class:"underline self-center text-xs font-bold text-blue-primary"},[D(a(s.$t("swap.viewTxInExplorer")),1),L(ee,{icon:"external-link-alt",class:"ml-2 text-blue-500 w-3 h-3 self-center inline-block"})],8,Ss)]),t("div",As,a(s.$t("swap.swapDetails")),1),t("div",Ts,[t("div",Ps,a(s.$t("general.from"))+": "+a(e.selectedAccountName),1),t("div",Is,a(e.Helper.createAddress(e.selectedAccountAddress).pretty()),1),t("div",Cs,[D(a(s.$t("swap.swapAmount"))+" "+a(e.amount)+" "+a(e.selectedToken.name.toUpperCase())+" ",1),e.selectedToken.name=="metx"?(m(),v("img",Ns)):x("",!0),e.selectedToken.name=="xpx"?(m(),v("img",Ms)):x("",!0)]),n[28]||(n[28]=t("div",null,[t("img",{src:Xt,class:"inline-block h-8 my-2"})],-1)),t("div",Gs,a(s.$t("general.to"))+": "+a(s.$t("swap.metamaskAcc")),1),t("div",null,a(e.bscAddress),1),t("div",Fs,a(s.$t("swap.equivalentTo"))+" "+a(e.amount)+" BEP20 "+a(e.selectedToken.name.toUpperCase()),1)]),t("div",Ds,a(s.$t("swap.swapMsg3")),1),t("label",Ls,[st(t("input",{type:"checkbox",class:"h-5 w-5 bg-blue-primary","onUpdate:modelValue":n[15]||(n[15]=c=>e.savedCheck=c)},null,512),[[Mt,e.savedCheck]]),t("span",Us,a(s.$t("swap.confirmDownloaded")),1)]),t("div",Es,[L(te,{to:{name:"ViewServicesMainnetSwap"}},{default:Gt(()=>[t("button",{type:"submit",class:"default-btn mr-5 focus:outline-none w-40 inline-block disabled:opacity-50",disabled:!e.savedCheck},a(s.$t("general.done")),9,Bs)]),_:1})])])])):x("",!0)])])])}const il=_t(Wt,[["render",Xs],["__scopeId","data-v-99c2d1c5"]]);export{il as default};
