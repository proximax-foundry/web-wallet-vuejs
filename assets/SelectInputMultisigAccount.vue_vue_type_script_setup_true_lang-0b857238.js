import{d as $,I as D,c as K,w as v,r as h,k as H,o as m,b as f,s as N,z as A,e as t,t as y,f as x,C as k,i as W,P as q,Q as B,l as P,_ as j,O as U,a as M,m as z,A as T,E as F}from"./index-d7b5897b.js";import{t as S}from"./jdenticon-module-3cec977b.js";const E={key:0,class:"account-item-value account-item"},O={class:"flex"},Q=["innerHTML"],R={class:"flex flex-col ml-2 text-left"},G=t("div",{class:"text-blue-primary font-semibold text-xxs uppercase",style:{"line-height":"9px"}}," Selected Account to create / initiate transaction",-1),J={class:"mt-1 text-tsm font-bold"},X={class:"account-item"},Y={class:"flex"},Z=["innerHTML"],ee={class:"text-xs ml-2 font-semibold"},xe=$({__name:"SelectInputAccount",emits:["select-account","update:modelValue"],setup(r){const i=W().appContext.config.globalProperties.emitter;let g=new D("ThemeStyleConfig");g.init();let l=g.jdenticonConfig;const c=K(()=>v.currentLoggedInWallet?[...v.currentLoggedInWallet.accounts.filter(s=>s.multisigInfo.length==0||s.multisigInfo.find(_=>_.level==0).cosignaturies.length==0)].map(s=>({value:s.address,label:v.currentLoggedInWallet.convertAddressToName(s.address,!0)})):[]),u=h(null),p=h(null),I=(a,s)=>{i.emit("select-account",s),u.value.label=a,u.value.value=s,p.value=S(s,25,l)};return(a,s)=>{const _=H("Dropdown");return m(),f("div",null,[N(_,{modelValue:u.value,"onUpdate:modelValue":s[0]||(s[0]=n=>u.value=n),style:{width:"100%"},options:c.value,filter:!0,filterFields:["label","value"],emptyFilterMessage:" ",onChange:s[1]||(s[1]=n=>{I(n.value.label,n.value.value),a.$emit("update:modelValue",n.value.value),a.$emit("select-account",n.value.value)})},{value:A(n=>[n.value?(m(),f("div",E,[t("div",O,[t("div",{innerHTML:p.value},null,8,Q),t("div",R,[G,t("div",J,y(n.value.label),1)])])])):x("",!0)]),option:A(n=>[t("div",X,[t("div",Y,[t("div",{innerHTML:k(S)(n.option.value,20,k(l))},null,8,Z),t("div",ee,y(n.option.label),1)])])]),_:1},8,["modelValue","options"])])}}}),te={class:"border border-gray-200 px-2 py-1 rounded-md"},le={class:"flex flex-col"},ne={class:"uppercase font-light text-gray-500 text-txs text-left mb-2"},se={class:"flex w-full"},oe=["value","data-maska","placeholder"],ae=$({__name:"InputAmount",props:{modelValue:{type:String,required:!0},decimal:{type:Number,required:!0},placeholder:{type:String,required:!0},disabled:{type:Boolean,required:!1}},emits:["update:modelValue","show-error"],setup(r){const d=r,i=()=>{let l="0";return d.decimal>0&&(l=l+"."+"9".repeat(d.decimal)),l},g={preProcess:l=>l.replace(/,/g,""),postProcess:l=>{if(!l)return"";let c=0;return d.decimal>0&&(c=1+d.decimal-(l.includes(".")?l.length-l.indexOf("."):0)),Intl.NumberFormat("en-US",{minimumFractionDigits:d.decimal}).format(parseFloat(l)).slice(0,c?-c:void 0)}};return(l,c)=>{const u=q("maska");return m(),f("div",{class:P(r.disabled?"opacity-50":"")},[t("div",te,[t("div",le,[t("div",ne,y(r.placeholder),1),t("div",se,[B(t("input",{value:r.modelValue,class:"supply_input","data-maska":i(),"data-maska-tokens":"0:\\d:multiple|9:\\d:optional",placeholder:r.placeholder,onInput:c[0]||(c[0]=p=>l.$emit("update:modelValue",parseFloat(p.target.value.replace(/,/g,"")).toString()))},null,40,oe),[[u,void 0,g]])])])])],2)}}});const ye=j(ae,[["__scopeId","data-v-49824407"]]),ie={key:1,class:"text-xs mt-3 text-blue-primary"},ce={key:0,class:"account-item-value account-item"},ue={class:"flex"},re=["innerHTML"],de={class:"flex flex-col ml-2 text-left"},me=t("div",{class:"text-blue-primary font-semibold text-xxs uppercase",style:{"line-height":"9px"}}," Selected Multisig Account",-1),pe={class:"mt-1 text-tsm font-bold"},ve={class:"account-item"},fe={class:"flex items-center"},ge=["innerHTML"],_e={class:"text-xs ml-2 font-semibold"},Ie=$({__name:"SelectInputMultisigAccount",props:{selectedAddress:{type:String,required:!1}},emits:["select-multisig-account","update:modelValue"],setup(r){const d=r,i=h(!1),{selectedAddress:g}=U(d),l=h([]),u=W().appContext.config.globalProperties.emitter;let p=new D("ThemeStyleConfig");p.init();let I=p.jdenticonConfig;const a=h(null);M(g,n=>{_(null,null);const o=v.currentLoggedInWallet.accounts.find(e=>e.address==n),w=o.multisigInfo.find(e=>e.level==0);l.value=w?[...o.multisigInfo].filter(e=>e.level<0).map(e=>{const b=[...v.currentLoggedInWallet.accounts,...v.currentLoggedInWallet.others].find(C=>C.publicKey==e.publicKey);return{label:b?v.currentLoggedInWallet.convertAddressToName(b.address):T.PublicAccount.createFromPublicKey(e.publicKey,F.networkType).address.plain(),value:T.PublicAccount.createFromPublicKey(e.publicKey,F.networkType).address.plain()}}):[]}),M(a,n=>{n==null&&(i.value=!1)});const s=h(null),_=(n,o)=>{if(n==null&&o==null){a.value=null,u.emit("select-multisig-account",null);return}u.emit("select-multisig-account",o),a.value.label=n,a.value.value=o,s.value=S(o,25,I)};return(n,o)=>{const w=H("Dropdown");return m(),f("div",null,[l.value.length&&!i.value?(m(),f("button",{key:0,class:"blue-btn py-2 px-3 mt-3",onClick:o[0]||(o[0]=e=>i.value=!0)},"Select Multisig Account")):x("",!0),l.value.length&&i.value&&!a.value?(m(),f("div",ie,"Select Multisig Account")):x("",!0),i.value&&l.value.length?(m(),z(w,{key:2,showClear:!0,modelValue:a.value,"onUpdate:modelValue":o[1]||(o[1]=e=>a.value=e),style:{width:"100%"},options:l.value,filter:!0,filterFields:["label","value"],emptyFilterMessage:" ",onChange:o[2]||(o[2]=e=>{var V,b,C,L;_((V=e.value)==null?void 0:V.label,(b=e.value)==null?void 0:b.value),n.$emit("update:modelValue",(C=e.value)==null?void 0:C.value),n.$emit("select-multisig-account",(L=e.value)==null?void 0:L.value)})},{value:A(e=>[e.value?(m(),f("div",ce,[t("div",ue,[t("div",{innerHTML:s.value},null,8,re),t("div",de,[me,t("div",pe,y(e.value.label),1)])])])):x("",!0)]),option:A(e=>[t("div",ve,[t("div",fe,[t("div",{innerHTML:k(S)(e.option.value,20,k(I))},null,8,ge),t("div",_e,y(e.option.label),1)])])]),_:1},8,["modelValue","options"])):x("",!0)])}}});export{ye as I,xe as _,Ie as a};
