import{d as C,g as b,aj as S,a1 as T,S as A,o as r,f as y,l,b as n,s as c,t as i,a as f,e as t,Q as k,v as m,i as v,ai as L,E as F,c as $,A as w,D,a7 as H,r as R,w as P}from"./index-ac085045.js";import{A as V,_ as E}from"./AccountTabs.vue_vue_type_script_setup_true_lang-d29b9a74.js";import{s as g,a as N}from"./column.esm-a17d958d.js";import"./jdenticon-module-2a95d186.js";import"./functions-c0137ee2.js";import"./TextInput-f71c8b4b.js";import"./TextInputClean-6fd2d429.js";import"./icon-key-5b3f7dda.js";const I={class:"uppercase text-xxs font-bold mb-1"},M={class:"flex items-center"},z={class:"uppercase cursor-pointer font-bold text-txs"},B={class:"text-txs"},W=t("div",{class:"uppercase text-xxs font-bold mb-1"}," Status ",-1),K={class:"flex items-center"},O={class:"text-txs"},j={class:"flex items-center"},J={class:"text-txs cursor-pointer"},Q={class:"text-txs"},U={directives:{tooltip:L}},q=C({...U,__name:"FailedTxnDT",props:{transactions:Array},setup(d){const o=b(!1),u=()=>{window.innerWidth<1024?o.value=!1:o.value=!0};u(),S(()=>{window.removeEventListener("resize",u)}),T(()=>{window.addEventListener("resize",u)});const p=F(),h=p==null?void 0:p.appContext.config.globalProperties.emitter,a=b(!1);return h.on("CLOSE_MODAL",s=>{a.value=s}),(s,x)=>{const _=A("tooltip");return r(),y("div",null,[l(m(N),{value:d.transactions,paginator:!0,rows:10,scrollDirection:"horizontal",alwaysShowPaginator:!1,responsiveLayout:"scroll",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",currentPageReportTemplate:""},{empty:n(()=>[c(i(s.$t("general.noRecord")),1)]),loading:n(()=>[c(i(s.$t("dashboard.fetchingTx")),1)]),default:n(()=>[o.value?v("",!0):(r(),f(m(g),{key:0,style:{width:"200px"},headerClass:"invisible"},{body:n(({data:e})=>[t("div",null,[t("div",I,i(s.$t("dashboard.txHash")),1),t("div",M,[t("div",z,[k((r(),y("span",B,[c(i(e.txnHash.substring(0,20))+"...",1)])),[[_,e.txnHash,void 0,{right:!0}]])])])])]),_:1})),o.value?v("",!0):(r(),f(m(g),{key:1,style:{width:"200px"},headerClass:"invisible"},{body:n(({data:e})=>[t("div",null,[W,t("div",K,[t("span",O,i(e.statusMsg),1)])])]),_:1})),o.value?(r(),f(m(g),{key:2,field:"hash",header:s.$t("dashboard.txHash"),headerStyle:"width:100px"},{body:n(({data:e})=>[t("div",j,[k((r(),y("span",J,[c(i(e.txnHash.substring(0,20))+"...",1)])),[[_,e.txnHash,void 0,{bottom:!0}]])])]),_:1},8,["header"])):v("",!0),o.value?(r(),f(m(g),{key:3,field:"status",header:"Status",headerStyle:"width:110px"},{body:n(({data:e})=>[t("span",Q,i(e.statusMsg),1)]),_:1})):v("",!0)]),_:1},8,["value"])])}}}),G={class:"lg:w-9/12 ml-2 mr-2 lg:ml-auto lg:mr-auto mt-5"},X={class:"flex my-2 gap-5 flex-none text-xs md:text-sm"},Y=t("div",{class:"border rounded-md text-white py-2 px-5",style:{background:"#DC143C"}},"Failed",-1),ie=C({__name:"ViewAccountFailedTransactions",props:{address:String},setup(d){const o=b([]),u=$(()=>{let a=[];return a=o.value,a}),p=async()=>{if(!w.chainAPI||!P.currentLoggedInWallet)return;const a=P.currentLoggedInWallet.accounts.find(e=>e.default===!0),s=a?a.publicKey:"";let _=(JSON.parse(sessionStorage.getItem("allFailedTransactions"))||[]).filter(e=>e.accPubKey.includes(s));o.value=_.flat()},h=async()=>{await p()};if(w.isReady)h();else{let a=D(w,s=>{s.isReady&&(h(),a())})}return H(()=>{setInterval(()=>{h()},1e3)}),(a,s)=>{const x=R("router-link");return r(),y("div",null,[t("div",G,[l(V,{address:d.address,class:"mb-6"},null,8,["address"]),l(E,{address:d.address,selected:"txn"},null,8,["address"]),t("div",X,[l(x,{to:{name:"ViewAccountConfirmedTransactions",params:{address:d.address}},class:"border opacity-60 hover:opacity-100 cursor-pointer rounded-md text-white py-2 px-4",style:{background:"#007CFF"}},{default:n(()=>[c("Confirmed")]),_:1},8,["to"]),l(x,{to:{name:"ViewAccountPendingTransactions",params:{address:d.address}},class:"border opacity-60 hover:opacity-100 cursor-pointer rounded-md text-white py-2 px-5",style:{background:"#f3a91d"}},{default:n(()=>[c("Pending")]),_:1},8,["to"]),Y]),l(q,{transactions:u.value,class:"mt-3"},null,8,["transactions"])])])}}});export{ie as default};
