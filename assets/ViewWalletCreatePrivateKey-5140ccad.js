import{d as te,j as se,y as le,c as U,A as oe,n as ae,g as u,I as re,V as ne,W as B,w as ie,x as de,D as ue,r as D,o as m,f as b,e as t,l as r,b as g,s as H,t as l,m as ce,v as n,i as p,S as y,a as E,U as me,F as pe}from"./index-5ab99b99.js";import{_ as ve}from"./chevron_left-0423cb29.js";import{_ as we}from"./icon-green-tick-1b766454.js";import{t as fe,o as be,s as x,u as ge,a as _,b as K,_ as ye}from"./vee-validate-zod.esm-4e6efb3d.js";import{c as xe}from"./functions-bdc73ff4.js";import{_ as _e}from"./SelectNetwork.vue_vue_type_script_setup_true_lang-37908a70.js";import{t as he}from"./jdenticon-module-3d0ed466.js";import{E as ke}from"./jspdf.es.min-b6ad787d.js";import{q as $e}from"./qrcode-44711ddc.js";import{p as Ve}from"./pdfPaperWalletBackground-9b716104.js";const Pe={class:"md:col-span-1 bg-white mx-5 md:mx-0 px-30 pt-1 md:pt-0 rounded-md"},Se={class:"text-sm text-center font-semibold"},Ce={class:"text-xxs text-center text-blue-primary mb-5 font-bold uppercase"},Ee={class:"w-9/12 ml-auto mr-auto text-xs text-center"},Ke={class:"mt-4 w-8/12 ml-auto mr-auto"},We={key:0,class:"error error_box"},Ne={class:"w-8/12 mx-auto"},Te={class:"mt-3 w-8/12 ml-auto mr-auto"},je={type:"submit",class:"mt-3 text-center font-bold blue-btn py-3 block ml-auto mr-auto w-8/12 disabled:opacity-50"},Ae={class:"mt-12 text-center text-xs mb-1"},Ie={class:"text-center text-xs text-blue-primary font-semibold"},Fe={class:"mr-auto ml-auto w-10/12 mt-3"},Me={class:"mb-8"},Ue={class:"border border-green-300 px-6 pb-3 bg-green-50"},Be={class:"flex items-center gap-3"},De={class:"flex flex-col w-full"},He={class:"flex"},Re={class:"text-xs text-green-500 font-semibold pt-3"},Le={class:"text-xxs mt-1"},qe={class:"border-2 shadow-lg filter mb-10 bg-white"},ze={class:"flex items-center"},Ge=["innerHTML"],Je={class:"flex flex-col justify-center ml-4"},Oe={class:"flex"},Qe={class:"font-semibold text-md"},Xe={class:"flex"},Ye=["copyValue"],Ze={class:"border p-6 bg-white"},et={class:"text-xxs text-blue-primary mt-2 font-semibold uppercase"},tt={class:"flex"},st=["copyValue","copySubject"],lt={class:"text-xxs text-blue-primary mt-0.5 font-semibold uppercase"},ot={class:"flex"},at={key:0,class:"break-all font-semibold w-44 truncate md:w-auto"},rt={class:"flex"},nt=["copyValue","copySubject"],it={class:"text-txs mt-2 text-red-400 border px-1.5 py-2 border-red-400 rounded-md"},dt={class:"flex flex-col md:flex-row gap-3 text-center"},ut={class:"blue-btn cursor-pointer py-3 px-3"},ct="^(0x|0X)?[a-fA-F0-9]{64}$",R="^[^ ]{8,}$",kt=te({__name:"ViewWalletCreatePrivateKey",setup(mt){const{t:c}=se(),L=le(),q=fe(be({privKey:x().regex(new RegExp(ct),{message:c("general.invalidPrivateKey")}),name:x().min(1,{message:c("wallet.nameErrMsg")}),password:x().regex(new RegExp(R),{message:c("wallet.passwordErrMsg")}),confirmPassword:x().regex(new RegExp(R),{message:c("wallet.passwordErrMsg")})}).refine(({password:e,confirmPassword:s})=>s==e,{message:c("wallet.confirmPasswordErrMsg"),path:["confirmPassword"]})),{handleSubmit:z,resetForm:G}=ge({validationSchema:q,initialValues:{privKey:"",name:"",password:"",confirmPassword:""}}),{value:h,errors:J}=_("privKey"),{value:k,errors:O}=_("name"),{value:$,errors:Q}=_("password"),{value:V,errors:X}=_("confirmPassword"),W=U(()=>oe.networkType),N=U(()=>ae.chainNetworkName),f=u(""),T=u(null),v=u(""),d=u(!1),P=u(!1),w=u(""),S=u(""),j=u(""),A=new re("ThemeStyleConfig");A.init();const Y=u(he(w.value,100,A.jdenticonConfig)),C=e=>{let s=document.getElementById(e).getAttribute("copyValue"),a=document.getElementById(e).getAttribute("copySubject");xe(s),L.add({severity:"info",detail:a+" "+c("general.copied"),group:"br-custom",life:3e3})},I=z(({name:e,password:s,privKey:a})=>{if(f.value="",new ne().filterByNetworkNameAndName(N.value,e))f.value=c("wallet.walletNameExist");else{let o=B.createPassword(s);a.substring(0,2)=="0x"&&(a=a.substring(2));const F=B.addNewWalletWithPrivateKey(ie.wallets,a,o,e,N.value,W.value);v.value=a,T.value=F,j.value=F.name;let M=de.Account.createFromPrivateKey(v.value,W.value,1);w.value=M.address.pretty(),S.value=M.publicKey,G()}}),Z=(e,s=2,a=0)=>{const i=$e(10,"H");return i.addData(e),i.make(),i.createDataURL(s,a)},ee=()=>{const e=new ke({unit:"px"});e.addImage(Ve,"JPEG",120,60,205,132),e.addImage(Z(v.value,1,0),"JPEG",151.5,105,40,40),e.setFontSize(8),e.setTextColor("#000000"),e.text(w.value,146,164,{maxWidth:132}),e.save("Your_Paper_Wallet")};return ue(T,e=>{e&&(P.value=!0)}),(e,s)=>{const a=D("router-link"),i=D("font-awesome-icon");return m(),b(pe,null,[t("div",Pe,[r(a,{to:{name:"ViewWalletCreateSelection"},class:"text-xs m-2 text-blue-primary items-center flex"},{default:g(()=>[s[11]||(s[11]=t("img",{src:ve,class:"w-5 inline-block"},null,-1)),H(l(e.$t("general.back")),1)]),_:1}),t("form",{onSubmit:s[4]||(s[4]=ce((...o)=>n(I)&&n(I)(...o),["prevent"]))},[t("div",Se,l(e.$t("wallet.createWallet")),1),t("div",Ce,l(e.$t("general.fromPrivateKey")),1),t("p",Ee,l(e.$t("wallet.privateKeyDescription")),1),t("div",Ke,[f.value!=""?(m(),b("div",We,l(f.value),1)):p("",!0)]),t("div",Ne,[r(_e)]),t("div",Te,[r(K,{placeholder:e.$t("general.privateKey"),errors:n(J),modelValue:n(h),"onUpdate:modelValue":s[0]||(s[0]=o=>y(h)?h.value=o:null)},null,8,["placeholder","errors","modelValue"]),r(ye,{placeholder:e.$t("wallet.namePlaceholder"),errors:n(O),modelValue:n(k),"onUpdate:modelValue":s[1]||(s[1]=o=>y(k)?k.value=o:null)},null,8,["placeholder","errors","modelValue"]),r(K,{placeholder:e.$t("wallet.enterPassword"),modelValue:n($),"onUpdate:modelValue":s[2]||(s[2]=o=>y($)?$.value=o:null),errors:n(Q)},null,8,["placeholder","modelValue","errors"]),r(K,{placeholder:e.$t("wallet.confirmPassword"),errors:n(X),modelValue:n(V),"onUpdate:modelValue":s[3]||(s[3]=o=>y(V)?V.value=o:null)},null,8,["placeholder","errors","modelValue"])]),t("button",je,l(e.$t("wallet.createWallet")),1),t("div",Ae,l(e.$t("wallet.haveWallet")),1),t("div",Ie,[r(a,{to:{name:"Home"}},{default:g(()=>[H(l(e.$t("wallet.signInHere"))+" >",1)]),_:1})]),s[12]||(s[12]=t("div",{class:"h-8"},null,-1))],32)]),r(n(me),{visible:P.value,"onUpdate:visible":s[10]||(s[10]=o=>P.value=o),closable:!1,dismissableMask:!1,closeOnEscape:!1,class:"lg:w-9/12",modal:""},{default:g(()=>[t("div",Fe,[t("div",Me,[t("div",Ue,[t("div",Be,[s[13]||(s[13]=t("img",{src:we,class:"h-10 w-10 pt-3 mr-2"},null,-1)),t("div",De,[t("div",He,[t("div",Re,l(e.$t("general.congratz")),1)]),t("div",Le,l(e.$t("wallet.walletCreated"))+" "+l(e.$t("general.pkWarning")),1)])])])]),t("div",qe,[t("div",ze,[t("div",{innerHTML:Y.value},null,8,Ge),t("div",Je,[t("div",Oe,[t("div",Qe,l(j.value),1)]),t("div",Xe,[t("div",{id:"address",copyValue:w.value,copySubject:"Address",class:"text-xs font-semibold mt-1 w-36 truncate md:w-auto"},l(w.value),9,Ye),r(i,{icon:"copy",title:e.$t("general.copy"),onClick:s[5]||(s[5]=o=>C("address")),class:"ml-2 w-5 h-5 text-blue-link cursor-pointer"},null,8,["title"])])])])]),t("div",Ze,[t("div",et,l(e.$t("general.publicKey")),1),t("div",tt,[t("div",{id:"public",class:"text-xs font-semibold mt-1 break-all w-44 truncate md:w-auto",copyValue:S.value,copySubject:e.$t("general.publicKey")},l(S.value),9,st),r(i,{icon:"copy",onClick:s[6]||(s[6]=o=>C("public")),title:e.$t("general.copy"),class:"ml-2 mt-0.5 pb-1 w-5 h-5 text-blue-link cursor-pointer"},null,8,["title"])]),s[14]||(s[14]=t("div",{class:"my-6 gray-line"},null,-1)),t("div",null,[t("div",lt,l(e.$t("general.privateKey")),1),t("div",ot,[d.value?p("",!0):(m(),b("div",at," **************************************************************** ")),d.value?p("",!0):(m(),E(i,{key:1,icon:"eye",title:e.$t("general.view")+" "+e.$t("general.privateKey"),class:"text-blue-link relative cursor-pointer ml-1",onClick:s[7]||(s[7]=o=>d.value=!d.value)},null,8,["title"]))]),t("div",rt,[d.value?(m(),b("div",{key:0,id:"private",class:"text-xs mt-1 font-semibold break-all w-44 truncate md:w-auto",type:"text",copyValue:v.value,copySubject:e.$t("general.privateKey")},l(v.value),9,nt)):p("",!0),d.value?(m(),E(i,{key:1,title:e.$t("general.copy"),icon:"copy",onClick:s[8]||(s[8]=o=>C("private")),class:"ml-2 pb-1 w-5 h-5 text-blue-link mt-0.5 cursor-pointer"},null,8,["title"])):p("",!0),d.value?(m(),E(i,{key:2,icon:"eye-slash",title:e.$t("general.hide")+" "+e.$t("general.privateKey"),class:"text-blue-link relative cursor-pointer mt-0.5 ml-1",onClick:s[9]||(s[9]=o=>d.value=!d.value)},null,8,["title"])):p("",!0)]),t("div",it,l(e.$t("general.pkWarning")),1)]),s[15]||(s[15]=t("div",{class:"my-6 gray-line"},null,-1)),t("div",dt,[t("div",{onClick:ee,class:"blue-btn cursor-pointer py-3 px-3"},l(e.$t("general.downloadPaperWallet")),1),r(a,{class:"md:ml-auto",to:{name:"Home"}},{default:g(()=>[t("div",ut,l(e.$t("wallet.continueLogIn")),1)]),_:1})])])])]),_:1},8,["visible"])],64)}}});export{kt as default};
