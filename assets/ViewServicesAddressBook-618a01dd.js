import{d as S,g as v,k as V,r as f,o as m,f as y,e,l as d,b as u,a as $,s as x,i as C,t as o,v as _,aa as K,U as P,F as T,w as b,j as D,ai as I,I as M,c as A,H as j,O as E,P as F}from"./index-bab83e60.js";import{_ as N}from"./icon-search_black-a392bb0f.js";import{s as L,a as W}from"./column.esm-8743909d.js";import{t as z}from"./jdenticon-module-cac8b1f9.js";import{_ as U}from"./icon-more-options-3f3cfda9.js";const G="/web-wallet-vuejs/assets/open-book-84b57588.svg",H={class:"card flex justify-content-center"},R={class:"flex flex-col"},O={class:"w-104 font-normal"},q={class:"mb-5"},J={class:"text-sm text-gray-700"},Q={class:"flex justify-between rounded-xl mb-4 text-gray-600"},X={class:"w-full text-left"},Y={class:"text-xs mt-3"},Z={class:"inline-block w-20 font-bold"},ee={class:"inline-block"},te={class:"text-xs mt-3"},se={class:"inline-block w-20 font-bold"},oe={class:"inline-block mt-2"},le={class:"text-xs mt-3"},ne={class:"inline-block"},re={class:"w-full"},ae={class:"text-center mt-5"},ie=S({__name:"ContactAction",props:{name:{},group:{},address:{},publicKey:{}},setup(g){const i=v(!1),p=V(),c=v(),k=v([{label:"Edit",command:()=>{p.push({name:"ViewServicesAddressBookEditContact",params:{contactAddress:g.address,contactPublicKey:g.publicKey?"true":"false"}})}},{label:"Delete",command:()=>{}}]),w=l=>{c.value.toggle(l)},h=()=>{b.currentLoggedInWallet.contacts=b.currentLoggedInWallet.contacts.filter(l=>l.name!=g.name),b.wallets.saveMyWalletOnlytoLocalStorage(b.currentLoggedInWallet),i.value=!1};return(l,s)=>{const n=f("router-link");return m(),y(T,null,[e("div",H,[e("img",{src:U,class:"w-4 h-4 cursor-pointer inline-block",onClick:w}),d(_(K),{ref_key:"menu",ref:c,model:k.value,popup:!0},{item:u(({item:t})=>[e("div",R,[t.label=="Edit"?(m(),$(n,{key:0,class:"hover:bg-gray-100 bg-white transition duration-200 p-2 z-20",to:{name:"ViewServicesAddressBookEditContact",params:{contactAddress:l.address,contactPublicKey:l.publicKey?"true":"false"}}},{default:u(()=>s[4]||(s[4]=[x(" Edit ")])),_:1},8,["to"])):C("",!0),t.label=="Delete"?(m(),y("div",{key:1,class:"block hover:bg-gray-100 transition duration-200 p-2 z-20 cursor-pointer text-red-600",onClick:s[0]||(s[0]=a=>i.value=!0)},o(l.$t("general.remove")),1)):C("",!0)])]),_:1},8,["model"])]),d(_(P),{visible:i.value,"onUpdate:visible":s[3]||(s[3]=t=>i.value=t),modal:"",draggable:!1,dismissableMask:!0,closable:!1,class:"w-96"},{default:u(()=>[e("div",O,[e("div",q,[e("span",J,o(l.$t("addressBook.removeContactFromAB")),1)]),e("div",Q,[e("div",X,[e("div",Y,[e("div",Z,o(l.$t("general.name"))+": ",1),e("div",ee,o(l.name),1)]),e("div",te,[e("div",se,o(l.$t("general.address"))+": ",1),e("div",oe,o(l.address),1)]),e("div",le,[s[5]||(s[5]=e("div",{class:"inline-block w-20 font-bold"},"Group:",-1)),e("div",ne,o(l.group),1)])])]),e("fieldset",re,[e("div",ae,[e("div",{class:"inline-block font-bold text-blue-primary mr-5 cursor-pointer",onClick:s[1]||(s[1]=t=>i.value=!1)},o(l.$t("general.cancel")),1),e("button",{type:"submit",class:"bg-red-primary text-white text-xs py-2 px-4 rounded-md",onClick:s[2]||(s[2]=t=>h())},o(l.$t("addressBook.removeContact")),1)])])])]),_:1},8,["visible"])],64)}}}),de={class:"font-semibold mr-10 mb-4"},ce={class:"xl:flex xl:justify-between pb-3 xl:pb-0"},ue={class:"md:flex md:items-center md:justify-items-start"},me={class:"w-full md:w-60 px-3 py-1 flex justify-between mb-3 mt-3 md:mt-0 md:mb-0 border border-gray-200"},pe=["placeholder"],be={class:"mt-5 lg:mt-5 xl:mt-0"},ve={class:"mt-2 py-3 gray-line"},ge={class:"flex items-center"},fe=["innerHTML"],_e={class:"inline-block"},ye={class:"text-blue-primary text-tsm"},xe={key:0,class:"inline-block ml-5 rounded-md text-blue-primary bg-blue-200 px-2 py-1 text-xxs font-bold"},ke={class:"mt-1 text-xs md:text-tsm"},we={class:"mt-1 text-xs md:text-tsm flex items-center bg-green-100 w-24"},he={class:"text-center text-blue-primary mb-2",style:{"font-size":"15px"}},$e={class:"text-center text-gray-400",style:{"font-size":"12px"}},Ce=S({__name:"ContactDataTable",setup(g){const{t:i}=D(),p=v({value:"",label:i("general.showAll")}),c=v({global:{value:null,matchMode:I.CONTAINS}});let k=new M("ThemeStyleConfig");k.init();const w=A(()=>{var n;const s=(n=b.currentLoggedInWallet)==null?void 0:n.contacts.map(t=>({name:t.name,address:j.createAddress(t.address).pretty(),group:t.group,publicKey:t.publicKey?t.publicKey:null,svgString:z(t.address,45,k.jdenticonConfig)}));return p.value.value==""?s.sort((t,a)=>t.name>a.name?1:t.name<a.name?-1:0):s.filter(t=>t.group==p.value.value).sort((t,a)=>t.name>a.name?1:t.name<a.name?-1:0)}),h=v(),l=A(()=>{var t;const n=[...new Set((t=b.currentLoggedInWallet)==null?void 0:t.contacts.map(a=>a.group))].filter(a=>a!="-none-");return[{value:"",label:i("general.showAll")}].concat(n.map(a=>({label:a,value:a})))});return(s,n)=>{const t=f("Dropdown"),a=f("router-link"),B=f("font-awesome-icon");return m(),y("div",null,[e("div",de,o(s.$t("general.addressBook")),1),e("div",ce,[e("div",ue,[d(t,{modelValue:p.value,"onUpdate:modelValue":n[0]||(n[0]=r=>p.value=r),options:l.value,"option-label":"label",placeholder:"Select a City",class:"w-full md:w-60 mr-4 text-xs"},null,8,["modelValue","options"]),e("div",me,[E(e("input",{"onUpdate:modelValue":n[1]||(n[1]=r=>c.value.global.value=r),type:"text",class:"w-28 outline-none text-xs float-left",placeholder:s.$t("general.search")},null,8,pe),[[F,c.value.global.value]]),n[3]||(n[3]=e("img",{src:N,class:"inline-block"},null,-1))])]),e("div",be,[d(a,{to:{name:"ViewServicesAddressBookAddContact"},class:"default-btn transition-all duration-300",style:{padding:"auto 3px"}},{default:u(()=>[x("+ "+o(s.$t("general.new")),1)]),_:1})])]),e("div",ve,[d(_(W),{value:w.value,ref_key:"dt",ref:h,filters:c.value,"onUpdate:filters":n[2]||(n[2]=r=>c.value=r),paginator:!0,rows:10,responsiveLayout:"scroll",scrollDirection:"horizontal",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",currentPageReportTemplate:"",globalFilterFields:["name","address"]},{empty:u(()=>[n[4]||(n[4]=e("div",{class:"text-center my-5"},[e("img",{src:G,class:"inline-block h-20 w-20"})],-1)),e("div",he,o(s.$t("general.ntgToShow")),1),e("div",$e,o(s.$t("addressBook.addressBookTitle")),1)]),default:u(()=>[d(_(L),{field:"name",headerStyle:"width:95%",headerClass:"hidden"},{body:u(({data:r})=>[e("div",ge,[e("div",{innerHTML:r.svgString,class:"mr-2 inline-block"},null,8,fe),e("div",_e,[e("div",ye,[x(o(r.name)+" ",1),r.group!="-none-"?(m(),y("span",xe,o(r.group),1)):C("",!0)]),e("div",ke,o(r.address),1),e("div",we,[e("div",null,o(s.$t("general.publicKey")),1),r.publicKey?(m(),$(B,{key:0,icon:"check",class:"w-3 h-3 ml-3 inline-block text-blue-primary"})):(m(),$(B,{key:1,icon:"times",class:"w-3 h-3 ml-3 inline-block text-blue-primary"}))])])])]),_:1}),d(_(L),{style:{width:"50px"},headerClass:"hidden"},{body:u(({data:r})=>[d(ie,{address:r.address,publicKey:r.publicKey,group:r.group,name:r.name},null,8,["address","publicKey","group","name"])]),_:1})]),_:1},8,["value","filters"])])])}}}),Se={class:"w-9/12 ml-auto mr-auto mt-5"},Be={class:"flex text-xs font-semibold border-b-2 menu_title_div"},Ae={class:"w-18 text-center border-b-2 pb-3 border-yellow-500"},De=S({__name:"ViewServicesAddressBook",setup(g){return(i,p)=>{const c=f("router-link");return m(),y("div",null,[e("div",Se,[e("div",Be,[e("div",Ae,o(i.$t("general.list")),1),d(c,{to:{name:"ViewServicesAddressBookImport"},class:"w-18 text-center border-b pb-3"},{default:u(()=>[x(o(i.$t("general.import")),1)]),_:1}),d(c,{to:{name:"ViewServicesAddressBookExport"},class:"w-18 text-center border-b pb-3"},{default:u(()=>[x(o(i.$t("general.export")),1)]),_:1})]),d(Ce,{class:"mt-10"})])])}}});export{De as default};
