import"./vue-86063517.js";import{u as ka}from"./vue-router-21fffbbf.js";import{P as Sa,S as _a,M as Ta,a as Aa}from"./SelectInputAccountOutgoingSwap-3d5bf7e5.js";import{S as Ia,_ as Pa}from"./icon-dots-6390c14a.js";import{_ as Ca,A as m,w as y,H as i,x as Ma,n as ye,W as Na}from"./index-71c561bd.js";import{a as Ga}from"./functions-3b5b4af7.js";import{u as Fa}from"./primevue-35724b2c.js";import{S as w}from"./swapUtils-5f8c942f.js";import{d as De}from"./tsjs-xpx-chain-sdk-84426b6a.js";import{u as La}from"./vue-i18n-728f748b.js";import{_ as Ua}from"./bsc-e621c678.js";import{_ as na}from"./metx-logo-27f23eae.js";import{_ as Ba}from"./proximax-logo-ecfc3767.js";import{_ as Da}from"./icon-xpx-072deeab.js";import{c as v,r,w as U,B,o as b,z as g,A as a,g as s,l as D,D as E,p as sa,bq as Ea,F as Xa,k as Va,e as A,a as F,bn as Ha,m as Oa,aW as Ra,aT as Wa}from"./@vue-a9ecc9f1.js";import{g as ja}from"./@ethersproject-91cc0060.js";import"./@js-joda-d98eb16f.js";import"./icon-metamask-fox-25ba78e6.js";import"./icon-info-8b4f1351.js";import"./jdenticon-e4458e79.js";import"./node-stdlib-browser-23a8bc7f.js";import"./buffer-6d367910.js";import"./base64-js-50a5cdf9.js";import"./ieee754-44f7831e.js";import"./process-2209b2b3.js";import"./rxjs-1250b26d.js";import"./tslib-8dbab242.js";import"./crypto-js-e64ac54c.js";import"./crypto-browserify-4fd8cccd.js";import"./randombytes-685e9383.js";import"./safe-buffer-c463177b.js";import"./create-hash-92c04a28.js";import"./inherits-804453d8.js";import"./md5.js-8d474739.js";import"./hash-base-bb85fc42.js";import"./readable-stream-2241ee9e.js";import"./events-86ccc6d8.js";import"./util-06f7ff32.js";import"./is-arguments-86164331.js";import"./has-tostringtag-7c6352d6.js";import"./has-symbols-cd7870b9.js";import"./call-bind-9e7f09da.js";import"./get-intrinsic-f35014ba.js";import"./has-proto-8ede3a55.js";import"./function-bind-68631a08.js";import"./has-ab8e2922.js";import"./is-generator-function-06dfaf9d.js";import"./which-typed-array-cf6b6a29.js";import"./for-each-f57c5052.js";import"./is-callable-7492318c.js";import"./available-typed-arrays-61974ec7.js";import"./gopd-bab4d6bd.js";import"./is-typed-array-037eef20.js";import"./util-deprecate-c3aabb3c.js";import"./string_decoder-ef7b01fe.js";import"./ripemd160-58dcfa02.js";import"./sha.js-cea3da2e.js";import"./cipher-base-aee0e03d.js";import"./stream-browserify-7496a08f.js";import"./create-hmac-e8b5ea4a.js";import"./browserify-sign-a708a95f.js";import"./browserify-rsa-bfbdcbb6.js";import"./bn.js-1ae23332.js";import"./elliptic-75e883ee.js";import"./minimalistic-assert-4cc49674.js";import"./minimalistic-crypto-utils-6f869a51.js";import"./brorand-03f0f79d.js";import"./hash.js-4f5dfe73.js";import"./hmac-drbg-87799258.js";import"./parse-asn1-465c125b.js";import"./asn1.js-405e93e4.js";import"./safer-buffer-2ac6237e.js";import"./evp_bytestokey-e91543fa.js";import"./browserify-aes-ce20a0e6.js";import"./buffer-xor-87a7236a.js";import"./pbkdf2-e2ae8643.js";import"./browserify-cipher-c4c37ca3.js";import"./browserify-des-3f7e64d9.js";import"./des.js-d262604a.js";import"./diffie-hellman-c8260aab.js";import"./miller-rabin-de27bf02.js";import"./create-ecdh-ffe720e9.js";import"./public-encrypt-fc0568a2.js";import"./randomfill-2874e5f1.js";import"./mathjs-2a513dae.js";import"./@babel-484168fe.js";import"./typed-function-4896e4f1.js";import"./decimal.js-d133ee8e.js";import"./complex.js-cf2520e8.js";import"./fraction.js-39e7906a.js";import"./javascript-natural-sort-c4dd0c27.js";import"./escape-latex-c8a96e7a.js";import"./seedrandom-c8f991ad.js";import"./tiny-emitter-56d49cfd.js";import"./js-sha3-d7d4f583.js";import"./crypto-random-string-d158262e.js";import"./jose-92e5544c.js";import"./vue-loading-overlay-b89251b1.js";import"./jspdf-30014160.js";import"./fflate-8981c52c.js";import"./vue-debounce-3bbbf8c6.js";import"./mitt-f7ef348c.js";/* empty css                   */import"./maska-6f10db43.js";import"./@fortawesome-014b81f2.js";import"./vue3-blocks-tree-e53499e3.js";import"./@noble-f8eff84a.js";import"./utf8-c941a4a0.js";import"./bip39-936aefa9.js";import"./axios-b48d2c29.js";import"./flatbuffers-edc4f8d7.js";import"./ws-0a714537.js";import"./@intlify-16888cd3.js";import"./qrcode-generator-0cbfda4c.js";import"./bech32-123a6149.js";const Ka="/web-wallet-vuejs/assets/icon-prx-xpx-blue-05a9ca17.svg";const Qa={name:"ViewServicesMainnetSwapMetxToBSC",components:{PasswordInputClean:Sa,SwapInputClean:_a,MetamaskAddressInput:Ta,SwapCertificateComponent:Ia,SelectInputAccountOutgoingSwap:Aa},setup(){const{t}=La(),c=v(()=>m.nativeToken.label),ke=Fa(),e=ka(),Ee=r(!0),R=r(180),Se=v(()=>R.value%60),_e=v(()=>Math.floor(R.value/60)),Te=setInterval(()=>{--R.value},1e3),p=r(""),W=r(""),$=U(()=>R.value,n=>{n<=0&&(ee(),d())}),ee=()=>{$(),Ee.value=!1,clearInterval(Te)},d=()=>{e.push({name:"ViewServicesMainnetSwap"})},X=r(1),Xe=r(!1),ae=r(""),j=r(""),te=r(""),k=r(0),Ve=v(()=>{if(!y.currentLoggedInWallet)return[];let n=y.currentLoggedInWallet.accounts.map(o=>({name:o.name,balance:o.balance,balanceDisplay:i.toCurrencyFormat(o.balance,m.nativeToken.divisibility),type:"",address:i.createAddress(o.address).pretty(),publicKey:o.publicKey,isMultisig:!!o.getDirectParentMultisig().length}));if(Xe.value){let o=y.currentLoggedInWallet.others.filter(l=>l.type==="MULTISIG").map(l=>({name:l.name,balance:l.balance,balanceDisplay:i.toCurrencyFormat(l.balance,m.nativeToken.divisibility),type:"MULTISIG",address:i.createAddress(l.address).pretty(),publicKey:l.publicKey,isMultisig:!0}));return n.concat(o)}else return n}),I=v(()=>Ve.value.find(n=>n.name===ae.value)),L=r("");U(L,n=>{if(n){let o=y.currentLoggedInWallet.accounts.find(l=>l.address==n);if(o||(o=y.currentLoggedInWallet.others.find(l=>l.address==n)),ae.value=o.name,j.value=o.address,p.value.name.toUpperCase()!="XPX"){let l=o.assets.findIndex(u=>u.idHex==p.value.assetId);k.value=l>-1?o.assets[l].amount:0,h.value=i.convertNumberMinimumFormat(k.value,C.value)}else k.value=o.balance,h.value=i.convertNumberMinimumFormat(o.balance-_.value-x.value,C.value);te.value=o.publicKey}else ae.value="",j.value="",k.value="",te.value=""}),U(p,async n=>{let o=await m.chainAPI.assetAPI.getMosaic(new De.MosaicId(n.assetId));if(C.value=o.divisibility,L.value!=""){let l=y.currentLoggedInWallet.accounts.find(u=>u.address==L.value);if(l||(l=y.currentLoggedInWallet.others.find(u=>u.address==L.value)),n.name.toUpperCase()!="XPX"){let u=l.assets.findIndex(T=>T.idHex==n.assetId);k.value=u>-1?l.assets[u].amount:0,h.value=i.convertNumberMinimumFormat(k.value,C.value)}else k.value=l.balance,h.value=i.convertNumberMinimumFormat(l.balance-_.value-x.value,C.value)}f.value>h.value&&fe()});const Ae=1e9,Ie=1.2,se=r(!1),P=r(!1),M=r(!1),ra=r(!1),ne=r(""),He="^[^ ]{8,}$",S=r(!1),K=r(!1),Pe=r(""),re=r(""),oa=v(()=>!(f.value>0&&ne.value.match(He)&&re.value!=""&&!M.value&&S.value==!1)),f=r(0),Oe=m.nativeToken.fullNamespace,ia=i.createAsset(i.createNamespaceId(Oe).toHex(),1),la=i.createAsset(i.createNamespaceId("prx.metx").toHex(),1),Re=m.buildTxn,oe=Re.transferBuilder(),We=Re.aggregateCompleteBuilder();let Ce={type:"Swap-xpx-bsc",remoteAddress:"0".repeat(42)};const ca=()=>{Ce.remoteAddress=re.value,je()};let ie={type:"Swap-xpx-bsc-fees",gasPrice:5,gasLimit:57500},V=new Ma(ye.chainNetworkName);V.init();let Q=V.swap_XPX_BSC_URL,Me=V.BSCScanUrl,da=ye.currentNetworkProfile.chainExplorer.url+"/"+ye.currentNetworkProfile.chainExplorer.hashRoute+"/",Ne,Ge,J=r([]);const C=r(0),ma=async()=>{let n=await w.getSwapTokenList(Q);n&&(J.value=n,p.value=J.value[0],W.value=J.value[0].name,m.chainAPI.assetAPI.getMosaic(new De.MosaicId(p.value.assetId)).then(o=>{C.value=o.properties.divisibility}))};(async()=>{try{const n=w.getServiceInfoURL(Q),o=await w.getOutgoingSwapServiceInfo(n);Ne=o.siriusInfo.sinkingFundAddress,Ge=o.siriusInfo.sinkingFeeAddress,ua()}catch{G(t("swap.serviceUnavailable"),t("swap.failGetSink")),d()}})(),ma();let z,le,ce;const ua=()=>{le=oe.mosaics([la]).recipient(i.createAddress(Ne)).message(i.createPlainMessage(JSON.stringify(Ce))).build(),ce=oe.mosaics([ia]).recipient(i.createAddress(Ge)).message(i.createPlainMessage(JSON.stringify(ie))).build(),z=We.innerTransactions(i.createInnerTransaction([le,ce],"0".repeat(64))).build(),_.value=i.convertToExact(z.maxFee.compact(),m.nativeToken.divisibility),N.value=_.value};let _=r(0);const va=v(()=>i.toCurrencyFormat(_.value,m.nativeToken.divisibility)),je=()=>{let n;f.value<0?n=0:n=f.value;const o=i.createAsset(i.createNamespaceId(p.value.namespace).toHex(),i.convertToAbsolute(n,C.value)),l=i.createAsset(i.createNamespaceId(Oe).toHex(),i.convertToAbsolute(x.value,m.nativeToken.divisibility));le=oe.mosaics([o]).recipient(i.createAddress(Ne)).message(i.createPlainMessage(JSON.stringify(Ce))).build(),ce=oe.mosaics([l]).recipient(i.createAddress(Ge)).message(i.createPlainMessage(JSON.stringify(ie))).build(),z=We.innerTransactions(i.createInnerTransaction([le,ce],te.value)).build(),_.value=i.convertToExact(z.maxFee.compact(),m.nativeToken.divisibility)},Ke=v(()=>de.value*ue.value/Ae),Qe=v(()=>q.value*Fe.value/Ae),Je=v(()=>me.value*Le.value/Ae),ze=v(()=>i.convertNumberMinimumFormat(Ke.value*pe.value,2)),qe=v(()=>i.convertNumberMinimumFormat(Qe.value*pe.value,2)),Ye=v(()=>i.convertNumberMinimumFormat(Je.value*pe.value,2)),Ze=v(()=>i.convertNumberMinimumFormat(ze.value/ve.value*Ie,m.nativeToken.divisibility)),$e=v(()=>i.convertNumberMinimumFormat(qe.value/ve.value*Ie,m.nativeToken.divisibility)),ea=v(()=>i.convertNumberMinimumFormat(Ye.value/ve.value*Ie,m.nativeToken.divisibility)),de=r(0),q=r(0),me=r(0),ue=r(55e3),Fe=r(55e3),Le=r(55e3);(async()=>{if(m.networkType===De.NetworkType.TEST_NET)de.value=10,q.value=10,me.value=10;else{let n=await w.getBSC_SafeGwei(V.gasPriceConsultURL);if(n.status===0)console.log("Error, no data found. Please try again later");else{let o=n.result;de.value=o.ProposeGasPrice,q.value=o.FastGasPrice,me.value=Math.ceil(q.value*1.1)}}})(),(async()=>{let n=await w.getBSC_GasLimit(V.gasPriceConsultURL);n.status===0?console.log("Error, no gas limit data found. Please try again later"):(ue.value=n.standardGasLimit,Fe.value=n.fastGasLimit,Le.value=n.rapidGasLimit)})();const ve=r(0),pe=r(0),pa=r(0);(async()=>{let n=await Ga(w.checkSwapPrice(V.priceConsultURL));ve.value=n.xpx,pa.value=n.metx,pe.value=n.bnb})();const fe=()=>{f.value=h.value};U(W,n=>{p.value=J.value.find(o=>o.name===n)});const fa=r(!1),Ue=r("");let Y=r(0),Z=r(0),x=r(0);const h=r(0),N=r(0),wa=v(()=>I.value?I.value.balance<N.value:!1),aa=n=>{Ue.value=n,n==="rapid"?(Y.value=Le.value,Z.value=me.value,x.value=ea.value):n==="fast"?(Y.value=Fe.value,Z.value=q.value,x.value=$e.value):(Y.value=ue.value,Z.value=de.value,x.value=Ze.value),ie.gasPrice=Z.value,ie.gasLimit=Y.value,N.value=i.convertNumberMinimumFormat(_.value+x.value,m.nativeToken.divisibility),ba(),je()},ba=async()=>{p.value.name.toUpperCase()!=="XPX"?I.value.balance<x.value+_.value?S.value=!0:S.value=!1:(I.value.balance<N.value&&(f.value=0),I.value.balance<N.value?K.value=!0:(K.value=!1,S.value=!1))};U(x,n=>{let o=y.currentLoggedInWallet.accounts.find(l=>l.address==L.value);o||(o=y.currentLoggedInWallet.others.find(l=>l.address==L.value)),p.value.name!="xpx"?(h.value=i.convertNumberMinimumFormat(k.value,C.value),f.value>h.value&&fe()):(h.value=i.convertNumberMinimumFormat(o.balance-_.value-n,m.nativeToken.divisibility),f.value>h.value&&fe())}),U(ue,()=>{X.value==2&&(I.value.balance<=N.value?(K.value=!0,S.value=!0):(K.value=!1,S.value=!1))}),U([k,f],()=>{p.value.name.toUpperCase()!=="XPX"?f.value>h.value?S.value=!0:S.value=!1:k.value<f.value+N.value?S.value=!0:S.value=!1});const H=r(""),ga=()=>{M.value=!0,P.value=!0;try{ja(re.value)&&(se.value=!1)}catch{se.value=!0,M.value=!1,P.value=!1}if(!se.value)if(Na.verifyWalletPassword(y.currentLoggedInWallet.name,ye.chainNetworkName,ne.value)){if(Pe.value="",ca(),aa(Ue.value),p.value.name=="xpx"){if(f.value+x.value+_.value>I.value.balance){G(t("swap.insufficientAmount"),t("swap.swapInsufficientAmount"),5e3);return}}else if(x.value+_.value>I.value.balance){G(t("swap.insufficientAmount"),t("swap.swapInsufficientAmount"),5e3);return}ee();let n=w.signTransaction(j.value,ne.value,z);H.value=n.hash,xa().then(o=>{f.value<=o?ha(n.payload):G("Swap Server Error","Insufficient Balance from Funding Account",5e3)})}else Pe.value=t("general.walletPasswordInvalid",{name:y.currentLoggedInWallet.name}),M.value=!1,P.value=!1},xa=async()=>{const n=await w.checkTokenBalance(Q,p.value.name);return n.status?n.tokenBalance:0},ha=async n=>{let l=JSON.stringify({txnInfo:{network:"bsc",siriusTxnPayload:n}});try{const u=await fetch(w.getOutgoing_SwapTransfer_URL(Q,p.value.name),{method:"POST",headers:{"Content-Type":"application/json"},body:l});if(u.ok){m.txnSwapLog.find(he=>he.txnHash===H.value)||m.txnSwapLog.push({txnHash:H.value,accPubKey:te.value,status:"",statusMsg:"",relatedAddress:[],checkedNum:0});const T=await u.json();ge.value=T.data.txHash,ta.value=Me+T.data.txHash,we.value="",be.value=T.data.swapId,xe.value=w.generateQRCode(Me+T.data.txHash),X.value=2}else if(u.status==400){const T=await u.json();G(t("swap.swapOperationFail"),T.data.message),M.value=!1,P.value=!1}else if(u.status==409)Be.value=!0,P.value=!1;else if(u.status==503){const T=await u.json();let he=T.data.message?T.data.message:"";ke.add({severity:"warn",summary:t("swap.serviceUnavailable"),detail:he||t("swap.tryAgain"),group:"br-custom"}),M.value=!1,P.value=!1}else u.status==504&&(G(t("swap.timedOut"),t("swap.checkStatusAgain")),P.value=!1,Be.value=!0)}catch{G(t("swap.networkErr"),t("swap.serverNotFound")),M.value=!1,P.value=!1}},ya=async()=>{const n=await fetch(w.getOutgoing_SwapCheckByTxID_URL(Q,H.value));if(n.status==200){const o=await n.json();ge.value=o.fulfillTransaction,we.value="",be.value=o.data._id,xe.value=w.generateQRCode(Me+o.fulfillTransaction),X.value=2}else G(t("swap.swapNotFound"),t("swap.txIdNotFound"))},G=(n,o,l=void 0)=>{ke.add({severity:"error",summary:n,detail:o,group:"br-custom",life:l})},ta=r(""),we=r(""),be=r(""),ge=r(""),xe=r(""),Be=r(!1);return{selectedAccountBalance:k,minNativeBalanceAmount:N,includeMultisig:Xe,timerSecondsDisplay:Se,timerMinutes:_e,currentPage:X,bscAddress:re,showAddressErr:se,showPasswdError:ra,walletPasswd:ne,passwdPattern:He,showAmountErr:S,amount:f,disableAmount:K,updateAmountToMax:fe,bscGasStrategy:Ue,isDisabledSwap:oa,err:Pe,swap:ga,savedCheck:fa,allAvailableAccounts:Ve,selectedAccount:I,selectedAccountName:ae,selectedGasPriceInGwei:Z,selectedGasLimit:Y,standardGasPrice:Ke,fastGasPrice:Qe,rapidGasPrice:Je,standardGasPriceInUSD:ze,fastGasPriceInUSD:qe,rapidGasPriceInUSD:Ye,xpxAmountInStandardGasPrice:Ze,xpxAmountInFastGasPrice:$e,xpxAmountInRapidGasPrice:ea,txFeeDisplay:va,gasPriceInXPX:x,maxSwapAmount:h,changeGasStrategy:aa,swapInProgress:M,certTransactionHash:ge,swapLink:ta,swapTimestamp:we,swapId:be,swapQr:xe,saveCertificate:()=>{w.generateoutgoingPdfCert("BSC",we.value,j.value,be.value,ge.value,xe.value,H.value)},selectedAccountAddress:j,isDisabledCancel:P,canCheckStatus:Be,callTocheckSwapStatus:ya,siriusTransactionHash:H,xpxExplorerUrl:da,currentNativeTokenName:c,siriusAddress:L,walletState:y,Helper:i,xpxFeeErr:wa,tokenDivisibility:C,tokenList:J,selectedToken:p,selectedTokenName:W}}},O=t=>(Ra("data-v-103c7caa"),t=t(),Wa(),t),Ja={class:"lg:w-9/12 ml-2 mr-2 lg:ml-auto lg:mr-auto mt-5"},za={class:"mt-6 p-6 border filter shadow-lg text-center"},qa={class:"text-md"},Ya={class:"text-xs my-3 mb-5 sm:mb-10"},Za=O(()=>a("img",{src:Ua,class:"mr-2 h-5 inline-block"},null,-1)),$a={class:"flex my-10"},et={class:"flex-none"},at={class:"flex border border-gray-300 rounded-md filter shadow-md"},tt={class:"px-4 sm:px-10 self-center text-xxs sm:text-xs hidden md:inline-block lg:hidden xl:inline-block"},st=O(()=>a("div",{class:"flex-grow self-center md:mx-4 h-0.5 bg-gray-100"},null,-1)),nt={class:"flex-none"},rt={class:"flex border border-gray-300 rounded-md filter shadow-md"},ot={class:"px-4 sm:px-10 self-center text-xxs sm:text-xs hidden md:inline-block lg:hidden xl:inline-block"},it={key:0},lt=O(()=>a("div",{class:"text-sm my-5 font-bold"},"Select Asset",-1)),ct=["value"],dt={class:"text-sm my-5 font-bold"},mt={key:0,class:"error error_box mb-5"},ut={class:"relative"},vt={key:0,class:"opacity-90 w-full h-full absolute z-10 bg-white"},pt={class:"tex-center font-bold text-sm my-5"},ft={class:"md:grid md:grid-cols-3 mb-4"},wt={class:"md:col-span-1 mb-3"},bt={class:"font-bold text-tsm"},gt={class:"md:col-span-1 mb-3"},xt={class:"font-bold text-tsm"},ht={class:"md:col-span-1 mb-3"},yt={class:"font-bold text-tsm"},kt={class:"text-sm text-center mb-2 sm:mb-4"},St={class:"tex-center font-bold text-sm mb-2"},_t={class:"rounded-2xl bg-gray-100 p-5 mb-5"},Tt={class:"inline-block mr-4 text-xs"},At=O(()=>a("img",{src:Ka,class:"w-5 inline mr-1 text-gray-500"},null,-1)),It={class:"mb-5"},Pt={key:1,class:"error error_box mb-5"},Ct={class:"bg-blue-50 border border-blue-primary h-20 mt-5 rounded flex items-center justify-center uppercase"},Mt={key:0,src:na,class:"w-5 h-5 ml-4"},Nt={key:1,src:Ba,class:"w-5 h-5 ml-4"},Gt={class:"flex justify-center mt-3"},Ft={class:"text-xs text-gray-600 mt-2 max-w-screen-md"},Lt={class:"mt-10 text-center"},Ut=["disabled"],Bt=["disabled"],Dt={key:1},Et={class:"default-title font-bold mt-5 mb-2"},Xt={class:"text-sm mb-7"},Vt={class:"mt-5"},Ht=["href"],Ot=O(()=>a("br",null,null,-1)),Rt=["href"],Wt={class:"md:mx-20 lg:mx-40 font-bold text-center text-tsm py-5 sm:py-10 mt-5 sm:mt-10 border-t border-gray-200"},jt={class:"md:mx-20 lg:mx-10 xl:mx-40 border-2 border-gray-200 mt-4 p-5 text-xs font-bold filter shadow-lg"},Kt={class:"text-blue-primary mb-1"},Qt={class:"break-all"},Jt={class:"mt-1"},zt={key:0,src:na,class:"w-3 h-3 ml-2 inline relative",style:{top:"-2px"}},qt={key:1,src:Da,class:"w-3 h-3 ml-2 inline relative",style:{top:"-2px"}},Yt=O(()=>a("div",null,[a("img",{src:Pa,class:"inline-block h-8 my-2"})],-1)),Zt={class:"text-blue-primary mb-1"},$t={class:"mt-1"},es={class:"my-5 sm:my-7 text-gray-500 text-xs md:mx-20 lg:mx-10 xl:mx-40"},as={class:"inline-flex items-center mb-5"},ts={class:"ml-2 cursor-pointer text-xs font-bold"},ss={class:"sm:mt-5 text-center"},ns=["disabled"];function rs(t,c,ke,e,Ee,R){const Se=B("SelectInputAccountOutgoingSwap"),_e=B("SwapInputClean"),Te=B("MetamaskAddressInput"),p=B("PasswordInputClean"),W=B("SwapCertificateComponent"),$=B("font-awesome-icon"),ee=B("router-link");return b(),g("div",null,[a("div",Ja,[a("div",za,[a("div",qa,s(t.$t("swap.mainNetworkSwap")),1),a("div",Ya,[Za,D(s(t.$t("swap.swapSiriusToBsc")),1)]),a("div",$a,[a("div",et,[a("div",at,[a("div",{class:E(["flex w-6 h-6 sm:w-10 sm:h-10",`${e.currentPage>=1?"bg-yellow-500":"bg-gray-300"}`])},[a("div",{class:E(["self-center inline-block text-center w-full text-txs sm:text-sm font-bold",`${e.currentPage>=1?"text-white":"text-gray-400"}`])},"1",2)],2),a("div",tt,s(t.$t("general.transaction")),1)])]),st,a("div",nt,[a("div",rt,[a("div",{class:E(["flex w-6 h-6 sm:w-10 sm:h-10",`${e.currentPage>=2?"bg-yellow-500":"bg-gray-300"}`])},[a("div",{class:E(["self-center inline-block text-center w-full text-txs sm:text-sm font-bold",`${e.currentPage>=2?"text-white":"text-gray-400"}`])},"2",2)],2),a("div",ot,s(t.$t("general.certificate")),1)])])]),e.currentPage==1?(b(),g("div",it,[lt,sa(a("select",{class:"","onUpdate:modelValue":c[0]||(c[0]=d=>e.selectedTokenName=d)},[(b(!0),g(Xa,null,Va(e.tokenList,(d,X)=>(b(),g("option",{value:d.name,key:X},s(d.name.toUpperCase()),9,ct))),128))],512),[[Ea,e.selectedTokenName]]),a("div",dt,s(t.$t("general.transactionDetails")),1),e.xpxFeeErr?(b(),g("div",mt,s(t.$t("swap.failCoverTxFee")),1)):A("v-if",!0),F(Se,{otherToken:e.selectedToken.namespace,otherTokenId:e.selectedToken.assetId,name:e.selectedToken.name,modelValue:e.siriusAddress,"onUpdate:modelValue":c[1]||(c[1]=d=>e.siriusAddress=d),placeholder:t.$t("swap.fromSiriusAcc"),selectDefault:e.walletState.currentLoggedInWallet.selectDefaultAccount().address,divisibility:e.tokenDivisibility},null,8,["otherToken","otherTokenId","name","modelValue","placeholder","selectDefault","divisibility"]),a("div",ut,[e.siriusAddress?A("v-if",!0):(b(),g("div",vt)),F(_e,{class:"mt-5",disabled:e.disableAmount,remarkOption:e.selectedToken.name=="xpx",modelValue:e.amount,"onUpdate:modelValue":c[2]||(c[2]=d=>e.amount=d),balance:e.selectedAccountBalance,placeholder:`${e.selectedToken.name} `+t.$t("general.amount"),type:"text",showError:e.showAmountErr,errorMessage:t.$t("general.insufficientBalance"),emptyErrorMessage:t.$t("swap.amountEmpty"),maxAmount:e.maxSwapAmount,gasFee:e.gasPriceInXPX,transactionFee:e.txFeeDisplay,onClickedMaxAvailable:c[3]||(c[3]=d=>e.updateAmountToMax()),toolTip:t.$t("swap.bscAmountMsg",{token:e.selectedTokenName.toUpperCase()}),decimal:e.tokenDivisibility},null,8,["disabled","remarkOption","modelValue","balance","placeholder","showError","errorMessage","emptyErrorMessage","maxAmount","gasFee","transactionFee","toolTip","decimal"]),F(Te,{placeholder:t.$t("swap.bscAddress"),errorMessage:t.$t("swap.bscAddressErr"),class:"mt-5",showError:e.showAddressErr,modelValue:e.bscAddress,"onUpdate:modelValue":c[4]||(c[4]=d=>e.bscAddress=d)},null,8,["placeholder","errorMessage","showError","modelValue"]),a("div",pt,s(t.$t("general.transactionFee"))+" ("+s(t.$t("swap.bsc"))+" BEP20 "+s(t.$t("general.network"))+"):",1),a("div",ft,[a("div",wt,[a("div",{class:E(["bscGasStrategy md:mr-6",`${e.bscGasStrategy=="standard"?"selected":"option"}`]),onClick:c[5]||(c[5]=d=>e.changeGasStrategy("standard"))},[a("p",bt,s(t.$t("swap.standard")),1),a("div",null,"BNB "+s(e.standardGasPrice),1),a("div",null,"XPX "+s(e.xpxAmountInStandardGasPrice)+" = "+s(t.$t("general.usd"))+" "+s(e.standardGasPriceInUSD),1)],2)]),a("div",gt,[a("div",{class:E(["bscGasStrategy md:mx-3",`${e.bscGasStrategy=="fast"?"selected":"option"}`]),onClick:c[6]||(c[6]=d=>e.changeGasStrategy("fast"))},[a("p",xt,s(t.$t("swap.fast")),1),a("div",null,"BNB "+s(e.fastGasPrice),1),a("div",null,"XPX "+s(e.xpxAmountInFastGasPrice)+" = "+s(t.$t("general.usd"))+" "+s(e.fastGasPriceInUSD),1)],2)]),a("div",ht,[a("div",{class:E(["bscGasStrategy md:ml-6",`${e.bscGasStrategy=="rapid"?"selected":"option"}`]),onClick:c[7]||(c[7]=d=>e.changeGasStrategy("rapid"))},[a("p",yt,s(t.$t("swap.rapid")),1),a("div",null,"BNB "+s(e.rapidGasPrice),1),a("div",null,"XPX "+s(e.xpxAmountInRapidGasPrice)+" = "+s(t.$t("general.usd"))+" "+s(e.rapidGasPriceInUSD),1)],2)])]),a("div",kt,s(t.$t("swap.feesValidDuration"))+": "+s(e.timerMinutes)+":"+s(e.timerSecondsDisplay>=10?e.timerSecondsDisplay:"0"+e.timerSecondsDisplay),1),a("div",St,s(t.$t("general.transactionFee"))+" ("+s(t.$t("swap.siriusNetwork"))+"):",1),a("div",_t,[a("div",Tt,[At,D(s(t.$t("general.transactionFee"))+": ",1),a("span",null,s(e.txFeeDisplay),1),D(" "+s(e.currentNativeTokenName),1)])]),a("div",It,"Total Transaction Fee: "+s(e.minNativeBalanceAmount)+" "+s(e.currentNativeTokenName),1),F(p,{placeholder:t.$t("general.enterPassword"),errorMessage:t.$t("general.passwordRequired"),showError:e.showPasswdError,icon:"lock",modelValue:e.walletPasswd,"onUpdate:modelValue":c[8]||(c[8]=d=>e.walletPasswd=d)},null,8,["placeholder","errorMessage","showError","modelValue"]),e.err!=""?(b(),g("div",Pt,s(e.err),1)):A("v-if",!0),a("div",Ct,[D(s(e.amount)+" "+s(e.selectedToken.name)+" ",1),e.selectedToken.name=="metx"?(b(),g("img",Mt)):A("v-if",!0),e.selectedToken.name=="xpx"?(b(),g("img",Nt)):A("v-if",!0)]),a("div",Gt,[a("div",Ft,s(t.$t("swap.bscOutgoingMsg")),1)]),a("div",Lt,[a("button",{onClick:c[9]||(c[9]=d=>t.$router.push({name:"ViewServicesMainnetSwap"})),class:"text-black font-bold text-xs mr-1 sm:mr-5 mt-2 focus:outline-none disabled:opacity-50",disabled:e.isDisabledCancel},s(t.$t("general.later")),9,Ut),a("button",{type:"button",class:"default-btn focus:outline-none disabled:opacity-50 mt-2",disabled:e.isDisabledSwap,onClick:c[10]||(c[10]=(...d)=>e.swap&&e.swap(...d))},s(e.swapInProgress?t.$t("swap.swapInProgress"):t.$t("swap.confirmSwap")),9,Bt),e.canCheckStatus?(b(),g("button",{key:0,class:"default-btn focus:outline-none disabled:opacity-50 mt-2",onClick:c[11]||(c[11]=(...d)=>e.callTocheckSwapStatus&&e.callTocheckSwapStatus(...d))},s(t.$t("swap.checkSwapStatus")),1)):A("v-if",!0)])])])):A("v-if",!0),e.currentPage==2?(b(),g("div",Dt,[a("div",null,[a("h1",Et,s(t.$t("general.congratz")),1),a("div",Xt,s(t.$t("swap.swapStarted")),1),F(W,{networkTerm:t.$t("swap.bsc"),swapType:"Out",swapId:e.swapId,swapTimestamp:e.swapTimestamp,transactionHash:e.certTransactionHash,swapQr:e.swapQr,swapLink:e.swapLink,siriusName:e.selectedAccountName,swappedAmount:e.amount,siriusAddress:e.Helper.createAddress(e.selectedAccountAddress).pretty(),siriusTransactionHash:e.siriusTransactionHash,xpxExplorer:e.xpxExplorerUrl},null,8,["networkTerm","swapId","swapTimestamp","transactionHash","swapQr","swapLink","siriusName","swappedAmount","siriusAddress","siriusTransactionHash","xpxExplorer"]),a("button",{type:"button",class:"w-40 hover:shadow-lg bg-blue-primary text-white text-xs hover:opacity-50 rounded font-bold px-4 py-3 border border-blue-primary outline-none mr-4 mt-6",onClick:c[12]||(c[12]=(...d)=>e.saveCertificate&&e.saveCertificate(...d))},s(t.$t("general.downloadCertificate")),1),a("div",Vt,[a("a",{href:e.swapLink,target:"_new",class:"underline self-center text-xs font-bold text-blue-primary"},[D(s(t.$t("swap.viewTxInBsc")),1),F($,{icon:"external-link-alt",class:"ml-2 text-blue-500 w-3 h-3 self-center inline-block"})],8,Ht),Ot,a("a",{href:e.xpxExplorerUrl,target:"_new",class:"underline self-center text-xs font-bold text-blue-primary"},[D(s(t.$t("swap.viewTxInExplorer")),1),F($,{icon:"external-link-alt",class:"ml-2 text-blue-500 w-3 h-3 self-center inline-block"})],8,Rt)]),a("div",Wt,s(t.$t("swap.swapDetails")),1),a("div",jt,[a("div",Kt,s(t.$t("general.from"))+": "+s(e.selectedAccountName),1),a("div",Qt,s(e.Helper.createAddress(e.selectedAccountAddress).pretty()),1),a("div",Jt,[D(s(t.$t("swap.swapAmount"))+" "+s(e.amount)+" "+s(e.selectedToken.name.toUpperCase())+" ",1),e.selectedToken.name=="metx"?(b(),g("img",zt)):A("v-if",!0),e.selectedToken.name=="xpx"?(b(),g("img",qt)):A("v-if",!0)]),Yt,a("div",Zt,s(t.$t("general.to"))+": "+s(t.$t("swap.metamaskAcc")),1),a("div",null,s(e.bscAddress),1),a("div",$t,s(t.$t("swap.equivalentTo"))+" "+s(e.amount)+" BEP20 "+s(e.selectedToken.name.toUpperCase()),1)]),a("div",es,s(t.$t("swap.swapMsg3")),1),a("label",as,[sa(a("input",{type:"checkbox",class:"h-5 w-5 bg-blue-primary","onUpdate:modelValue":c[13]||(c[13]=d=>e.savedCheck=d)},null,512),[[Ha,e.savedCheck]]),a("span",ts,s(t.$t("swap.confirmDownloaded")),1)]),a("div",ss,[F(ee,{to:{name:"ViewServicesMainnetSwap"}},{default:Oa(()=>[a("button",{type:"submit",class:"default-btn mr-5 focus:outline-none w-40 inline-block disabled:opacity-50",disabled:!e.savedCheck},s(t.$t("general.done")),9,ns)]),_:1})])])])):A("v-if",!0)])])])}const xr=Ca(Qa,[["render",rs],["__scopeId","data-v-103c7caa"],["__file","/home/runner/work/web-wallet-vuejs/web-wallet-vuejs/src/modules/services/submodule/mainnetSwap/submodule2/bsc/views/ViewServicesMainnetSwapSiriusToBSC.vue"]]);export{xr as default};
