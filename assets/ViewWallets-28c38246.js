import{u as B,D as F,r as v,c as _,i as E,n as h,W as J,w as d,_ as M,k as $,o as s,b as o,e as l,s as W,z as V,t as n,f as u,T as Z,F as T,d as q,B as L,m as I,l as N,h as Y}from"./index-d6467577.js";import{C as P}from"./index-d3997e88.js";import{_ as G}from"./PasswordInput.vue_vue_type_script_setup_true_lang-1c889bc9.js";const K={name:"ConfirmDeleteWalletModal",props:["walletName"],components:{PasswordInput:G},setup(e){const{t:a}=B(),c=F();E().appContext.config.globalProperties.emitter;const p="^[^ ]{8,}$",m=v(""),i=v(""),r=v(!1),f=_(()=>!m.value.match(p));return{err:i,disableDelete:f,deleteWallet:b=>{var k=h.chainNetworkName,w=J.verifyWalletPassword(b,k,m.value);w==!0?(d.wallets.removeWalletByNetworkNameAndName(k,b),c.add({severity:"success",summary:a("general.notification"),detail:a("wallet.walletRemoved"),group:"br-custom",life:5e3})):(i.value=a("general.walletPasswordInvalid",{name:b}),m.value="")},walletPassword:m,toggleModal:r}}},Q="/web-wallet-vuejs/assets/icon-delete-0decb859.svg",X="/web-wallet-vuejs/assets/icon-delete-wallet-4d732b98.svg",ee={key:0,class:"popup-outer fixed flex z-50 text-black mt-10"},te={class:"modal-popup-box"},le={key:0,class:"error error_box mb-3 text-center"},ae={class:"text-center mt-2 text-md font-normal"},se=l("img",{src:X,class:"ml-auto mr-auto"},null,-1),oe={class:"text-black text-center text-xs mt-2 font-normal"},ne={class:"font-bold text-center text-xs mt-2"},re={class:"w-92"},ie={class:"text-center"},de={class:"mt-3"},ce=["disabled"];function me(e,a,c,t,p,m){const i=$("PasswordInput");return s(),o(T,null,[l("img",{onClick:a[0]||(a[0]=r=>t.toggleModal=!t.toggleModal),src:Q,class:"cursor-pointer inline"}),W(Z,{enterActiveClass:"animate__animated animate__fadeInDown",leaveActiveClass:"animate__animated animate__fadeOutUp"},{default:V(()=>[t.toggleModal?(s(),o("div",ee,[l("div",te,[t.err!=""?(s(),o("div",le,n(t.err),1)):u("",!0),l("div",ae,n(e.$t("wallet.walletDeletion")),1),se,l("div",oe,n(e.$t("wallet.deleteMessage")),1),l("div",ne,n(e.$t("wallet.deleteWarning")),1),l("div",re,[l("div",ie,[l("div",de,[W(i,{class:"w-8/12 ml-auto mr-auto",placeholder:e.$t("general.password"),errorMessage:e.$t("general.passwordRequired"),modelValue:t.walletPassword,"onUpdate:modelValue":a[1]||(a[1]=r=>t.walletPassword=r),icon:"lock"},null,8,["placeholder","errorMessage","modelValue"]),l("button",{onClick:a[2]||(a[2]=r=>t.deleteWallet(c.walletName)),class:"red-btn px-4 py-3 font-semibold cursor-pointer text-center ml-auto mt-3 mr-auto w-8/12 disabled:opacity-50 disabled:cursor-auto",disabled:t.disableDelete},n(e.$t("wallet.confirmDelete")),9,ce),l("div",{class:"text-center cursor-pointer text-xs font-semibold text-blue-link mt-3",onClick:a[3]||(a[3]=r=>{t.toggleModal=!t.toggleModal,t.walletPassword="",t.err=""})},n(e.$t("general.cancel")),1)])])])])])):u("",!0)]),_:1}),t.toggleModal?(s(),o("div",{key:0,onClick:a[4]||(a[4]=r=>t.toggleModal=!t.toggleModal),class:"fixed inset-0 bg-opacity-60 z-20 bg-gray-100"})):u("",!0)],64)}const we=M(K,[["render",me]]),ue=q({name:"WalletTile",components:{ConfirmDeleteWalletModal:we},props:{wallet:{type:Object,default:null}},setup(e){const a=v(!1);B();const c="^[^ ]{8,}$",t=v(""),p=v(""),m=_(()=>!t.value.match(c)),i=_(()=>{let w=!0;return e.wallet.name==d.currentLoggedInWallet.name&&(w=!1),w}),r=()=>{a.value=!0},f=w=>{var y=h.chainNetworkName;d.wallets.removeWalletByNetworkNameAndName(y,w)},C=w=>{var y=h.chainNetworkName;const A=d.wallets.filterByNetworkNameAndName(y,w).convertToSimpleWallet();let U=P.enc.Utf8.parse(JSON.stringify(A)),j=P.enc.Base64.stringify(U);const O=Date.now(),g=new Date(O),R=g.getFullYear(),S=g.getMonth()+1<10?`0${g.getMonth()+1}`:g.getMonth()+1,z=g.getDate()<10?`0${g.getDate()}`:g.getDate(),H=new Blob([j],{type:""}),D=window.URL.createObjectURL(H),x=document.createElement("a");x.style.display="none",x.href=D,x.download=`${w}_${y}_${R}-${S}-${z}.wlt`,document.body.appendChild(x),x.click(),window.URL.revokeObjectURL(D)},b=_(()=>d.currentLoggedInWallet?d.currentLoggedInWallet.name:""),k=_(()=>d.currentLoggedInWallet);return{exportWallet:C,getModal:r,showModal:a,disableDelete:m,err:p,isLogin:k,walletState:d,deleteWallet:f,currentWalletName:b,canDelete:i}}}),ge={class:"p-1"},_e={class:"bg-white border rounded-lg border-gray-200 shadow-lg group"},pe={class:"flex justify-between items-center"},fe={class:"ml-4 mt-5 mb-5 mr-5 text-txs text-left"},ve={key:0,class:"font-bold text-blue-primary flex items-center"},be={key:0,class:"w-36 inline truncate"},xe={key:1,class:"w-36 inline-block truncate"},he={key:2,class:"ml-0 mt-4"},ke={key:1,class:"font-bold text-blue-primary flex items-center"},ye={class:"w-32 inline-block truncate"},$e={class:"text-txs pt-1 text-black-400"},We={key:0,class:"xl:mr-3 xl:ml-0 text-xs font-bold"},Ne=l("svg",{class:"color-blue-primary",id:"file_upload_black_24dp",xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 20 20"},[l("path",{d:"M15.667,13.167v2.5h-10v-2.5H4v2.5a1.672,1.672,0,0,0,1.667,1.667h10a1.672,1.672,0,0,0,1.667-1.667v-2.5Zm-9.167-5L7.675,9.342l2.158-2.15V14H11.5V7.192l2.158,2.15,1.175-1.175L10.667,4Z",fill:"#007cff"})],-1),Le={class:"font-semibold text-txs"},Me={key:1,class:"xl:mr-1 xl:ml-5 text-xs font-bold"};function Ce(e,a,c,t,p,m){const i=$("ConfirmDeleteWalletModal");return s(),o("div",ge,[l("div",_e,[l("div",pe,[l("div",fe,[e.isLogin?(s(),o("div",ve,[e.isLogin?(s(),o("div",be,[L(n(e.wallet.name)+" ",1),e.canDelete?(s(),I(i,{key:0,walletName:e.wallet.name},null,8,["walletName"])):u("",!0)])):u("",!0),e.isLogin?u("",!0):(s(),o("div",xe,n(e.wallet.name),1)),e.isLogin?u("",!0):(s(),o("div",he))])):(s(),o("div",ke,[l("div",ye,n(e.wallet.name),1)])),l("div",$e,[L(n(e.$t("wallet.numberOfAccounts"))+": ",1),l("span",null,n(e.wallet.accounts.length),1)])]),e.isLogin?(s(),o("div",We,[l("button",{class:"bg-transparent font-bold py-2 ml-2 mr-2 rounded inline-flex items-center",onClick:a[0]||(a[0]=r=>e.exportWallet(e.wallet.name))},[Ne,l("span",Le,n(e.$t("general.export")),1)])])):(s(),o("div",Me,[e.isLogin?u("",!0):(s(),I(i,{key:0,walletName:e.wallet.name},null,8,["walletName"]))]))])])])}const De=M(ue,[["render",Ce]]);const Ie={name:"ViewWallets",components:{WalletTile:De},setup(){const e=_(()=>d.currentLoggedInWallet);return{wallets:_(()=>{var c=d.wallets.filterByNetworkName(h.chainNetworkName);return c}),walletState:d,networkState:h,isLogin:e}}},Pe={key:0,class:"mt-8 text-center w-full"},Be={class:"inline-block"};function Ve(e,a,c,t,p,m){const i=$("WalletTile"),r=$("router-link");return s(),o("div",{class:N(`${t.isLogin?"lg:ml-60":""} p-1 text-gray-700`)},[l("h1",{class:N(`${t.isLogin?"":"text-white"} text-lg mt-10 xl:mb-5 md:text-xl sm:mb-5  text-center`)},n(e.$t("wallet.myWallets")),3),l("div",{class:N(`${t.isLogin?"":"text-white"} text-sm md:px-5 xl:px-5 xl:mt-0 text-center`)},n(e.$t("wallet.walletsAvailable")),3),(s(!0),o(T,null,Y(t.wallets,f=>(s(),o("div",{class:"mt-4",key:f},[W(i,{class:"w-96 ml-auto mr-auto",wallet:f},null,8,["wallet"])]))),128)),t.isLogin?u("",!0):(s(),o("div",Pe,[l("div",Be,[W(r,{to:{name:"Home"},class:"flex items-center text-xs blue-btn py-4 px-10"},{default:V(()=>[L(n(e.$t("wallet.backHome")),1)]),_:1})])]))],2)}const Oe=M(Ie,[["render",Ve],["__scopeId","data-v-fe0d9a71"]]);export{Oe as default};
