import{d as y,j as x,g as p,r as k,o as L,f as S,e as t,l as a,b as l,s as n,t as r,v as i,H as C,E as $,w as u}from"./index-5ab99b99.js";import{_ as V}from"./icon-upload-6def9237.js";import{s as c,a as P}from"./column.esm-097ca995.js";import{s as B}from"./multiselect.esm-cd639ee7.js";const E={class:"w-9/12 ml-auto mr-auto mt-5"},I={class:"flex text-xs font-semibold border-b-2 menu_title_div"},T={class:"w-18 text-center border-b-2 pb-3 border-yellow-500"},A={class:"mt-10"},N={class:"text-md my-5 font-semibold"},R={class:"flex cursor-pointer"},W={class:"border-2 border-blue-primary p-1 mb-3 w-16 text-white bg-blue-primary text-xs text-center font-semibold"},D={class:"text-tsm"},F={class:"mt-4"},O=y({__name:"ViewServicesAddressBookExportSelect",setup(H){x();const m=$(),h=m==null?void 0:m.appContext.config.globalProperties.emitter,d=p([]),g=p(),_=p([]),f=()=>{u.currentLoggedInWallet&&(d.value=[],u.currentLoggedInWallet.contacts!=null&&u.currentLoggedInWallet.contacts.length>0&&(u.currentLoggedInWallet.contacts.forEach(e=>{d.value.push(e),_.value.push(e.group)}),d.value.sort((e,s)=>e.name>s.name?1:e.name<s.name?-1:0)))};f(),h.on("REFRESH_CONTACT_LIST",e=>{e&&setTimeout(()=>{f()},1e3)});const v=p(),w=e=>{v.value.exportCSV(e)};return(e,s)=>{const b=k("router-link");return L(),S("div",null,[t("div",E,[t("div",I,[a(b,{to:{name:"ViewServicesAddressBook"},class:"w-18 text-center border-b pb-3"},{default:l(()=>[n(r(e.$t("general.list")),1)]),_:1}),a(b,{to:{name:"ViewServicesAddressBookImport"},class:"w-18 text-center border-b pb-3"},{default:l(()=>[n(r(e.$t("general.import")),1)]),_:1}),t("div",T,r(e.$t("general.export")),1)]),t("div",A,[t("div",N,r(e.$t("addressBook.exportContacts")),1),t("div",R,[a(b,{to:{name:"ViewServicesAddressBookExport"},class:"border-2 border-blue-primary p-1 mb-3 w-16 text-blue-primary text-xs text-center font-semibold"},{default:l(()=>[n(r(e.$t("general.group")),1)]),_:1}),t("div",W,r(e.$t("general.name")),1)])]),t("div",null,[t("div",D,r(e.$t("addressBook.selectExportContacts")),1),t("div",F,[a(i(B),{modelValue:g.value,"onUpdate:modelValue":s[0]||(s[0]=o=>g.value=o),options:d.value,optionLabel:"name",placeholder:"Contacts",class:"w-60 mr-2"},null,8,["modelValue","options"])])]),t("div",{onClick:s[1]||(s[1]=o=>w(o)),class:"cursor-pointer mt-5 py-2 px-5 rounded-md w-36 bg-blue-primary text-white text-tsm drop-shadow-lg filter hover:bg-blue-600 transition-all duration-500"},[s[2]||(s[2]=t("img",{src:V,class:"inline-block mr-4 relative top-1"},null,-1)),n(r(e.$t("general.export")),1)]),a(i(P),{class:"hidden",value:g.value,ref_key:"dt",ref:v,paginator:!0,rows:10,responsiveLayout:"scroll",scrollDirection:"horizontal",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",currentPageReportTemplate:""},{default:l(()=>[a(i(c),{field:"name",header:e.$t("general.label"),headerStyle:"width:30%"},{body:l(({data:o})=>[n(r(o.name),1)]),_:1},8,["header"]),a(i(c),{field:"address",header:e.$t("general.address"),headerStyle:"width:55%"},{body:l(({data:o})=>[n(r(i(C).createAddress(o.address).pretty()),1)]),_:1},8,["header"]),a(i(c),{field:"group",header:e.$t("general.group"),headerStyle:"width:30%"},{body:l(({data:o})=>[n(r(o.group),1)]),_:1},8,["header"]),a(i(c),{field:"publicKey",header:e.$t("general.publicKey"),headerStyle:"width:55%"},{body:l(({data:o})=>[n(r(o.publicKey),1)]),_:1},8,["header"])]),_:1},8,["value"])])])}}});export{O as default};
