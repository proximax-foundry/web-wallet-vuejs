import"./vue-86063517.js";import{d as V}from"./tsjs-xpx-chain-sdk-84426b6a.js";import{_ as z,i as ee,w as v,A as D,H as R,n as j}from"./index-5a7a9eaf.js";import"./assetsUtils-3fa70e1b.js";import{S as te}from"./SelectInputPluginClean-934a5218.js";import{g as se,f as oe,e as re}from"./primevue-e09f7e84.js";import{u as ie}from"./vue-i18n-728f748b.js";import{_ as ne}from"./icon-more-options-3f3cfda9.js";import{_ as ae}from"./icon-link-new-caba1c4b.js";import{r as b,x as le,aR as de,t as ce,c as E,B as S,o as n,z as d,a as k,m as p,A as s,g as r,l as _,b as w,F as $,k as O,e as f,u as B,aW as me,aT as pe}from"./@vue-a9ecc9f1.js";import{_ as ue}from"./icon-plus-7207f329.js";import"./@js-joda-d98eb16f.js";import"./rxjs-1250b26d.js";import"./tslib-8dbab242.js";import"./@noble-f8eff84a.js";import"./js-sha3-d7d4f583.js";import"./node-stdlib-browser-23a8bc7f.js";import"./buffer-6d367910.js";import"./base64-js-50a5cdf9.js";import"./ieee754-44f7831e.js";import"./process-2209b2b3.js";import"./utf8-c941a4a0.js";import"./bip39-936aefa9.js";import"./axios-b48d2c29.js";import"./flatbuffers-edc4f8d7.js";import"./ws-0a714537.js";import"./vue-router-21fffbbf.js";import"./crypto-js-e64ac54c.js";import"./crypto-browserify-4fd8cccd.js";import"./randombytes-685e9383.js";import"./safe-buffer-c463177b.js";import"./create-hash-92c04a28.js";import"./inherits-804453d8.js";import"./md5.js-8d474739.js";import"./hash-base-bb85fc42.js";import"./readable-stream-2241ee9e.js";import"./events-86ccc6d8.js";import"./util-06f7ff32.js";import"./is-arguments-86164331.js";import"./has-tostringtag-7c6352d6.js";import"./has-symbols-cd7870b9.js";import"./call-bind-9e7f09da.js";import"./get-intrinsic-f35014ba.js";import"./has-proto-8ede3a55.js";import"./function-bind-68631a08.js";import"./has-ab8e2922.js";import"./is-generator-function-06dfaf9d.js";import"./which-typed-array-cf6b6a29.js";import"./for-each-f57c5052.js";import"./is-callable-7492318c.js";import"./available-typed-arrays-61974ec7.js";import"./gopd-bab4d6bd.js";import"./is-typed-array-037eef20.js";import"./util-deprecate-c3aabb3c.js";import"./string_decoder-ef7b01fe.js";import"./ripemd160-58dcfa02.js";import"./sha.js-cea3da2e.js";import"./cipher-base-aee0e03d.js";import"./stream-browserify-7496a08f.js";import"./create-hmac-e8b5ea4a.js";import"./browserify-sign-a708a95f.js";import"./browserify-rsa-bfbdcbb6.js";import"./bn.js-1ae23332.js";import"./elliptic-75e883ee.js";import"./minimalistic-assert-4cc49674.js";import"./minimalistic-crypto-utils-6f869a51.js";import"./brorand-03f0f79d.js";import"./hash.js-4f5dfe73.js";import"./hmac-drbg-87799258.js";import"./parse-asn1-465c125b.js";import"./asn1.js-405e93e4.js";import"./safer-buffer-2ac6237e.js";import"./evp_bytestokey-e91543fa.js";import"./browserify-aes-ce20a0e6.js";import"./buffer-xor-87a7236a.js";import"./pbkdf2-e2ae8643.js";import"./browserify-cipher-c4c37ca3.js";import"./browserify-des-3f7e64d9.js";import"./des.js-d262604a.js";import"./diffie-hellman-c8260aab.js";import"./miller-rabin-de27bf02.js";import"./create-ecdh-ffe720e9.js";import"./public-encrypt-fc0568a2.js";import"./randomfill-2874e5f1.js";import"./mathjs-2a513dae.js";import"./@babel-484168fe.js";import"./typed-function-4896e4f1.js";import"./decimal.js-d133ee8e.js";import"./complex.js-cf2520e8.js";import"./fraction.js-39e7906a.js";import"./javascript-natural-sort-c4dd0c27.js";import"./escape-latex-c8a96e7a.js";import"./seedrandom-c8f991ad.js";import"./tiny-emitter-56d49cfd.js";import"./crypto-random-string-d158262e.js";import"./jose-92e5544c.js";import"./vue-loading-overlay-b89251b1.js";import"./jspdf-30014160.js";import"./fflate-8981c52c.js";import"./vue-debounce-3bbbf8c6.js";import"./mitt-f7ef348c.js";/* empty css                   */import"./maska-6f10db43.js";import"./@fortawesome-014b81f2.js";import"./vue3-blocks-tree-e53499e3.js";import"./@intlify-16888cd3.js";import"./@vueform-4d3340af.js";const he={components:{DataTable:se,Column:oe,SelectInputPluginClean:te},name:"AssetDataTable",props:{assets:Array,account:ee,address:String},directives:{tooltip:re},setup(o){const{t:u}=ie(),x=b(!1),e=()=>{window.innerWidth<"1024"?x.value=!1:x.value=!0};e(),le(()=>{window.addEventListener("resize",e)}),de(()=>{window.removeEventListener("resize",e)});const L=B().appContext.config.globalProperties.emitter,y=b([]),c=b([]),A=b(""),{address:P}=ce(o);o.address&&(A.value=V.Address.createFromRawAddress(P.value).plain());const t=E(()=>{let i=[];return i.push({value:"",label:u("general.showAll")}),v.currentLoggedInWallet.accounts.forEach(h=>{i.push({value:h.address,label:h.name})}),v.currentLoggedInWallet.others.forEach(h=>{i.push({value:h.address,label:h.name})}),i}),l=E(()=>{let i=[];if(g.value){let a=v.currentLoggedInWallet.accounts.find(m=>m.address==g.value)||v.currentLoggedInWallet.others.find(m=>m.address==g.value);if(!a)return[];a.assets.filter(m=>m.creator===a.publicKey).forEach(m=>{i.push({asset:m,account:a})})}else v.currentLoggedInWallet.accounts.forEach(a=>{a.assets.filter(m=>m.creator===a.publicKey).forEach(m=>{i.push({asset:m,account:a})})}),v.currentLoggedInWallet.others.forEach(a=>{a.assets.filter(m=>m.creator===a.publicKey).forEach(m=>{i.push({asset:m,account:a})})});let h=[];for(let a=0;a<i.length;++a){let m=[],C=i[a].asset.idHex;if(C!=D.nativeToken.assetId){let W=i[a].account.findNamespaceNameByAsset(C);for(let T=0;T<W.length;++T){let Z={name:W[T].name};m.push(Z)}let Y={i:a,idHex:C,owner:i[a].asset.creator,address:V.PublicAccount.createFromPublicKey(i[a].asset.creator,D.networkType).address.pretty(),amount:R.toCurrencyFormat(i[a].asset.amount,i[a].asset.divisibility),supply:R.toCurrencyFormat(i[a].asset.getExactSupply(),i[a].asset.divisibility),linkedNamespace:m,height:i[a].asset.height,explorerLink:D.isReady?j.currentNetworkProfile.chainExplorer.url+"/"+j.currentNetworkProfile.chainExplorer.assetInfoRoute+"/"+C:""};h.push(Y)}}return h}),g=b(""),H=b("border border-gray-400"),F=i=>{M.value=i,c.value[i]=!c.value[i]},K=i=>{I.value=i,y.value[i]=!y.value[i]};L.on("PAGE_CLICK",()=>{for(var i=0;i<c.value.length;)i!=M.value&&(c.value[i]=!1),i++;for(var h=0;h<y.value.length;)h!=I.value&&(y.value[h]=!1),h++});const I=b("empty"),M=b("empty"),U=i=>{I.value=i},G=()=>{I.value="empty"},Q=i=>{M.value=i},X=()=>{M.value="empty"},q=i=>{if(v.currentLoggedInWallet){let h=v.currentLoggedInWallet.accounts.find(a=>a.address==i)||v.currentLoggedInWallet.others.find(a=>a.address==i);return h?h.name:""}else return""},J=E(()=>v.currentLoggedInWallet?v.currentLoggedInWallet.name:"");return{borderColor:H,showMenu:K,showNsList:F,isMenuShow:y,isNsListShow:c,hoverOverMenu:U,hoverOutMenu:G,hoverOverNsList:Q,hoverOutNsList:X,listAccounts:t,filterAssets:g,walletState:v,generateAssetDatatable:l,selectedAddress:A,wideScreen:x,getNameByAddress:q,walletName:J}}},ve=o=>(me("data-v-d33f9b7f"),o=o(),pe(),o),ge={class:"flex justify-between"},_e={class:"text-sm pt-1 text-gray-700 ml-2 lg:ml-7"},fe={class:"uppercase text-xxs text-gray-300 font-bold mb-1"},be={class:"uppercase font-bold text-txs"},ye={class:"uppercase text-xxs text-gray-300 font-bold mb-1 mt-5"},we={class:"uppercase font-bold text-txs"},xe={key:0},ke={key:0},Ne={class:"mb-1 text-txs"},Le={key:1},Ae={class:"mb-1 text-txs"},Se=["onClick","onMouseover"],Ie={class:"font-bold"},Me=["onMouseover"],Ce={key:1},$e={class:"uppercase text-xxs text-gray-300 font-bold mb-1"},Oe={class:"uppercase font-bold text-txs"},Pe={class:"uppercase text-xxs text-gray-300 font-bold mt-2 mb-1"},Te={class:"uppercase font-bold text-txs"},De={class:"uppercase text-xxs text-gray-300 font-bold mt-2 mb-1"},Ee={class:"uppercase font-bold text-txs"},We={class:"uppercase font-bold text-txs"},Ve={key:0},Re={key:0},je={class:"mb-1 text-txs"},ze={key:1},Be={class:"mb-1 text-txs"},He=["onClick","onMouseover"],Fe={class:"font-bold"},Ke=["onMouseover"],Ue={key:1},Ge={class:"uppercase text-txs"},Qe={class:"uppercase font-bold text-txs"},Xe={class:"text-txs"},qe=["onMouseover"],Je=["onClick"],Ye={key:0,class:"mt-1 pop-option absolute right-0 w-32 rounded-sm shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none z-10 text-left lg:mr-2",role:"menu","aria-orientation":"vertical","aria-labelledby":"options-menu"},Ze={role:"none",class:"my-2"},et=["href"],tt=ve(()=>s("img",{src:ae,class:"inline-block ml-2 relative -top-1"},null,-1));function st(o,u,x,e,N,L){const y=S("SelectInputPluginClean"),c=S("Column"),A=S("router-link"),P=S("DataTable");return n(),d("div",null,[k(P,{value:e.generateAssetDatatable,paginator:!0,rows:20,responsiveLayout:"scroll",scrollDirection:"horizontal",alwaysShowPaginator:!1,paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",currentPageReportTemplate:"",tableStyle:"",class:"w-full"},{header:p(()=>[s("div",ge,[s("span",_e,r(o.$t("general.asset",2))+" ("+r(e.getNameByAddress(e.filterAssets)==""?o.$t("asset.assetCreatedInWallet",{walletName:e.walletName}):o.$t("asset.assetCreatedByAcc",{accountName:e.getNameByAddress(e.filterAssets)}))+")",1),k(y,{modelValue:e.filterAssets,"onUpdate:modelValue":u[0]||(u[0]=t=>e.filterAssets=t),options:e.listAccounts,selectDefault:e.selectedAddress,class:"w-48 lg:w-60 inline-block"},null,8,["modelValue","options","selectDefault"])])]),empty:p(()=>[_(r(o.$t("general.noRecord")),1)]),loading:p(()=>[_(r(o.$t("dashboard.fetchingTx")),1)]),default:p(()=>[e.wideScreen?f("v-if",!0):(n(),w(c,{key:0,style:{width:"250px"}},{body:p(({data:t})=>[s("div",null,[s("div",fe,r(o.$t("general.assetId")),1),s("div",be,r(t.idHex),1)]),s("div",null,[s("div",ye,r(o.$t("general.namespace")),1),s("div",we,[t.linkedNamespace.length>0?(n(),d("div",xe,[t.linkedNamespace.length==1?(n(),d("div",ke,[(n(!0),d($,null,O(t.linkedNamespace,(l,g)=>(n(),d("div",{key:g},[s("div",Ne,r(l.name),1)]))),128))])):(n(),d("div",Le,[s("div",Ae,[_(r(t.linkedNamespace[0].name)+" ",1),s("div",{class:"inline-block border border-gray-300 p-1 rounded-sm ml-2 cursor-pointer",onClick:l=>e.showNsList(t.i),onMouseover:l=>e.hoverOverNsList(t.i),onMouseout:u[1]||(u[1]=(...l)=>e.hoverOutNsList&&e.hoverOutNsList(...l))},[_("+ "),s("span",Ie,r(t.linkedNamespace.length-1),1)],40,Se)]),e.isNsListShow[t.i]?(n(),d("div",{key:0,class:"border p-3 w-28 border-gray-100 shadow-sm absolute bg-white",onMouseover:l=>e.hoverOverNsList(t.i),onMouseout:u[2]||(u[2]=(...l)=>e.hoverOutNsList&&e.hoverOutNsList(...l))},[(n(!0),d($,null,O(t.linkedNamespace.slice(1),(l,g)=>(n(),d("div",{key:g},r(l.name),1))),128))],40,Me)):f("v-if",!0)]))])):(n(),d("div",Ce,r(o.$t("general.noLinkedNamespace")),1))])])]),_:1})),e.wideScreen?f("v-if",!0):(n(),w(c,{key:1,style:{width:"250px"}},{body:p(({data:t})=>[s("div",null,[s("div",$e,r(o.$t("general.supply")),1),s("div",Oe,r(t.supply),1),s("div",Pe,r(o.$t("general.amount")),1),s("div",Te,r(t.amount),1),s("div",De,r(o.$t("general.block")),1),s("div",Ee,r(t.height),1)])]),_:1})),e.wideScreen?(n(),w(c,{key:2,style:{width:"50px"}})):f("v-if",!0),e.wideScreen?(n(),w(c,{key:3,field:"assetId",header:o.$t("general.assetId"),style:{"`wideScreen?'min-width":"200px'?'width: 200px'`"}},{body:p(({data:t})=>[s("span",We,r(t.idHex),1)]),_:1},8,["header"])):f("v-if",!0),e.wideScreen?(n(),w(c,{key:4,field:"linkedNamespace",header:o.$t("general.namespace"),style:{"`wideScreen?'min-width":"180px'?'width: 180px'`"}},{body:p(({data:t})=>[t.linkedNamespace.length>0?(n(),d("div",Ve,[t.linkedNamespace.length==1?(n(),d("div",Re,[(n(!0),d($,null,O(t.linkedNamespace,(l,g)=>(n(),d("div",{key:g},[s("div",je,r(l.name),1)]))),128))])):(n(),d("div",ze,[s("div",Be,[_(r(t.linkedNamespace[0].name)+" ",1),s("div",{class:"inline-block border border-gray-300 p-1 rounded-sm ml-2 cursor-pointer",onClick:l=>e.showNsList(t.i),onMouseover:l=>e.hoverOverNsList(t.i),onMouseout:u[3]||(u[3]=(...l)=>e.hoverOutNsList&&e.hoverOutNsList(...l))},[_("+ "),s("span",Fe,r(t.linkedNamespace.length-1),1)],40,He)]),e.isNsListShow[t.i]?(n(),d("div",{key:0,class:"border p-3 w-28 border-gray-100 shadow-sm absolute bg-white",onMouseover:l=>e.hoverOverNsList(t.i),onMouseout:u[4]||(u[4]=(...l)=>e.hoverOutNsList&&e.hoverOutNsList(...l))},[(n(!0),d($,null,O(t.linkedNamespace.slice(1),(l,g)=>(n(),d("div",{key:g},r(l.name),1))),128))],40,Ke)):f("v-if",!0)]))])):(n(),d("div",Ue,r(o.$t("general.noLinkedNamespace")),1))]),_:1},8,["header"])):f("v-if",!0),e.wideScreen?(n(),w(c,{key:5,field:"supply",header:o.$t("general.supply"),style:{"`wideScreen?'min-width":"180px'?'width: 180px'`"}},{body:p(({data:t})=>[s("span",Ge,r(t.supply),1)]),_:1},8,["header"])):f("v-if",!0),e.wideScreen?(n(),w(c,{key:6,field:"amount",header:o.$t("general.amount"),style:{"`wideScreen?'min-width":"180px'?'width: 180px'`"}},{body:p(({data:t})=>[s("span",Qe,r(t.amount),1)]),_:1},8,["header"])):f("v-if",!0),e.wideScreen?(n(),w(c,{key:7,field:"height",header:o.$t("general.block"),style:{"`wideScreen?'min-width":"180px'?'width: 180px'`"}},{body:p(({data:t})=>[s("span",Xe,r(t.height),1)]),_:1},8,["header"])):f("v-if",!0),k(c,{style:{width:"50px"}},{body:p(({data:t})=>[s("div",{class:"text-txs text-center lg:mr-2",onMouseover:l=>e.hoverOverMenu(t.i),onMouseout:u[5]||(u[5]=(...l)=>e.hoverOutMenu&&e.hoverOutMenu(...l))},[s("img",{src:ne,class:"w-4 h-4 cursor-pointer inline-block",onClick:l=>e.showMenu(t.i)},null,8,Je),e.isMenuShow[t.i]?(n(),d("div",Ye,[s("div",Ze,[k(A,{to:{name:"ViewServicesAssetsModifySupplyChange",params:{assetId:t.idHex,address:t.address}},class:"block hover:bg-gray-100 transition duration-200 p-2 z-20"},{default:p(()=>[_(r(o.$t("general.modifySupply")),1)]),_:2},1032,["to"]),k(A,{to:{name:"ViewServicesAssetsLinkToNamespace",params:{assetId:t.idHex,address:t.address}},class:"block hover:bg-gray-100 transition duration-200 p-2 z-20"},{default:p(()=>[_(r(o.$t("general.linkToNamespace")),1)]),_:2},1032,["to"]),k(A,{to:{name:"ViewUpdateAssetMetadata",params:{targetId:t.idHex}},class:"block hover:bg-gray-100 transition duration-200 p-2 z-20"},{default:p(()=>[_("Update Metadata")]),_:2},1032,["to"]),s("a",{href:t.explorerLink,class:"block hover:bg-gray-100 transition duration-200 p-2 z-20",target:"_new"},[_(r(o.$t("general.viewInExplorer")),1),tt],8,et)])])):f("v-if",!0)],40,qe)]),_:1})]),_:1},8,["value"])])}const ot=z(he,[["render",st],["__scopeId","data-v-d33f9b7f"],["__file","/home/runner/work/web-wallet-vuejs/web-wallet-vuejs/src/modules/services/submodule/assets/components/AssetDataTable.vue"]]),rt="/web-wallet-vuejs/assets/asset_default-634344fc.svg",it={name:"ViewServicesAssets",components:{AssetDataTable:ot},props:{address:String},setup(){const o=b(0),x=B().appContext.config.globalProperties.emitter,e=b([]);return v.currentLoggedInWallet&&(v.currentLoggedInWallet.accounts.forEach(N=>{N.assets.forEach(L=>{e.value.push(L)})}),v.currentLoggedInWallet.others.forEach(N=>{N.assets.forEach(L=>{e.value.push(L)})})),x.on("TXN_CONFIRMED",N=>{setTimeout(()=>{++o.value},1e3)}),{assets:e,defaultIndex:o,walletState:v}}},nt={class:"ml-2 mr-2 lg:ml-auto lg:mr-auto mt-5"},at={key:0},lt=s("img",{src:ue,class:"inline-block mr-2"},null,-1),dt={key:1,class:"lg:w-9/12 ml-2 mr-2 lg:ml-auto lg:mr-auto mt-5"},ct={class:"flex justify-between text-sm mb-5"},mt={class:"text-gray-700"},pt={class:"border border-gray-200 filter drop-shadow-xl py-2 sm:py-14 px-2 sm:px-28 text-center bg-white"},ut=s("img",{src:rt,class:"inline-block h-18 w-18"},null,-1),ht={class:"text-gray-700 text-sm my-5"},vt={class:"text-gray-600 text-tsm my-5"},gt={class:"sm:grid sm:grid-cols-2 mt-10 lg:mt-16"},_t={class:"mb-8"},ft={href:"https://bcdocs.xpxsirius.io/docs/built-in-features/mosaic/",target:"_new",class:"sm:h-9 lg:h-5 text-blue-primary font-bold text-tsm flex items-start"},bt={class:"text-gray-400 text-xs lg:text-tsm my-3 sm:pr-2"},yt={class:"mb-8"},wt={href:"https://t.me/proximaxhelpdesk",target:"_new",class:"sm:h-9 lg:h-5 text-blue-primary font-bold text-tsm items-start flex"},xt={class:"text-gray-400 text-tsm my-3"};function kt(o,u,x,e,N,L){const y=S("AssetDataTable"),c=S("router-link");return n(),d("div",null,[s("div",nt,[e.assets.length>0?(n(),d("div",at,[(n(),w(y,{class:"mt-10 w-full",key:e.walletState,address:x.address},null,8,["address"])),k(c,{to:{name:"ViewServicesAssetsCreate"},class:"mt-10 lg:mt-0 bg-blue-primary px-5 py-3 text-gray-100 text-xs font-bold rounded-md flex items-center justify-center w-44"},{default:p(()=>[lt,_(r(o.$t("asset.createNewAsset")),1)]),_:1})])):(n(),d("div",dt,[s("div",ct,[s("div",null,[s("span",mt,r(o.$t("general.asset",2)),1)])]),s("div",pt,[ut,s("div",ht,r(o.$t("asset.noAsset")),1),s("div",vt,r(o.$t("asset.assetDescription")),1),k(c,{to:{name:"ViewServicesAssetsCreate"},class:"bg-blue-primary py-2 px-7 rounded-lg text-white font-bold mt-4 inline-block"},{default:p(()=>[_(r(o.$t("asset.createAssets",2)),1)]),_:1})]),s("div",gt,[s("div",_t,[s("a",ft,r(o.$t("general.assetQues")),1),s("div",bt,r(o.$t("asset.assetAns")),1)]),s("div",yt,[s("a",wt,r(o.$t("general.feedback")),1),s("div",xt,r(o.$t("general.feedbackDescription")),1)])])]))])])}const No=z(it,[["render",kt],["__file","/home/runner/work/web-wallet-vuejs/web-wallet-vuejs/src/modules/services/submodule/assets/views/ViewServicesAssets.vue"]]);export{No as default};
