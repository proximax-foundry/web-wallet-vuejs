import{d as $,j as S,g as b,c as f,w,ai as V,H as y,r as h,o as C,f as P,e as o,l as n,b as d,s as i,t as a,O as B,P as A,v as u}from"./index-5ab99b99.js";import{_ as L}from"./icon-search_black-a392bb0f.js";import{_ as D}from"./icon-upload-6def9237.js";import{s as c,a as K}from"./column.esm-097ca995.js";const N={class:"w-9/12 ml-auto mr-auto mt-5"},I={class:"flex text-xs font-semibold border-b-2 menu_title_div"},T={class:"w-18 text-center border-b-2 pb-3 border-yellow-500"},F={class:"mt-10"},G={class:"text-md my-5 font-semibold"},M={class:"flex cursor-pointer"},U={class:"border-2 border-blue-primary p-1 mb-3 w-16 text-white bg-blue-primary text-xs text-center font-semibold"},j={class:"text-tsm"},E={class:"my-4 flex flex-wrap gap-2 justify-between"},R={class:"flex gap-3 items-center"},H={class:"w-60 px-3 py-1 flex justify-between mb-3 mt-3 md:mt-0 md:mb-0 border border-gray-200"},O=["placeholder"],X=$({__name:"ViewServicesAddressBookExport",setup(W){const{t:g}=S(),p=b({value:"",label:g("general.showAll")}),x=f(()=>{var e;const r=[...new Set((e=w.currentLoggedInWallet)==null?void 0:e.contacts.map(s=>s.group))].filter(s=>s!="-none-");return[{value:"",label:g("general.showAll")}].concat(r.map(s=>({label:s,value:s})))}),m=b({global:{value:null,matchMode:V.CONTAINS}}),_=f(()=>{var r;const t=(r=w.currentLoggedInWallet)==null?void 0:r.contacts.map(e=>({name:e.name,address:y.createAddress(e.address).pretty(),group:e.group,publicKey:e.publicKey?e.publicKey:null}));return p.value.value==""?t.sort((e,s)=>e.name>s.name?1:e.name<s.name?-1:0):t.filter(e=>e.group==p.value.value).sort((e,s)=>e.name>s.name?1:e.name<s.name?-1:0)}),v=b(),k=()=>{v.value.exportCSV()};return(t,r)=>{const e=h("router-link"),s=h("Dropdown");return C(),P("div",null,[o("div",N,[o("div",I,[n(e,{to:{name:"ViewServicesAddressBook"},class:"w-18 text-center border-b pb-3"},{default:d(()=>[i(a(t.$t("general.list")),1)]),_:1}),n(e,{to:{name:"ViewServicesAddressBookImport"},class:"w-18 text-center border-b pb-3"},{default:d(()=>[i(a(t.$t("general.import")),1)]),_:1}),o("div",T,a(t.$t("general.export")),1)]),o("div",F,[o("div",G,a(t.$t("addressBook.exportContacts")),1),o("div",M,[o("div",U,a(t.$t("general.group")),1),n(e,{to:{name:"ViewServicesAddressBookExportSelect"},class:"border-2 border-blue-primary p-1 mb-3 w-16 text-blue-primary text-xs text-center font-semibold"},{default:d(()=>[i(a(t.$t("general.name")),1)]),_:1})]),o("div",j,a(t.$t("addressBook.exportBackUpContact")),1),o("div",E,[n(s,{modelValue:p.value,"onUpdate:modelValue":r[0]||(r[0]=l=>p.value=l),options:x.value,"option-label":"label",placeholder:"Group",class:"w-60 mr-2 text-xs"},null,8,["modelValue","options"]),o("div",R,[o("div",H,[B(o("input",{"onUpdate:modelValue":r[1]||(r[1]=l=>m.value.global.value=l),type:"text",class:"w-28 outline-none text-xs float-left",placeholder:t.$t("general.search")},null,8,O),[[A,m.value.global.value]]),r[4]||(r[4]=o("img",{src:L,class:"inline-block"},null,-1))]),o("div",{onClick:r[2]||(r[2]=l=>k()),class:"cursor-pointer px-5 py-0.5 rounded-md w-36 bg-blue-primary text-white text-tsm drop-shadow-lg filter hover:bg-blue-600 transition-all duration-500"},[r[5]||(r[5]=o("img",{src:D,class:"inline-block mr-4 relative"},null,-1)),i(a(t.$t("general.export")),1)])])])]),n(u(K),{value:_.value,ref_key:"dt",ref:v,filters:m.value,"onUpdate:filters":r[3]||(r[3]=l=>m.value=l),paginator:!0,rows:10,responsiveLayout:"scroll",scrollDirection:"horizontal",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",currentPageReportTemplate:"",globalFilterFields:["group"]},{default:d(()=>[n(u(c),{field:"name",header:t.$t("general.label"),headerStyle:"width:30%"},{body:d(({data:l})=>[i(a(l.name),1)]),_:1},8,["header"]),n(u(c),{field:"address",header:t.$t("general.address"),headerStyle:"width:55%"},{body:d(({data:l})=>[i(a(u(y).createAddress(l.address).pretty()),1)]),_:1},8,["header"]),n(u(c),{field:"group",header:t.$t("general.group"),headerStyle:"width:30%"},{body:d(({data:l})=>[i(a(l.group),1)]),_:1},8,["header"]),n(u(c),{field:"publicKey",header:t.$t("general.publicKey"),headerStyle:"width:55%"},{body:d(({data:l})=>[i(a(l.publicKey),1)]),_:1},8,["header"])]),_:1},8,["value","filters"])])])}}});export{X as default};
