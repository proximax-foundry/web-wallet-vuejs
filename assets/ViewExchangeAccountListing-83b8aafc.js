import"./vue-86063517.js";import{w as L,T as S,A as m,_ as k}from"./index-db436e65.js";import{d as w}from"./tsjs-xpx-chain-sdk-84426b6a.js";import{f as l,g as H}from"./primevue-e09f7e84.js";import{t as N}from"./jdenticon-e4458e79.js";import{l as E}from"./rxjs-1250b26d.js";import{d as T,c as A,r as D,w as R,B as M,o as C,z as V,A as e,g as n,a as s,m as a,l as B,bf as p}from"./@vue-a9ecc9f1.js";import"./@js-joda-d98eb16f.js";import"./vue-router-21fffbbf.js";import"./crypto-js-e64ac54c.js";import"./crypto-browserify-4fd8cccd.js";import"./randombytes-685e9383.js";import"./node-stdlib-browser-23a8bc7f.js";import"./buffer-6d367910.js";import"./base64-js-50a5cdf9.js";import"./ieee754-44f7831e.js";import"./process-2209b2b3.js";import"./safe-buffer-c463177b.js";import"./create-hash-92c04a28.js";import"./inherits-804453d8.js";import"./md5.js-8d474739.js";import"./hash-base-bb85fc42.js";import"./readable-stream-2241ee9e.js";import"./events-86ccc6d8.js";import"./util-06f7ff32.js";import"./is-arguments-86164331.js";import"./has-tostringtag-7c6352d6.js";import"./has-symbols-cd7870b9.js";import"./call-bind-9e7f09da.js";import"./get-intrinsic-f35014ba.js";import"./has-proto-8ede3a55.js";import"./function-bind-68631a08.js";import"./has-ab8e2922.js";import"./is-generator-function-06dfaf9d.js";import"./which-typed-array-cf6b6a29.js";import"./for-each-f57c5052.js";import"./is-callable-7492318c.js";import"./available-typed-arrays-61974ec7.js";import"./gopd-bab4d6bd.js";import"./is-typed-array-037eef20.js";import"./util-deprecate-c3aabb3c.js";import"./string_decoder-ef7b01fe.js";import"./ripemd160-58dcfa02.js";import"./sha.js-cea3da2e.js";import"./cipher-base-aee0e03d.js";import"./stream-browserify-7496a08f.js";import"./create-hmac-e8b5ea4a.js";import"./browserify-sign-a708a95f.js";import"./browserify-rsa-bfbdcbb6.js";import"./bn.js-1ae23332.js";import"./elliptic-75e883ee.js";import"./minimalistic-assert-4cc49674.js";import"./minimalistic-crypto-utils-6f869a51.js";import"./brorand-03f0f79d.js";import"./hash.js-4f5dfe73.js";import"./hmac-drbg-87799258.js";import"./parse-asn1-465c125b.js";import"./asn1.js-405e93e4.js";import"./safer-buffer-2ac6237e.js";import"./evp_bytestokey-e91543fa.js";import"./browserify-aes-ce20a0e6.js";import"./buffer-xor-87a7236a.js";import"./pbkdf2-e2ae8643.js";import"./browserify-cipher-c4c37ca3.js";import"./browserify-des-3f7e64d9.js";import"./des.js-d262604a.js";import"./diffie-hellman-c8260aab.js";import"./miller-rabin-de27bf02.js";import"./create-ecdh-ffe720e9.js";import"./public-encrypt-fc0568a2.js";import"./randomfill-2874e5f1.js";import"./mathjs-2a513dae.js";import"./@babel-484168fe.js";import"./typed-function-4896e4f1.js";import"./decimal.js-d133ee8e.js";import"./complex.js-cf2520e8.js";import"./fraction.js-39e7906a.js";import"./javascript-natural-sort-c4dd0c27.js";import"./escape-latex-c8a96e7a.js";import"./seedrandom-c8f991ad.js";import"./tiny-emitter-56d49cfd.js";import"./js-sha3-d7d4f583.js";import"./crypto-random-string-d158262e.js";import"./jose-92e5544c.js";import"./vue-i18n-728f748b.js";import"./@intlify-16888cd3.js";import"./vue-loading-overlay-b89251b1.js";import"./jspdf-30014160.js";import"./fflate-8981c52c.js";import"./vue-debounce-3bbbf8c6.js";import"./mitt-f7ef348c.js";/* empty css                   */import"./maska-6f10db43.js";import"./@fortawesome-014b81f2.js";import"./vue3-blocks-tree-e53499e3.js";import"./@noble-f8eff84a.js";import"./utf8-c941a4a0.js";import"./bip39-936aefa9.js";import"./axios-b48d2c29.js";import"./flatbuffers-edc4f8d7.js";import"./ws-0a714537.js";import"./tslib-8dbab242.js";const $={class:"lg:w-9/12 ml-2 mr-2 lg:ml-auto lg:mr-auto mt-5 border-2 p-3"},F={class:"border border-blue-300 rounded-md p-3 mt-3 bg-blue-50"},X={class:"flex items-center gap-2"},j=["innerHTML"],O={class:"flex flex-col gap-0.5"},q=e("div",{class:"uppercase text-xxs text-blue-primary"},"Selected Account",-1),z={class:"font-semibold"},W=e("div",{class:"ml-4 my-3"},"SDA Offers",-1),K={class:"flex"},U={class:"mr-1"},J={class:"text-blue-primary"},Q={class:"flex"},Y={class:"mr-1"},Z={class:"text-blue-primary"},tt=e("button",{class:"blue-btn py-2 px-3"},"Remove",-1),it=T({__name:"ViewExchangeAccountListing",props:{address:{type:String,required:!0}},setup(h){const u=h,b=[{namespace:"prx.xpx",name:"XPX"},{namespace:"prx.metx",name:"METX"},{namespace:"xarcade.xar",name:"XAR"}],v=i=>{const r=b.find(c=>c.namespace==i);return r?r.name:i},y=A(()=>L.currentLoggedInWallet.convertAddressToName(u.address,!0)),_=new S("ThemeStyleConfig");_.init();const G=A(()=>N(u.address,40,_.jdenticonConfig)),x=D([]),I=async()=>{let i=[];const r=new w.ExchangeSdaHttp(m.nodeFullURL);i=(await E(r.getAccountSdaExchangeOffers(w.Address.createFromRawAddress(u.address)))).sdaOfferBalances;for(let t=0;t<i.length;t++){const d=await m.chainAPI.assetAPI.getMosaicsNames([i[t].mosaicIdGet,i[t].mosaicIdGive]),f=await m.chainAPI.assetAPI.getMosaics([i[t].mosaicIdGet,i[t].mosaicIdGive]);i[t].mosaicGetName=d[0].names.length?d[0].names[0].name:i[t].mosaicIdGet.toHex(),i[t].mosaicGiveName=d[1].names.length?d[1].names[0].name:i[t].mosaicIdGive.toHex(),i[t].mosaicGetDivisibility=f.find(g=>g.mosaicId.toHex()==i[t].mosaicIdGet.toHex()).divisibility,i[t].mosaicGiveDivisibility=f.find(g=>g.mosaicId.toHex()==i[t].mosaicIdGive.toHex()).divisibility}const o=await m.chainAPI.chainAPI.getBlockchainHeight();x.value=i.map(t=>({idPair:`${t.mosaicIdGive.toHex()}/${t.mosaicIdGet.toHex()}`,pair:`${v(t.mosaicGiveName)}/${v(t.mosaicGetName)} `,giveAmount:t.initialMosaicGiveAmount.compact()/Math.pow(10,t.mosaicGiveDivisibility),getAmount:t.initialMosaicGetAmount.compact()/Math.pow(10,t.mosaicGetDivisibility),deadline:new Date(Date.now()+(t.deadline.compact()-o)*15e3).toLocaleString()}))},P=R(m,async i=>{i.isReady&&(await I(),P())},{immediate:!0});return(i,r)=>{const c=M("router-link");return C(),V("div",null,[e("div",$,[e("div",F,[e("div",X,[e("div",{innerHTML:G.value},null,8,j),e("div",O,[q,e("div",z,n(y.value),1)])])]),W,s(p(H),{value:x.value,paginator:!0,rows:10,responsiveLayout:"scroll",scrollDirection:"horizontal",alwaysShowPaginator:!1,paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} entries",class:"w-full"},{empty:a(()=>[B(" No exchanges found. ")]),default:a(()=>[s(p(l),{field:"deadline",header:"Deadline"}),s(p(l),{field:"give",header:"Give"},{body:a(({data:o})=>[e("div",K,[e("div",U,n(o.giveAmount),1),e("div",J,n(o.pair.split("/")[0]),1)])]),_:1}),s(p(l),{field:"get",header:"Get"},{body:a(({data:o})=>[e("div",Q,[e("div",Y,n(o.getAmount),1),e("div",Z,n(o.pair.split("/")[1]),1)])]),_:1}),s(p(l),{header:"Action"},{body:a(({data:o})=>[s(c,{to:{name:"ViewExchangeRemove",query:{p:o.idPair,o:h.address}}},{default:a(()=>[tt]),_:2},1032,["to"])]),_:1})]),_:1},8,["value"])])])}}}),Ji=k(it,[["__file","/home/runner/work/web-wallet-vuejs/web-wallet-vuejs/src/modules/services/submodule/exchange/ViewExchangeAccountListing.vue"]]);export{Ji as default};
