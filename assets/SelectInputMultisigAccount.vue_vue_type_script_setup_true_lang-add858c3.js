import{d as k,K as H,c as T,w as g,g as r,r as N,o as p,f as _,l as B,b as S,e as n,t as C,i as A,v as V,E as W,D as $,h as q,_ as j,O as P,a as U,x as F,A as K}from"./index-f4fa05bb.js";import{t as w}from"./jdenticon-module-14cc3de9.js";const E={key:0,class:"account-item-value account-item"},R={class:"flex"},z=["innerHTML"],O={class:"flex flex-col ml-2 text-left"},Z=n("div",{class:"text-blue-primary font-semibold text-xxs uppercase",style:{"line-height":"9px"}}," Selected Account to create / initiate transaction",-1),G={class:"mt-1 text-tsm font-bold"},J={class:"account-item"},Q={class:"flex"},X=["innerHTML"],Y={class:"text-xs ml-2 font-semibold"},xe=k({__name:"SelectInputAccount",emits:["select-account","update:modelValue"],setup(v){const y=W().appContext.config.globalProperties.emitter;let f=new H("ThemeStyleConfig");f.init();let a=f.jdenticonConfig;const h=T(()=>g.currentLoggedInWallet?[...g.currentLoggedInWallet.accounts.filter(s=>s.multisigInfo.length==0||s.multisigInfo.find(c=>c.level==0).cosignaturies.length==0)].map(s=>({value:s.address,label:g.currentLoggedInWallet.convertAddressToName(s.address,!0)})):[]),u=r(null),d=r(null),x=(o,s)=>{y.emit("select-account",s),u.value.label=o,u.value.value=s,d.value=w(s,25,a)};return(o,s)=>{const c=N("Dropdown");return p(),_("div",null,[B(c,{modelValue:u.value,"onUpdate:modelValue":s[0]||(s[0]=l=>u.value=l),style:{width:"100%"},options:h.value,filter:!0,filterFields:["label","value"],emptyFilterMessage:" ",onChange:s[1]||(s[1]=l=>{x(l.value.label,l.value.value),o.$emit("update:modelValue",l.value.value),o.$emit("select-account",l.value.value)})},{value:S(l=>[l.value?(p(),_("div",E,[n("div",R,[n("div",{innerHTML:d.value},null,8,z),n("div",O,[Z,n("div",G,C(l.value.label),1)])])])):A("",!0)]),option:S(l=>[n("div",J,[n("div",Q,[n("div",{innerHTML:V(w)(l.option.value,20,V(a))},null,8,X),n("div",Y,C(l.option.label),1)])])]),_:1},8,["modelValue","options"])])}}}),ee={class:"border border-gray-200 px-2 py-1 rounded-md"},te={class:"flex flex-col"},le={class:"uppercase font-light text-gray-500 text-txs text-left mb-2"},ne={class:"flex w-full"},se=["value","placeholder","maxlength"],M=16,ae=k({__name:"InputAmount",props:{modelValue:{type:String,required:!0},decimal:{type:Number,required:!0},placeholder:{type:String,required:!0},disabled:{type:Boolean,required:!1}},emits:["update:modelValue","show-error"],setup(v,{emit:m}){const y=v,f=m,a=r(y.modelValue),h=r(0),u=r(!1),d=r(!1),x=(e,i)=>{const t=e.key;return t>="0"&&t<="9"||t==="."||t==="Backspace"||t==="Delete"||t==="ArrowLeft"||t==="ArrowRight"?(t==="."&&i.includes(".")&&e.preventDefault(),!0):(e.preventDefault(),!1)},o=e=>e.split(",").length-1,s=e=>{e.includes(".")?(e.includes(".0")&&(d.value=!0),u.value=!0):(u.value=!1,d.value=!1),isNaN(parseFloat(e))?a.value="0":a.value=e,f("update:modelValue",a.value)},c=T(()=>{let e=Intl.NumberFormat("en-US",{maximumFractionDigits:h.value}).format(parseFloat(a.value));return u.value&&!e.includes(".")&&(e=e+"."),d.value&&a.value!==e&&(e=e+"0"),e}),l=T(()=>{let e=0;return c.value.includes(",")&&(e=e+o(c.value)),u.value&&(e=e+1),M+e});return $(a,(e,i)=>{if(e.includes(".")){const[t,b]=e.split(".");h.value=M-t.length,b&&b.length>h.value&&(a.value=i)}else e.length>M&&(a.value=i);f("update:modelValue",parseFloat(a.value).toString())}),(e,i)=>(p(),_("div",{class:q(v.disabled?"opacity-50":"")},[n("div",ee,[n("div",te,[n("div",le,C(v.placeholder),1),n("div",ne,[n("input",{value:c.value,class:"supply_input",placeholder:v.placeholder,maxlength:l.value,onInput:i[0]||(i[0]=t=>s(t.target.value.replace(/,/g,""))),onKeypress:i[1]||(i[1]=t=>x(t,t.target.value))},null,40,se)])])])],2))}});const be=j(ae,[["__scopeId","data-v-6a1e18d7"]]),oe={key:1,class:"text-xs mt-3 text-blue-primary"},ie={key:0,class:"account-item-value account-item"},ue={class:"flex"},ce=["innerHTML"],re={class:"flex flex-col ml-2 text-left"},de=n("div",{class:"text-blue-primary font-semibold text-xxs uppercase",style:{"line-height":"9px"}}," Selected Multisig Account",-1),me={class:"mt-1 text-tsm font-bold"},pe={class:"account-item"},ve={class:"flex items-center"},fe=["innerHTML"],ge={class:"text-xs ml-2 font-semibold"},ye=k({__name:"SelectInputMultisigAccount",props:{selectedAddress:{type:String,required:!1}},emits:["select-multisig-account","update:modelValue"],setup(v){const m=r(!1),y=v,{selectedAddress:f}=P(y),a=r([]),u=W().appContext.config.globalProperties.emitter;let d=new H("ThemeStyleConfig");d.init();let x=d.jdenticonConfig;const o=r(null);$(f,l=>{c(null,null);const e=g.currentLoggedInWallet.accounts.find(t=>t.address==l),i=e.multisigInfo.find(t=>t.level==0);a.value=i?[...e.multisigInfo].filter(t=>t.level<0).map(t=>{const I=[...g.currentLoggedInWallet.accounts,...g.currentLoggedInWallet.others].find(L=>L.publicKey==t.publicKey);return{label:I?g.currentLoggedInWallet.convertAddressToName(I.address):F.PublicAccount.createFromPublicKey(t.publicKey,K.networkType).address.plain(),value:F.PublicAccount.createFromPublicKey(t.publicKey,K.networkType).address.plain()}}):[]}),$(o,l=>{l==null&&(m.value=!1)});const s=r(null),c=(l,e)=>{if(l==null&&e==null){o.value=null,u.emit("select-multisig-account",null);return}u.emit("select-multisig-account",e),o.value.label=l,o.value.value=e,s.value=w(e,25,x)};return(l,e)=>{const i=N("Dropdown");return p(),_("div",null,[a.value.length&&!m.value?(p(),_("button",{key:0,class:"blue-btn py-2 px-3 mt-3",onClick:e[0]||(e[0]=t=>m.value=!0)},"Select Multisig Account")):A("",!0),a.value.length&&m.value&&!o.value?(p(),_("div",oe,"Select Multisig Account")):A("",!0),m.value&&a.value.length?(p(),U(i,{key:2,showClear:!0,modelValue:o.value,"onUpdate:modelValue":e[1]||(e[1]=t=>o.value=t),style:{width:"100%"},options:a.value,filter:!0,filterFields:["label","value"],emptyFilterMessage:" ",onChange:e[2]||(e[2]=t=>{var b,I,L,D;c((b=t.value)==null?void 0:b.label,(I=t.value)==null?void 0:I.value),l.$emit("update:modelValue",(L=t.value)==null?void 0:L.value),l.$emit("select-multisig-account",(D=t.value)==null?void 0:D.value)})},{value:S(t=>[t.value?(p(),_("div",ie,[n("div",ue,[n("div",{innerHTML:s.value},null,8,ce),n("div",re,[de,n("div",me,C(t.value.label),1)])])])):A("",!0)]),option:S(t=>[n("div",pe,[n("div",ve,[n("div",{innerHTML:V(w)(t.option.value,20,V(x))},null,8,fe),n("div",ge,C(t.option.label),1)])])]),_:1},8,["modelValue","options"])):A("",!0)])}}});export{be as I,xe as _,ye as a};
