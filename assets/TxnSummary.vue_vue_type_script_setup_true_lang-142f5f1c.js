import{d as M,J as R,c as K,w as h,r as T,k,o as l,b as n,t as s,f as g,s as A,z as L,e,D as v,i as w,P as V,a as D,m as W,A as q,G as y,F,h as j}from"./index-50355987.js";import{t as S}from"./jdenticon-module-4ad48b04.js";import{_ as B}from"./proximax-logo-ecfc3767.js";const X={class:"w-full"},E={key:0,class:"text-blue-primary font-semibold uppercase text-xxs"},U={key:0},G={key:1},P={key:2},z={key:3},J={key:0,class:"account-item-value account-item"},O={class:"flex"},Z=["innerHTML"],Q={key:0,class:"flex flex-col ml-2 text-left"},Y=e("div",{class:"text-blue-primary font-semibold text-xxs uppercase",style:{"line-height":"9px"}}," Selected Account to create / initiate transfer",-1),ee={class:"mt-2 text-tsm font-bold"},te={key:1,class:"flex flex-col ml-2 text-left"},se=e("div",{class:"text-blue-primary font-semibold text-xxs uppercase",style:{"line-height":"9px"}}," Selected Account to create namespace",-1),le={class:"mt-2 text-tsm font-bold"},ne={key:2,class:"flex flex-col ml-2 text-left"},ie=e("div",{class:"text-blue-primary font-semibold text-xxs uppercase",style:{"line-height":"9px"}}," Selected Account to create asset",-1),ae={class:"mt-2 text-tsm font-bold"},oe={key:3,class:"flex flex-col ml-2 text-left"},ce={class:"text-blue-primary font-semibold text-xxs uppercase",style:{"line-height":"9px"}},re={class:"mt-2 text-tsm font-bold"},de={class:"account-item"},ue={class:"flex"},me=["innerHTML"],ge={class:"text-xs ml-2 font-semibold"},Wt=M({__name:"SelectInputAccount",props:{type:{type:String,required:!0},label:{type:String,required:!1}},emits:["select-account","select-account-public-key","update:modelValue"],setup(t){const p=w().appContext.config.globalProperties.emitter;let r=new R("ThemeStyleConfig");r.init();let i=r.jdenticonConfig;const b=K(()=>h.currentLoggedInWallet?[...h.currentLoggedInWallet.accounts.filter(o=>o.multisigInfo.length==0||o.multisigInfo.find(c=>c.level==0).cosignaturies.length==0)].map(o=>({value:o.address,label:h.currentLoggedInWallet.convertAddressToName(o.address,!0),publicKey:o.publicKey})):[]),a=T(null),f=T(null),u=(m,o,c)=>{if(m==null&&o==null&&c==null){a.value=null,p.emit("select-account",null),p.emit("select-account-public-key",null);return}p.emit("select-account",o),p.emit("select-account-public-key",c),a.value.label=m,a.value.value=o,a.value.publicKey=c,f.value=S(o,25,i)};return(m,o)=>{const c=k("Dropdown");return l(),n("div",X,[a.value?g("",!0):(l(),n("div",E,[t.type=="transfer"?(l(),n("div",U,"Select Account to create / initiate transfer")):t.type=="namespace"?(l(),n("div",G,"Select Account to create namespace")):t.type=="asset"?(l(),n("div",P,"Select Account to create asset")):(l(),n("div",z,"Select Account to "+s(t.label),1))])),A(c,{modelValue:a.value,"onUpdate:modelValue":o[0]||(o[0]=d=>a.value=d),style:{width:"100%"},options:b.value,filter:!0,filterFields:["label","value","publicKey"],emptyFilterMessage:" ",placeholder:"Select Account",onChange:o[1]||(o[1]=d=>{var x,$,C,H,I,N;u((x=d.value)==null?void 0:x.label,($=d.value)==null?void 0:$.value,(C=d.value)==null?void 0:C.publicKey),m.$emit("update:modelValue",(H=d.value)==null?void 0:H.value),m.$emit("select-account",(I=d.value)==null?void 0:I.value),m.$emit("select-account-public-key",(N=d.value)==null?void 0:N.publicKey)})},{value:L(d=>[d.value?(l(),n("div",J,[e("div",O,[e("div",{innerHTML:f.value},null,8,Z),t.type=="transfer"?(l(),n("div",Q,[Y,e("div",ee,s(d.value.label),1)])):t.type=="namespace"?(l(),n("div",te,[se,e("div",le,s(d.value.label),1)])):t.type=="asset"?(l(),n("div",ne,[ie,e("div",ae,s(d.value.label),1)])):(l(),n("div",oe,[e("div",ce," Selected Account to "+s(t.label),1),e("div",re,s(d.value.label),1)]))])])):g("",!0)]),option:L(d=>[e("div",de,[e("div",ue,[e("div",{innerHTML:v(S)(d.option.value,20,v(i))},null,8,me),e("div",ge,s(d.option.label),1)])])]),_:1},8,["modelValue","options"])])}}}),pe={class:"text-xxs text-blue-primary font-semibold uppercase ml-auto mr-auto"},ve={class:"text-xxs text-blue-primary font-semibold uppercase ml-auto mr-auto"},Xt=M({__name:"SelectInputMultisigAccount",props:{selectedAddress:{type:String,required:!1}},emits:["select-multisig-account","update:modelValue"],setup(t){const _=t,p=T(!1),{selectedAddress:r}=V(_),i=T([]),a=w().appContext.config.globalProperties.emitter;D(r,u=>{if(u==null){i.value=[];return}const m=h.currentLoggedInWallet.accounts.find(c=>c.address==u),o=m.multisigInfo.find(c=>c.level==0);i.value=o?[...m.multisigInfo].filter(c=>c.level<0).map(c=>{const x=[...h.currentLoggedInWallet.accounts,...h.currentLoggedInWallet.others].find($=>$.publicKey==c.publicKey);return{label:x?h.currentLoggedInWallet.convertAddressToName(x.address):q.PublicAccount.createFromPublicKey(c.publicKey,y.networkType).address.plain(),value:q.PublicAccount.createFromPublicKey(c.publicKey,y.networkType).address.plain(),publicKey:c.publicKey}}):[]});const f=u=>{a.emit("update:modelValue",u==null?void 0:u.value),a.emit("select-multisig-account",u),p.value=!1};return(u,m)=>{const o=k("font-awesome-icon"),c=k("Tree"),d=k("Sidebar");return l(),n("div",null,[i.value.length&&!p.value&&v(r)?(l(),n("button",{key:0,class:"border rounded-md cursor-pointer flex flex-col justify-center p-1.5",onClick:m[0]||(m[0]=x=>p.value=!0)},[A(o,{icon:"id-card-alt",class:"text-blue-primary ml-auto mr-auto"}),e("div",pe,s(u.$t("general.select")),1),e("div",ve,s(u.$t("general.multisig")),1)])):g("",!0),A(d,{visible:p.value,"onUpdate:visible":m[1]||(m[1]=x=>p.value=x),baseZIndex:1e4,position:"full"},{default:L(()=>[p.value&&i.value.length?(l(),W(c,{key:0,showClear:!0,style:{width:"100%"},value:i.value,filter:!0,selectionMode:"single",filterFields:["label","value"],emptyFilterMessage:" ",onNodeSelect:f},null,8,["value"])):g("",!0)]),_:1},8,["visible"])])}}}),ye={class:"w-full mt-0 border border-gray-200 px-2 py-2 rounded-md"},be={class:"flex"},fe=["innerHTML"],xe={class:"flex flex-col ml-2 text-left"},he={key:0,class:"text-blue-primary font-semibold text-xxs uppercase",style:{"line-height":"9px"}},_e={key:1,class:"text-blue-primary font-semibold text-xxs uppercase",style:{"line-height":"9px"}},ke={key:2,class:"text-blue-primary font-semibold text-xxs uppercase",style:{"line-height":"9px"}},Te={key:3,class:"text-blue-primary font-semibold text-xxs uppercase",style:{"line-height":"9px"}},$e={class:"mt-2 text-tsm font-bold"},Ae={class:"ml-auto mt-auto mb-auto mr-6"},Et=M({__name:"MultisigInput",props:{selectDefaultAddress:{type:String,required:!0},selectDefaultName:{type:String,required:!0},type:{type:String,required:!0},label:{type:String,required:!1}},setup(t){const _=t,r=w().appContext.config.globalProperties.emitter;let i=new R("ThemeStyleConfig");i.init();let b=T(i.jdenticonConfig);const a=K(()=>S(_.selectDefaultAddress,25,b.value)),f=()=>{r.emit("CLOSE_MULTISIG")};return(u,m)=>{const o=k("font-awesome-icon");return l(),n("div",ye,[e("div",be,[e("div",{innerHTML:a.value},null,8,fe),e("div",xe,[t.type=="transfer"?(l(),n("div",he,s(u.$t("transfer.transferFrom"))+" "+s(u.$t("general.multisig")),1)):t.type=="namespace"?(l(),n("div",_e,s(u.$t("general.createNamespace"))+" From "+s(u.$t("general.multisig")),1)):t.type=="asset"?(l(),n("div",ke,s(u.$t("asset.assetCreatedBy"))+" "+s(u.$t("general.multisig")),1)):(l(),n("div",Te,s(t.label),1)),e("div",$e,s(t.selectDefaultName),1)]),e("div",Ae,[A(o,{icon:"times",class:"delete-icon-style",onClick:m[0]||(m[0]=c=>f())})])])])}}}),Me={key:0},Fe={class:"font-bold text-xs text-blue-primary uppercase"},Le={class:"lg:grid lg:grid-cols-5 grid grid-cols-7 text-gray-200 my-1"},Se={class:"font-semibold text-xxs mt-2 lg:col-span-2 col-span-3 text-blue-primary uppercase"},we=["innerHTML"],Ce={class:"flex"},He={class:"ml-1 text-blue-400 font-bold"},Ie=e("img",{src:B,class:"ml-1 h-5 w-5 mt-0.5"},null,-1),Ne={key:0,class:"lg:grid lg:grid-cols-5 grid grid-cols-7 justify-between items-center text-gray-200 text-xs pt-2"},qe={class:"font-semibold lg:col-span-2 col-span-3"},je={key:0,class:"lg:col-span-2 col-span-3 ml-auto"},Re=["innerHTML"],Ke={class:"ml-1 text-blue-400"},Be={key:0,class:"lg:col-span-4 col-span-6 ml-auto"},Ve={key:1,class:"lg:col-span-4 col-span-6 ml-auto"},De=["index"],We={key:2,class:"lg:grid lg:grid-cols-5 grid grid-cols-7 justify-between items-center text-gray-200 text-xs pt-2"},Xe={class:"font-semibold lg:col-span-2 col-span-3"},Ee=["innerHTML"],Ue={class:"ml-1 text-blue-400"},Ge={key:3,class:"lg:grid lg:grid-cols-5 grid grid-cols-7 justify-between items-center text-gray-200 text-xs pt-2"},Pe={class:"font-semibold lg:col-span-2 col-span-3"},ze=["innerHTML"],Je={class:"ml-1 text-blue-400"},Oe=e("div",{class:"border-b-2 border-gray-600 my-2"},null,-1),Ze={class:"font-bold text-xs text-blue-primary uppercase"},Qe={class:"lg:grid lg:grid-cols-5 grid grid-cols-7 text-gray-200 my-1"},Ye={class:"font-semibold text-xxs mt-2 lg:col-span-2 col-span-3 text-blue-primary uppercase"},et=["innerHTML"],tt={class:"flex"},st={class:"ml-1 text-blue-400 font-bold"},lt=e("img",{src:B,class:"ml-1 h-5 w-5 mt-0.5"},null,-1),nt=e("div",{class:"border-b-2 border-gray-600 mt-2"},null,-1),it={key:1},at={key:0,class:"lg:grid lg:grid-cols-5 grid grid-cols-7 justify-between items-center text-gray-200 text-xs pt-2"},ot={class:"font-semibold lg:col-span-2 col-span-3"},ct={key:0,class:"lg:col-span-2 col-span-3 ml-auto"},rt=["innerHTML"],dt={class:"ml-1 text-blue-400"},ut={key:0,class:"lg:col-span-4 col-span-6 ml-auto"},mt={key:1,class:"lg:col-span-4 col-span-6 ml-auto"},gt=["index"],pt={key:2,class:"lg:grid lg:grid-cols-5 grid grid-cols-7 justify-between items-center text-gray-200 text-xs pt-2"},vt={class:"font-semibold lg:col-span-2 col-span-3"},yt=["innerHTML"],bt={class:"ml-1 text-blue-400"},ft={key:3,class:"lg:grid lg:grid-cols-5 grid grid-cols-7 justify-between items-center text-gray-200 text-xs pt-2"},xt={class:"font-semibold lg:col-span-2 col-span-3"},ht=["innerHTML"],_t={class:"ml-1 text-blue-400"},kt={class:"lg:grid lg:grid-cols-5 grid grid-cols-7 justify-between items-center text-gray-200 text-xs py-2"},Tt={class:"font-semibold lg:col-span-2 col-span-3"},$t=["innerHTML"],At={class:"ml-1 text-blue-400"},Mt={key:2,class:"lg:grid lg:grid-cols-5 grid grid-cols-7 justify-between items-center text-gray-200 text-xs"},Ft={class:"font-semibold lg:col-span-2 col-span-3"},Lt=["innerHTML"],St={class:"ml-1 text-blue-400"},wt={key:3,class:"lg:grid lg:grid-cols-5 grid grid-cols-7 justify-between items-center text-gray-200 text-xs py-2"},Ct={class:"font-semibold lg:col-span-2 col-span-3"},Ht=["innerHTML"],It={class:"ml-1 text-blue-400"},Nt=e("div",{class:"border-b-2 border-gray-600 mt-2"},null,-1),qt={class:"lg:grid lg:grid-cols-5 grid grid-cols-7 justify-between items-center text-gray-200 text-xs py-2"},jt=e("div",{class:"font-semibold lg:col-span-2 col-span-3 uppercase"},"Total",-1),Rt=["innerHTML"],Kt={class:"ml-1 text-blue-400"},Ut=M({__name:"TxnSummary",props:{selectedMultisigAddress:{type:String||null},nativeTokenBalance:{type:Number,required:!0},selectedAssets:{type:Array,required:!1},lockFund:{type:Number,required:!0},txnFee:{type:Number,required:!0},lockFundTxFee:{type:Number,required:!0},totalFee:{type:Number,required:!0},nativeAmount:{type:String,required:!1},signerNativeTokenBalance:{type:Number,required:!0},namespaceRentalFeeCurrency:{type:String,required:!1},assetRentalFeeCurrency:{type:String,required:!1}},setup(t){const _=[{namespace:"prx.xpx",name:"XPX"},{namespace:"prx.metx",name:"METX"},{namespace:"xarcade.xar",name:"XAR"}],p=i=>{const b=_.find(a=>a.namespace==i);return b?b.name:i.length==16?i.substring(0,4)+"..."+i.substring(i.length-4,i.length+1):i},r=i=>{let b=i.toString().split(".");return b[1]!=null?'<span class="font-semibold text-sm">'+b[0]+'</span>.<span class="font-semibold text-xs">'+b[1]+"</span>":'<span class="font-semibold text-sm">'+b[0]+"</span>"};return(i,b)=>(l(),n(F,null,[t.selectedMultisigAddress?(l(),n("div",Me,[e("div",Fe,s(i.$t("general.multisigAcc")),1),e("div",Le,[e("div",Se,s(i.$t("general.currentBalance")),1),e("span",{class:"ml-auto lg:col-span-2 col-span-3",innerHTML:r(t.nativeTokenBalance??0)},null,8,we),e("div",Ce,[e("div",He,s(v(y).nativeToken.label),1),Ie])]),t.nativeAmount?(l(),n("div",Ne,[e("div",qe,s(i.$t("transfer.transferAmount")),1),isNaN(parseFloat(t.nativeAmount))?(l(),n("div",je,"0")):(l(),n("div",{key:1,class:"lg:col-span-2 col-span-3 ml-auto",innerHTML:r(t.nativeAmount??0)},null,8,Re)),e("div",Ke,s(v(y).nativeToken.label),1)])):g("",!0),t.selectedAssets?(l(!0),n(F,{key:1},j(t.selectedAssets,(a,f)=>(l(),n("div",{class:"lg:grid lg:grid-cols-5 grid grid-cols-7 text-white text-xs",key:f},[isNaN(parseFloat(a.amount))&&a.id!=null?(l(),n("div",Be,"0")):(l(),n("div",Ve,s(a.amount),1)),a.id!=null?(l(),n("div",{key:2,class:"ml-1 text-blue-400",index:f},s(p(a.namespace==""?a.id:a.namespace)),9,De)):g("",!0)]))),128)):g("",!0),t.namespaceRentalFeeCurrency?(l(),n("div",We,[e("div",Xe,s(i.$t("general.namespacerentalFee")),1),e("div",{class:"ml-auto lg:col-span-2 col-span-3",innerHTML:r(t.namespaceRentalFeeCurrency??0)},null,8,Ee),e("div",Ue,s(v(y).nativeToken.label),1)])):g("",!0),t.assetRentalFeeCurrency?(l(),n("div",Ge,[e("div",Pe,s(i.$t("general.assetRentalFee")),1),e("div",{class:"ml-auto lg:col-span-2 col-span-3",innerHTML:r(t.assetRentalFeeCurrency??0)},null,8,ze),e("div",Je,s(v(y).nativeToken.label),1)])):g("",!0),Oe])):g("",!0),e("div",Ze,s(i.$t("general.signerAcc")),1),e("div",Qe,[e("div",Ye,s(i.$t("general.currentBalance")),1),e("span",{class:"ml-auto lg:col-span-2 col-span-3",innerHTML:r(t.selectedMultisigAddress?t.signerNativeTokenBalance:t.nativeTokenBalance??0)},null,8,et),e("div",tt,[e("div",st,s(v(y).nativeToken.label),1),lt])]),nt,t.selectedMultisigAddress?g("",!0):(l(),n("div",it,[t.nativeAmount?(l(),n("div",at,[e("div",ot,s(i.$t("transfer.transferAmount")),1),isNaN(parseFloat(t.nativeAmount))?(l(),n("div",ct,"0")):(l(),n("div",{key:1,class:"lg:col-span-2 col-span-3 ml-auto",innerHTML:r(t.nativeAmount??0)},null,8,rt)),e("div",dt,s(v(y).nativeToken.label),1)])):g("",!0),t.selectedAssets?(l(!0),n(F,{key:1},j(t.selectedAssets,(a,f)=>(l(),n("div",{class:"lg:grid lg:grid-cols-5 grid grid-cols-7 text-white text-xs",key:f},[isNaN(parseFloat(a.amount))&&a.id!=null?(l(),n("div",ut,"0")):(l(),n("div",mt,s(a.amount),1)),a.id!=null?(l(),n("div",{key:2,class:"ml-1 text-blue-400",index:f},s(p(a.namespace==""?a.id:a.namespace)),9,gt)):g("",!0)]))),128)):g("",!0),t.namespaceRentalFeeCurrency?(l(),n("div",pt,[e("div",vt,s(i.$t("general.namespacerentalFee")),1),e("div",{class:"lg:col-span-2 col-span-3 ml-auto",innerHTML:r(t.namespaceRentalFeeCurrency??0)},null,8,yt),e("div",bt,s(v(y).nativeToken.label),1)])):g("",!0),t.assetRentalFeeCurrency?(l(),n("div",ft,[e("div",xt,s(i.$t("general.assetRentalFee")),1),e("div",{class:"lg:col-span-2 col-span-3 ml-auto",innerHTML:r(t.assetRentalFeeCurrency??0)},null,8,ht),e("div",_t,s(v(y).nativeToken.label),1)])):g("",!0)])),e("div",kt,[e("div",Tt,s(t.selectedMultisigAddress!=null?i.$t("general.aggregateFee"):i.$t("general.transactionFee")),1),e("div",{class:"lg:col-span-2 col-span-3 ml-auto",innerHTML:r(t.txnFee)},null,8,$t),e("div",At,s(v(y).nativeToken.label),1)]),t.selectedMultisigAddress!=null?(l(),n("div",Mt,[e("div",Ft,s(i.$t("general.lockFund")),1),e("div",{class:"lg:col-span-2 col-span-3 ml-auto",innerHTML:r(t.lockFund??0)},null,8,Lt),e("div",St,s(v(y).nativeToken.label),1)])):g("",!0),t.selectedMultisigAddress!=null?(l(),n("div",wt,[e("div",Ct,s(i.$t("general.lockFundTxFee")),1),e("div",{class:"lg:col-span-2 col-span-3 ml-auto",innerHTML:r(t.lockFundTxFee??0)},null,8,Ht),e("div",It,s(v(y).nativeToken.label),1)])):g("",!0),Nt,e("div",qt,[jt,e("div",{class:"lg:col-span-2 col-span-3 ml-auto",innerHTML:r(t.totalFee)},null,8,Rt),e("div",Kt,s(v(y).nativeToken.label),1)])],64))}});export{Wt as _,Xt as a,Et as b,Ut as c};
