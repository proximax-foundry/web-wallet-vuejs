import{x as D,A as k,al as $e,am as Ve,n as te,an as Te,ao as et,ap as h,d as qe,c as W,g as N,j as tt,w as G,aq as it,W as ae,H as ve,B as nt,D as Ie,o as R,f as M,e as f,l as ue,i as j,v as x,t as U,b as Ce,s as Ee,S as De,ar as Le,as as st,F as Be,K as Re,E as rt,at as xe,_ as ot}from"./index-ec24e299.js";import{M as lt}from"./multisigUtils-ce075a8a.js";import{_ as at}from"./PasswordInput.vue_vue_type_script_setup_true_lang-9fd7d2c8.js";import{_ as ut}from"./SelectInputAccount.vue_vue_type_script_setup_true_lang-14d8cb49.js";import{_ as ct}from"./SelectInputMultisigAccount.vue_vue_type_script_setup_true_lang-e3259369.js";import{_ as ft}from"./MultisigInput.vue_vue_type_script_setup_true_lang-a645e70f.js";import"./jdenticon-module-708539e7.js";let dt=[{namespace:"prx.xpx",name:"XPX"},{namespace:"prx.metx",name:"METX"},{namespace:"xarcade.xar",name:"XAR"}];class me{static createAccount(e){return D.Account.createFromPrivateKey(e,k.networkType,1)}static async scanAsset(e){let s=D.PublicAccount.createFromPublicKey(e,k.networkType);try{let t=await k.chainAPI.accountAPI.getAccountInfo(s.address),i=t.mosaics.map(m=>m.id),n=await k.chainAPI.assetAPI.getMosaics(i),o=await k.chainAPI.assetAPI.getMosaicsNames(i);return t.mosaics.map(m=>{let d=m.id.toHex(),v=n.find(_=>_.mosaicId.toHex()===d).divisibility,p=o.find(_=>_.mosaicId.toHex()===d).names,y=p.length?p[0].name:"",S=dt.find(_=>_.namespace===y),B={id:d,amount:v?m.amount.compact()/Math.pow(10,v):m.amount.compact(),divisibility:v,namespaceName:y};return B.label=S?S.name:B.namespaceName?B.namespaceName:B.id.toUpperCase(),B})}catch{return[]}}static createDistributeAggregateTransactions(e,s,t,i,n){let o=D.PublicAccount.createFromPublicKey(e,k.networkType),r=[],m=Math.ceil(s.length/t),d=[],v=Math.pow(10,i.divisibility),p=i.namespaceName?new D.NamespaceId(i.namespaceName):new D.MosaicId(i.id);for(let y=0;y<s.length;++y){let S=$e(Ve(s[y].amount),v),B=Number(S.toString()),_;s[y].publicKeyOrAddress.length===64?_=D.PublicAccount.createFromPublicKey(s[y].publicKeyOrAddress,k.networkType).address:_=D.Address.createFromRawAddress(s[y].publicKeyOrAddress);let L=new D.Mosaic(p,D.UInt64.fromUint(B)),A;s[y].message?A=D.PlainMessage.create(s[y].message):A=D.EmptyMessage;let b=k.buildTxn.transfer(_,A,[L]);d.push(b)}for(let y=0;y<m;++y){let S=y*t,B=(y+1)*t,_=d.slice(S,B),L=[];for(let b=0;b<_.length;++b)L.push(_[b].toAggregateV1(o));let A=k.buildTxn.aggregateBonded(L,n);r.push(A)}return r}static getLockFundTransactionFee(){const e=te.currentNetworkProfileConfig.lockedFundsPerAggregate??0;let s=new D.TransactionHash("0".repeat(64),D.TransactionType.AGGREGATE_BONDED_V1);return k.buildTxn.hashLock(new D.Mosaic(new D.NamespaceId("prx.xpx"),D.UInt64.fromUint(e)),D.UInt64.fromUint(Te.getABTMaxSafeDuration()),s).maxFee.compact()}static async signAllAbtAndAnnounce(e,s){const t=te.currentNetworkProfileConfig.lockedFundsPerAggregate;let i=[],n=[],o=[],r=[];for(let v=0;v<e.length;++v){let p=s.preV2Sign(e[v],te.currentNetworkProfile.generationHash);i.push(p);let y=k.buildTxn.hashLock(new D.Mosaic(new D.NamespaceId(k.nativeToken.fullNamespace.trim()),D.UInt64.fromUint(t)),D.UInt64.fromUint(Te.getABTMaxSafeDuration()),p),S=s.preV2Sign(y,te.currentNetworkProfile.generationHash);n.push(S),o.push({txnHash:p.hash,block:null}),o.push({txnHash:S.hash,block:null}),r.push({txnHash:p.hash,hashLockHash:S.hash})}let m=!1;for(let v=0;v<n.length;++v)await k.chainAPI.transactionAPI.announce(n[v]);console.log("All LockHash Txn announced, pending ABT announcement...");let d=[];for(;!m;){await new Promise(S=>setTimeout(S,15e3)),console.log("Checking LockHash Txn confirmation...");let p=await k.chainAPI.chainAPI.getBlockchainHeight(),y=i.filter(S=>!d.includes(S.hash));for(let S=0;S<y.length;++S){let B=r.find(L=>L.txnHash===y[S].hash).hashLockHash,_=await k.chainAPI.transactionAPI.getTransactionStatus(B);if(_.group===D.TransactionGroupType.CONFIRMED){let L=_.height.compact(),A=o.find(b=>b.txnHash===B);A.block=L,p>=A.block+1&&(await k.chainAPI.transactionAPI.announceAggregateBonded(y[S]),d.push(y[S].hash))}}d.length===i.length&&(m=!0)}return d}}var mt=et();const Je=function(l){return typeof l=="object"&&l!==null&&!Array.isArray(l)};class O extends Error{constructor(e,s,t,...i){Array.isArray(s)&&(s=s.join(" ").trim()),super(s),Error.captureStackTrace!==void 0&&Error.captureStackTrace(this,O),this.code=e;for(const n of i)for(const o in n){const r=n[o];this[o]=h.Buffer.isBuffer(r)?r.toString(t.encoding):r==null?r:JSON.parse(JSON.stringify(r))}}}const Ue=function(l){const e=[];for(let s=0,t=l.length;s<t;s++){const i=l[s];if(i==null||i===!1)e[s]={disabled:!0};else if(typeof i=="string")e[s]={name:i};else if(Je(i)){if(typeof i.name!="string")throw new O("CSV_OPTION_COLUMNS_MISSING_NAME",["Option columns missing name:",`property "name" is required at position ${s}`,"when column is an object literal"]);e[s]=i}else throw new O("CSV_INVALID_COLUMN_DEFINITION",["Invalid column definition:","expect a string or a literal object,",`got ${JSON.stringify(i)} at position ${s}`])}return e};class Me{constructor(e=100){this.size=e,this.length=0,this.buf=h.Buffer.allocUnsafe(e)}prepend(e){if(h.Buffer.isBuffer(e)){const s=this.length+e.length;if(s>=this.size&&(this.resize(),s>=this.size))throw Error("INVALID_BUFFER_STATE");const t=this.buf;this.buf=h.Buffer.allocUnsafe(this.size),e.copy(this.buf,0),t.copy(this.buf,e.length),this.length+=e.length}else{const s=this.length++;s===this.size&&this.resize();const t=this.clone();this.buf[0]=e,t.copy(this.buf,1,0,s)}}append(e){const s=this.length++;s===this.size&&this.resize(),this.buf[s]=e}clone(){return h.Buffer.from(this.buf.slice(0,this.length))}resize(){const e=this.length;this.size=this.size*2;const s=h.Buffer.allocUnsafe(this.size);this.buf.copy(s,0,0,e),this.buf=s}toString(e){return e?this.buf.slice(0,this.length).toString(e):Uint8Array.prototype.slice.call(this.buf.slice(0,this.length))}toJSON(){return this.toString("utf8")}reset(){this.length=0}}const _t=12,ht=13,gt=10,pt=32,bt=9,vt=function(l){return{bomSkipped:!1,bufBytesStart:0,castField:l.cast_function,commenting:!1,error:void 0,enabled:l.from_line===1,escaping:!1,escapeIsQuote:h.Buffer.isBuffer(l.escape)&&h.Buffer.isBuffer(l.quote)&&h.Buffer.compare(l.escape,l.quote)===0,expectedRecordLength:Array.isArray(l.columns)?l.columns.length:void 0,field:new Me(20),firstLineToHeaders:l.cast_first_line_to_header,needMoreDataSize:Math.max(l.comment!==null?l.comment.length:0,...l.delimiter.map(e=>e.length),l.quote!==null?l.quote.length:0),previousBuf:void 0,quoting:!1,stop:!1,rawBuffer:new Me(100),record:[],recordHasError:!1,record_length:0,recordDelimiterMaxLength:l.record_delimiter.length===0?0:Math.max(...l.record_delimiter.map(e=>e.length)),trimChars:[h.Buffer.from(" ",l.encoding)[0],h.Buffer.from("	",l.encoding)[0]],wasQuoting:!1,wasRowDelimiter:!1,timchars:[h.Buffer.from(h.Buffer.from([ht],"utf8").toString(),l.encoding),h.Buffer.from(h.Buffer.from([gt],"utf8").toString(),l.encoding),h.Buffer.from(h.Buffer.from([_t],"utf8").toString(),l.encoding),h.Buffer.from(h.Buffer.from([pt],"utf8").toString(),l.encoding),h.Buffer.from(h.Buffer.from([bt],"utf8").toString(),l.encoding)]}},yt=function(l){return l.replace(/([A-Z])/g,function(e,s){return"_"+s.toLowerCase()})},Fe=function(l){const e={};for(const t in l)e[yt(t)]=l[t];if(e.encoding===void 0||e.encoding===!0)e.encoding="utf8";else if(e.encoding===null||e.encoding===!1)e.encoding=null;else if(typeof e.encoding!="string"&&e.encoding!==null)throw new O("CSV_INVALID_OPTION_ENCODING",["Invalid option encoding:","encoding must be a string or null to return a buffer,",`got ${JSON.stringify(e.encoding)}`],e);if(e.bom===void 0||e.bom===null||e.bom===!1)e.bom=!1;else if(e.bom!==!0)throw new O("CSV_INVALID_OPTION_BOM",["Invalid option bom:","bom must be true,",`got ${JSON.stringify(e.bom)}`],e);if(e.cast_function=null,e.cast===void 0||e.cast===null||e.cast===!1||e.cast==="")e.cast=void 0;else if(typeof e.cast=="function")e.cast_function=e.cast,e.cast=!0;else if(e.cast!==!0)throw new O("CSV_INVALID_OPTION_CAST",["Invalid option cast:","cast must be true or a function,",`got ${JSON.stringify(e.cast)}`],e);if(e.cast_date===void 0||e.cast_date===null||e.cast_date===!1||e.cast_date==="")e.cast_date=!1;else if(e.cast_date===!0)e.cast_date=function(t){const i=Date.parse(t);return isNaN(i)?t:new Date(i)};else if(typeof e.cast_date!="function")throw new O("CSV_INVALID_OPTION_CAST_DATE",["Invalid option cast_date:","cast_date must be true or a function,",`got ${JSON.stringify(e.cast_date)}`],e);if(e.cast_first_line_to_header=null,e.columns===!0)e.cast_first_line_to_header=void 0;else if(typeof e.columns=="function")e.cast_first_line_to_header=e.columns,e.columns=!0;else if(Array.isArray(e.columns))e.columns=Ue(e.columns);else if(e.columns===void 0||e.columns===null||e.columns===!1)e.columns=!1;else throw new O("CSV_INVALID_OPTION_COLUMNS",["Invalid option columns:","expect an array, a function or true,",`got ${JSON.stringify(e.columns)}`],e);if(e.group_columns_by_name===void 0||e.group_columns_by_name===null||e.group_columns_by_name===!1)e.group_columns_by_name=!1;else{if(e.group_columns_by_name!==!0)throw new O("CSV_INVALID_OPTION_GROUP_COLUMNS_BY_NAME",["Invalid option group_columns_by_name:","expect an boolean,",`got ${JSON.stringify(e.group_columns_by_name)}`],e);if(e.columns===!1)throw new O("CSV_INVALID_OPTION_GROUP_COLUMNS_BY_NAME",["Invalid option group_columns_by_name:","the `columns` mode must be activated."],e)}if(e.comment===void 0||e.comment===null||e.comment===!1||e.comment==="")e.comment=null;else if(typeof e.comment=="string"&&(e.comment=h.Buffer.from(e.comment,e.encoding)),!h.Buffer.isBuffer(e.comment))throw new O("CSV_INVALID_OPTION_COMMENT",["Invalid option comment:","comment must be a buffer or a string,",`got ${JSON.stringify(e.comment)}`],e);if(e.comment_no_infix===void 0||e.comment_no_infix===null||e.comment_no_infix===!1)e.comment_no_infix=!1;else if(e.comment_no_infix!==!0)throw new O("CSV_INVALID_OPTION_COMMENT",["Invalid option comment_no_infix:","value must be a boolean,",`got ${JSON.stringify(e.comment_no_infix)}`],e);const s=JSON.stringify(e.delimiter);if(Array.isArray(e.delimiter)||(e.delimiter=[e.delimiter]),e.delimiter.length===0)throw new O("CSV_INVALID_OPTION_DELIMITER",["Invalid option delimiter:","delimiter must be a non empty string or buffer or array of string|buffer,",`got ${s}`],e);if(e.delimiter=e.delimiter.map(function(t){if(t==null||t===!1)return h.Buffer.from(",",e.encoding);if(typeof t=="string"&&(t=h.Buffer.from(t,e.encoding)),!h.Buffer.isBuffer(t)||t.length===0)throw new O("CSV_INVALID_OPTION_DELIMITER",["Invalid option delimiter:","delimiter must be a non empty string or buffer or array of string|buffer,",`got ${s}`],e);return t}),e.escape===void 0||e.escape===!0?e.escape=h.Buffer.from('"',e.encoding):typeof e.escape=="string"?e.escape=h.Buffer.from(e.escape,e.encoding):(e.escape===null||e.escape===!1)&&(e.escape=null),e.escape!==null&&!h.Buffer.isBuffer(e.escape))throw new Error(`Invalid Option: escape must be a buffer, a string or a boolean, got ${JSON.stringify(e.escape)}`);if(e.from===void 0||e.from===null)e.from=1;else if(typeof e.from=="string"&&/\d+/.test(e.from)&&(e.from=parseInt(e.from)),Number.isInteger(e.from)){if(e.from<0)throw new Error(`Invalid Option: from must be a positive integer, got ${JSON.stringify(l.from)}`)}else throw new Error(`Invalid Option: from must be an integer, got ${JSON.stringify(e.from)}`);if(e.from_line===void 0||e.from_line===null)e.from_line=1;else if(typeof e.from_line=="string"&&/\d+/.test(e.from_line)&&(e.from_line=parseInt(e.from_line)),Number.isInteger(e.from_line)){if(e.from_line<=0)throw new Error(`Invalid Option: from_line must be a positive integer greater than 0, got ${JSON.stringify(l.from_line)}`)}else throw new Error(`Invalid Option: from_line must be an integer, got ${JSON.stringify(l.from_line)}`);if(e.ignore_last_delimiters===void 0||e.ignore_last_delimiters===null)e.ignore_last_delimiters=!1;else if(typeof e.ignore_last_delimiters=="number")e.ignore_last_delimiters=Math.floor(e.ignore_last_delimiters),e.ignore_last_delimiters===0&&(e.ignore_last_delimiters=!1);else if(typeof e.ignore_last_delimiters!="boolean")throw new O("CSV_INVALID_OPTION_IGNORE_LAST_DELIMITERS",["Invalid option `ignore_last_delimiters`:","the value must be a boolean value or an integer,",`got ${JSON.stringify(e.ignore_last_delimiters)}`],e);if(e.ignore_last_delimiters===!0&&e.columns===!1)throw new O("CSV_IGNORE_LAST_DELIMITERS_REQUIRES_COLUMNS",["The option `ignore_last_delimiters`","requires the activation of the `columns` option"],e);if(e.info===void 0||e.info===null||e.info===!1)e.info=!1;else if(e.info!==!0)throw new Error(`Invalid Option: info must be true, got ${JSON.stringify(e.info)}`);if(e.max_record_size===void 0||e.max_record_size===null||e.max_record_size===!1)e.max_record_size=0;else if(!(Number.isInteger(e.max_record_size)&&e.max_record_size>=0))if(typeof e.max_record_size=="string"&&/\d+/.test(e.max_record_size))e.max_record_size=parseInt(e.max_record_size);else throw new Error(`Invalid Option: max_record_size must be a positive integer, got ${JSON.stringify(e.max_record_size)}`);if(e.objname===void 0||e.objname===null||e.objname===!1)e.objname=void 0;else if(h.Buffer.isBuffer(e.objname)){if(e.objname.length===0)throw new Error("Invalid Option: objname must be a non empty buffer");e.encoding===null||(e.objname=e.objname.toString(e.encoding))}else if(typeof e.objname=="string"){if(e.objname.length===0)throw new Error("Invalid Option: objname must be a non empty string")}else if(typeof e.objname!="number")throw new Error(`Invalid Option: objname must be a string or a buffer, got ${e.objname}`);if(e.objname!==void 0){if(typeof e.objname=="number"){if(e.columns!==!1)throw Error("Invalid Option: objname index cannot be combined with columns or be defined as a field")}else if(e.columns===!1)throw Error("Invalid Option: objname field must be combined with columns or be defined as an index")}if(e.on_record===void 0||e.on_record===null)e.on_record=void 0;else if(typeof e.on_record!="function")throw new O("CSV_INVALID_OPTION_ON_RECORD",["Invalid option `on_record`:","expect a function,",`got ${JSON.stringify(e.on_record)}`],e);if(e.quote===null||e.quote===!1||e.quote==="")e.quote=null;else if(e.quote===void 0||e.quote===!0?e.quote=h.Buffer.from('"',e.encoding):typeof e.quote=="string"&&(e.quote=h.Buffer.from(e.quote,e.encoding)),!h.Buffer.isBuffer(e.quote))throw new Error(`Invalid Option: quote must be a buffer or a string, got ${JSON.stringify(e.quote)}`);if(e.raw===void 0||e.raw===null||e.raw===!1)e.raw=!1;else if(e.raw!==!0)throw new Error(`Invalid Option: raw must be true, got ${JSON.stringify(e.raw)}`);if(e.record_delimiter===void 0)e.record_delimiter=[];else if(typeof e.record_delimiter=="string"||h.Buffer.isBuffer(e.record_delimiter)){if(e.record_delimiter.length===0)throw new O("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a non empty string or buffer,",`got ${JSON.stringify(e.record_delimiter)}`],e);e.record_delimiter=[e.record_delimiter]}else if(!Array.isArray(e.record_delimiter))throw new O("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a string, a buffer or array of string|buffer,",`got ${JSON.stringify(e.record_delimiter)}`],e);if(e.record_delimiter=e.record_delimiter.map(function(t,i){if(typeof t!="string"&&!h.Buffer.isBuffer(t))throw new O("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a string, a buffer or array of string|buffer",`at index ${i},`,`got ${JSON.stringify(t)}`],e);if(t.length===0)throw new O("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a non empty string or buffer",`at index ${i},`,`got ${JSON.stringify(t)}`],e);return typeof t=="string"&&(t=h.Buffer.from(t,e.encoding)),t}),typeof e.relax_column_count!="boolean")if(e.relax_column_count===void 0||e.relax_column_count===null)e.relax_column_count=!1;else throw new Error(`Invalid Option: relax_column_count must be a boolean, got ${JSON.stringify(e.relax_column_count)}`);if(typeof e.relax_column_count_less!="boolean")if(e.relax_column_count_less===void 0||e.relax_column_count_less===null)e.relax_column_count_less=!1;else throw new Error(`Invalid Option: relax_column_count_less must be a boolean, got ${JSON.stringify(e.relax_column_count_less)}`);if(typeof e.relax_column_count_more!="boolean")if(e.relax_column_count_more===void 0||e.relax_column_count_more===null)e.relax_column_count_more=!1;else throw new Error(`Invalid Option: relax_column_count_more must be a boolean, got ${JSON.stringify(e.relax_column_count_more)}`);if(typeof e.relax_quotes!="boolean")if(e.relax_quotes===void 0||e.relax_quotes===null)e.relax_quotes=!1;else throw new Error(`Invalid Option: relax_quotes must be a boolean, got ${JSON.stringify(e.relax_quotes)}`);if(typeof e.skip_empty_lines!="boolean")if(e.skip_empty_lines===void 0||e.skip_empty_lines===null)e.skip_empty_lines=!1;else throw new Error(`Invalid Option: skip_empty_lines must be a boolean, got ${JSON.stringify(e.skip_empty_lines)}`);if(typeof e.skip_records_with_empty_values!="boolean")if(e.skip_records_with_empty_values===void 0||e.skip_records_with_empty_values===null)e.skip_records_with_empty_values=!1;else throw new Error(`Invalid Option: skip_records_with_empty_values must be a boolean, got ${JSON.stringify(e.skip_records_with_empty_values)}`);if(typeof e.skip_records_with_error!="boolean")if(e.skip_records_with_error===void 0||e.skip_records_with_error===null)e.skip_records_with_error=!1;else throw new Error(`Invalid Option: skip_records_with_error must be a boolean, got ${JSON.stringify(e.skip_records_with_error)}`);if(e.rtrim===void 0||e.rtrim===null||e.rtrim===!1)e.rtrim=!1;else if(e.rtrim!==!0)throw new Error(`Invalid Option: rtrim must be a boolean, got ${JSON.stringify(e.rtrim)}`);if(e.ltrim===void 0||e.ltrim===null||e.ltrim===!1)e.ltrim=!1;else if(e.ltrim!==!0)throw new Error(`Invalid Option: ltrim must be a boolean, got ${JSON.stringify(e.ltrim)}`);if(e.trim===void 0||e.trim===null||e.trim===!1)e.trim=!1;else if(e.trim!==!0)throw new Error(`Invalid Option: trim must be a boolean, got ${JSON.stringify(e.trim)}`);if(e.trim===!0&&l.ltrim!==!1?e.ltrim=!0:e.ltrim!==!0&&(e.ltrim=!1),e.trim===!0&&l.rtrim!==!1?e.rtrim=!0:e.rtrim!==!0&&(e.rtrim=!1),e.to===void 0||e.to===null)e.to=-1;else if(typeof e.to=="string"&&/\d+/.test(e.to)&&(e.to=parseInt(e.to)),Number.isInteger(e.to)){if(e.to<=0)throw new Error(`Invalid Option: to must be a positive integer greater than 0, got ${JSON.stringify(l.to)}`)}else throw new Error(`Invalid Option: to must be an integer, got ${JSON.stringify(l.to)}`);if(e.to_line===void 0||e.to_line===null)e.to_line=-1;else if(typeof e.to_line=="string"&&/\d+/.test(e.to_line)&&(e.to_line=parseInt(e.to_line)),Number.isInteger(e.to_line)){if(e.to_line<=0)throw new Error(`Invalid Option: to_line must be a positive integer greater than 0, got ${JSON.stringify(l.to_line)}`)}else throw new Error(`Invalid Option: to_line must be an integer, got ${JSON.stringify(l.to_line)}`);return e},Pe=function(l){return l.every(e=>e==null||e.toString&&e.toString().trim()==="")},wt=13,It=10,_e={utf8:h.Buffer.from([239,187,191]),utf16le:h.Buffer.from([255,254])},xt=function(l={}){const e={bytes:0,comment_lines:0,empty_lines:0,invalid_field_length:0,lines:1,records:0},s=Fe(l);return{info:e,original_options:l,options:s,state:vt(s),__needMoreData:function(t,i,n){if(n)return!1;const{encoding:o,escape:r,quote:m}=this.options,{quoting:d,needMoreDataSize:v,recordDelimiterMaxLength:p}=this.state,y=i-t-1,S=Math.max(v,p===0?h.Buffer.from(`\r
`,o).length:p,d?(r===null?0:r.length)+m.length:0,d?m.length+p:0);return y<S},parse:function(t,i,n,o){const{bom:r,comment_no_infix:m,encoding:d,from_line:v,ltrim:p,max_record_size:y,raw:S,relax_quotes:B,rtrim:_,skip_empty_lines:L,to:A,to_line:b}=this.options;let{comment:w,escape:$,quote:J,record_delimiter:se}=this.options;const{bomSkipped:oe,previousBuf:X,rawBuffer:ce,escapeIsQuote:he}=this.state;let I;if(X===void 0)if(t===void 0){o();return}else I=t;else X!==void 0&&t===void 0?I=X:I=h.Buffer.concat([X,t]);if(oe===!1)if(r===!1)this.state.bomSkipped=!0;else if(I.length<3){if(i===!1){this.state.previousBuf=I;return}}else{for(const C in _e)if(_e[C].compare(I,0,_e[C].length)===0){const Z=_e[C].length;this.state.bufBytesStart+=Z,I=I.slice(Z),this.options=Fe({...this.original_options,encoding:C}),{comment:w,escape:$,quote:J}=this.options;break}this.state.bomSkipped=!0}const ie=I.length;let c;for(c=0;c<ie&&!this.__needMoreData(c,ie,i);c++){if(this.state.wasRowDelimiter===!0&&(this.info.lines++,this.state.wasRowDelimiter=!1),b!==-1&&this.info.lines>b){this.state.stop=!0,o();return}this.state.quoting===!1&&se.length===0&&this.__autoDiscoverRecordDelimiter(I,c)&&(se=this.options.record_delimiter);const C=I[c];if(S===!0&&ce.append(C),(C===wt||C===It)&&this.state.wasRowDelimiter===!1&&(this.state.wasRowDelimiter=!0),this.state.escaping===!0)this.state.escaping=!1;else{if($!==null&&this.state.quoting===!0&&this.__isEscape(I,c,C)&&c+$.length<ie)if(he){if(this.__isQuote(I,c+$.length)){this.state.escaping=!0,c+=$.length-1;continue}}else{this.state.escaping=!0,c+=$.length-1;continue}if(this.state.commenting===!1&&this.__isQuote(I,c))if(this.state.quoting===!0){const V=I[c+J.length],re=_&&this.__isCharTrimable(I,c+J.length),ne=w!==null&&this.__compareBytes(w,I,c+J.length,V),Y=this.__isDelimiter(I,c+J.length,V),le=se.length===0?this.__autoDiscoverRecordDelimiter(I,c+J.length):this.__isRecordDelimiter(V,I,c+J.length);if($!==null&&this.__isEscape(I,c,C)&&this.__isQuote(I,c+$.length))c+=$.length-1;else if(!V||Y||le||ne||re){this.state.quoting=!1,this.state.wasQuoting=!0,c+=J.length-1;continue}else if(B===!1){const q=this.__error(new O("CSV_INVALID_CLOSING_QUOTE",["Invalid Closing Quote:",`got "${String.fromCharCode(V)}"`,`at line ${this.info.lines}`,"instead of delimiter, record delimiter, trimable character","(if activated) or comment"],this.options,this.__infoField()));if(q!==void 0)return q}else this.state.quoting=!1,this.state.wasQuoting=!0,this.state.field.prepend(J),c+=J.length-1}else if(this.state.field.length!==0){if(B===!1){const V=this.__infoField(),re=Object.keys(_e).map(Y=>_e[Y].equals(this.state.field.toString())?Y:!1).filter(Boolean)[0],ne=this.__error(new O("INVALID_OPENING_QUOTE",["Invalid Opening Quote:",`a quote is found on field ${JSON.stringify(V.column)} at line ${V.lines}, value is ${JSON.stringify(this.state.field.toString(d))}`,re?`(${re} bom)`:void 0],this.options,V,{field:this.state.field}));if(ne!==void 0)return ne}}else{this.state.quoting=!0,c+=J.length-1;continue}if(this.state.quoting===!1){const V=this.__isRecordDelimiter(C,I,c);if(V!==0){if(this.state.commenting&&this.state.wasQuoting===!1&&this.state.record.length===0&&this.state.field.length===0)this.info.comment_lines++;else{if(this.state.enabled===!1&&this.info.lines+(this.state.wasRowDelimiter===!0?1:0)>=v){this.state.enabled=!0,this.__resetField(),this.__resetRecord(),c+=V-1;continue}if(L===!0&&this.state.wasQuoting===!1&&this.state.record.length===0&&this.state.field.length===0){this.info.empty_lines++,c+=V-1;continue}this.info.bytes=this.state.bufBytesStart+c;const le=this.__onField();if(le!==void 0)return le;this.info.bytes=this.state.bufBytesStart+c+V;const q=this.__onRecord(n);if(q!==void 0)return q;if(A!==-1&&this.info.records>=A){this.state.stop=!0,o();return}}this.state.commenting=!1,c+=V-1;continue}if(this.state.commenting)continue;if((w===null?0:this.__compareBytes(w,I,c,C))!==0&&(m===!1||this.state.field.length===0)){this.state.commenting=!0;continue}const ne=this.__isDelimiter(I,c,C);if(ne!==0){this.info.bytes=this.state.bufBytesStart+c;const Y=this.__onField();if(Y!==void 0)return Y;c+=ne-1;continue}}}if(this.state.commenting===!1&&y!==0&&this.state.record_length+this.state.field.length>y)return this.__error(new O("CSV_MAX_RECORD_SIZE",["Max Record Size:","record exceed the maximum number of tolerated bytes",`of ${y}`,`at line ${this.info.lines}`],this.options,this.__infoField()));const Z=p===!1||this.state.quoting===!0||this.state.field.length!==0||!this.__isCharTrimable(I,c),ye=_===!1||this.state.wasQuoting===!1;if(Z===!0&&ye===!0)this.state.field.append(C);else{if(_===!0&&!this.__isCharTrimable(I,c))return this.__error(new O("CSV_NON_TRIMABLE_CHAR_AFTER_CLOSING_QUOTE",["Invalid Closing Quote:","found non trimable byte after quote",`at line ${this.info.lines}`],this.options,this.__infoField()));Z===!1&&(c+=this.__isCharTrimable(I,c)-1);continue}}if(i===!0)if(this.state.quoting===!0){const C=this.__error(new O("CSV_QUOTE_NOT_CLOSED",["Quote Not Closed:",`the parsing is finished with an opening quote at line ${this.info.lines}`],this.options,this.__infoField()));if(C!==void 0)return C}else if(this.state.wasQuoting===!0||this.state.record.length!==0||this.state.field.length!==0){this.info.bytes=this.state.bufBytesStart+c;const C=this.__onField();if(C!==void 0)return C;const Z=this.__onRecord(n);if(Z!==void 0)return Z}else this.state.wasRowDelimiter===!0?this.info.empty_lines++:this.state.commenting===!0&&this.info.comment_lines++;else this.state.bufBytesStart+=c,this.state.previousBuf=I.slice(c);this.state.wasRowDelimiter===!0&&(this.info.lines++,this.state.wasRowDelimiter=!1)},__onRecord:function(t){const{columns:i,group_columns_by_name:n,encoding:o,info:r,from:m,relax_column_count:d,relax_column_count_less:v,relax_column_count_more:p,raw:y,skip_records_with_empty_values:S}=this.options,{enabled:B,record:_}=this.state;if(B===!1)return this.__resetRecord();const L=_.length;if(i===!0){if(S===!0&&Pe(_)){this.__resetRecord();return}return this.__firstLineToColumns(_)}if(i===!1&&this.info.records===0&&(this.state.expectedRecordLength=L),L!==this.state.expectedRecordLength){const A=i===!1?new O("CSV_RECORD_INCONSISTENT_FIELDS_LENGTH",["Invalid Record Length:",`expect ${this.state.expectedRecordLength},`,`got ${L} on line ${this.info.lines}`],this.options,this.__infoField(),{record:_}):new O("CSV_RECORD_INCONSISTENT_COLUMNS",["Invalid Record Length:",`columns length is ${i.length},`,`got ${L} on line ${this.info.lines}`],this.options,this.__infoField(),{record:_});if(d===!0||v===!0&&L<this.state.expectedRecordLength||p===!0&&L>this.state.expectedRecordLength)this.info.invalid_field_length++,this.state.error=A;else{const b=this.__error(A);if(b)return b}}if(S===!0&&Pe(_)){this.__resetRecord();return}if(this.state.recordHasError===!0){this.__resetRecord(),this.state.recordHasError=!1;return}if(this.info.records++,m===1||this.info.records>=m){const{objname:A}=this.options;if(i!==!1){const b={};for(let w=0,$=_.length;w<$;w++)i[w]===void 0||i[w].disabled||(n===!0&&b[i[w].name]!==void 0?Array.isArray(b[i[w].name])?b[i[w].name]=b[i[w].name].concat(_[w]):b[i[w].name]=[b[i[w].name],_[w]]:b[i[w].name]=_[w]);if(y===!0||r===!0){const w=Object.assign({record:b},y===!0?{raw:this.state.rawBuffer.toString(o)}:{},r===!0?{info:this.__infoRecord()}:{}),$=this.__push(A===void 0?w:[b[A],w],t);if($)return $}else{const w=this.__push(A===void 0?b:[b[A],b],t);if(w)return w}}else if(y===!0||r===!0){const b=Object.assign({record:_},y===!0?{raw:this.state.rawBuffer.toString(o)}:{},r===!0?{info:this.__infoRecord()}:{}),w=this.__push(A===void 0?b:[_[A],b],t);if(w)return w}else{const b=this.__push(A===void 0?_:[_[A],_],t);if(b)return b}}this.__resetRecord()},__firstLineToColumns:function(t){const{firstLineToHeaders:i}=this.state;try{const n=i===void 0?t:i.call(null,t);if(!Array.isArray(n))return this.__error(new O("CSV_INVALID_COLUMN_MAPPING",["Invalid Column Mapping:","expect an array from column function,",`got ${JSON.stringify(n)}`],this.options,this.__infoField(),{headers:n}));const o=Ue(n);this.state.expectedRecordLength=o.length,this.options.columns=o,this.__resetRecord();return}catch(n){return n}},__resetRecord:function(){this.options.raw===!0&&this.state.rawBuffer.reset(),this.state.error=void 0,this.state.record=[],this.state.record_length=0},__onField:function(){const{cast:t,encoding:i,rtrim:n,max_record_size:o}=this.options,{enabled:r,wasQuoting:m}=this.state;if(r===!1)return this.__resetField();let d=this.state.field.toString(i);if(n===!0&&m===!1&&(d=d.trimRight()),t===!0){const[v,p]=this.__cast(d);if(v!==void 0)return v;d=p}this.state.record.push(d),o!==0&&typeof d=="string"&&(this.state.record_length+=d.length),this.__resetField()},__resetField:function(){this.state.field.reset(),this.state.wasQuoting=!1},__push:function(t,i){const{on_record:n}=this.options;if(n!==void 0){const o=this.__infoRecord();try{t=n.call(null,t,o)}catch(r){return r}if(t==null)return}i(t)},__cast:function(t){const{columns:i,relax_column_count:n}=this.options;if(Array.isArray(i)===!0&&n&&this.options.columns.length<=this.state.record.length)return[void 0,void 0];if(this.state.castField!==null)try{const r=this.__infoField();return[void 0,this.state.castField.call(null,t,r)]}catch(r){return[r]}if(this.__isFloat(t))return[void 0,parseFloat(t)];if(this.options.cast_date!==!1){const r=this.__infoField();return[void 0,this.options.cast_date.call(null,t,r)]}return[void 0,t]},__isCharTrimable:function(t,i){return((o,r)=>{const{timchars:m}=this.state;e:for(let d=0;d<m.length;d++){const v=m[d];for(let p=0;p<v.length;p++)if(v[p]!==o[r+p])continue e;return v.length}return 0})(t,i)},__isFloat:function(t){return t-parseFloat(t)+1>=0},__compareBytes:function(t,i,n,o){if(t[0]!==o)return 0;const r=t.length;for(let m=1;m<r;m++)if(t[m]!==i[n+m])return 0;return r},__isDelimiter:function(t,i,n){const{delimiter:o,ignore_last_delimiters:r}=this.options;if(r===!0&&this.state.record.length===this.options.columns.length-1)return 0;if(r!==!1&&typeof r=="number"&&this.state.record.length===r-1)return 0;e:for(let m=0;m<o.length;m++){const d=o[m];if(d[0]===n){for(let v=1;v<d.length;v++)if(d[v]!==t[i+v])continue e;return d.length}}return 0},__isRecordDelimiter:function(t,i,n){const{record_delimiter:o}=this.options,r=o.length;e:for(let m=0;m<r;m++){const d=o[m],v=d.length;if(d[0]===t){for(let p=1;p<v;p++)if(d[p]!==i[n+p])continue e;return d.length}}return 0},__isEscape:function(t,i,n){const{escape:o}=this.options;if(o===null)return!1;const r=o.length;if(o[0]===n){for(let m=0;m<r;m++)if(o[m]!==t[i+m])return!1;return!0}return!1},__isQuote:function(t,i){const{quote:n}=this.options;if(n===null)return!1;const o=n.length;for(let r=0;r<o;r++)if(n[r]!==t[i+r])return!1;return!0},__autoDiscoverRecordDelimiter:function(t,i){const{encoding:n}=this.options,o=[h.Buffer.from(`\r
`,n),h.Buffer.from(`
`,n),h.Buffer.from("\r",n)];e:for(let r=0;r<o.length;r++){const m=o[r].length;for(let d=0;d<m;d++)if(o[r][d]!==t[i+d])continue e;return this.options.record_delimiter.push(o[r]),this.state.recordDelimiterMaxLength=o[r].length,o[r].length}return 0},__error:function(t){const{encoding:i,raw:n,skip_records_with_error:o}=this.options,r=typeof t=="string"?new Error(t):t;if(o){this.state.recordHasError=!0,this.options.on_skip!==void 0&&this.options.on_skip(r,n?this.state.rawBuffer.toString(i):void 0);return}else return r},__infoDataSet:function(){return{...this.info,columns:this.options.columns}},__infoRecord:function(){const{columns:t,raw:i,encoding:n}=this.options;return{...this.__infoDataSet(),error:this.state.error,header:t===!0,index:this.state.record.length,raw:i?this.state.rawBuffer.toString(n):void 0}},__infoField:function(){const{columns:t}=this.options,i=Array.isArray(t);return{...this.__infoRecord(),column:i===!0?t.length>this.state.record.length?t[this.state.record.length].name:null:this.state.record.length,quoting:this.state.wasQuoting}}}};class St extends mt.Transform{constructor(e={}){super({readableObjectMode:!0,...e,encoding:null}),this.api=xt(e),this.api.options.on_skip=(s,t)=>{this.emit("skip",s,t)},this.state=this.api.state,this.options=this.api.options,this.info=this.api.info}_transform(e,s,t){if(this.state.stop===!0)return;const i=this.api.parse(e,!1,n=>{this.push(n)},()=>{this.push(null),this.end(),this.on("end",this.destroy)});i!==void 0&&(this.state.stop=!0),t(i)}_flush(e){if(this.state.stop===!0)return;const s=this.api.parse(void 0,!0,t=>{this.push(t)},()=>{this.push(null),this.on("end",this.destroy)});e(s)}}const At=function(){let l,e,s;for(const i in arguments){const n=arguments[i],o=typeof n;if(l===void 0&&(typeof n=="string"||h.Buffer.isBuffer(n)))l=n;else if(e===void 0&&Je(n))e=n;else if(s===void 0&&o==="function")s=n;else throw new O("CSV_INVALID_ARGUMENT",["Invalid argument:",`got ${JSON.stringify(n)} at index ${i}`],e||{})}const t=new St(e);if(s){const i=e===void 0||e.objname===void 0?[]:{};t.on("readable",function(){let n;for(;(n=this.read())!==null;)e===void 0||e.objname===void 0?i.push(n):i[n[0]]=n[1]}),t.on("error",function(n){s(n,void 0,t.api.__infoDataSet())}),t.on("end",function(){s(void 0,i,t.api.__infoDataSet())})}if(l!==void 0){const i=function(){t.write(l),t.end()};typeof setImmediate=="function"?setImmediate(i):setTimeout(i,0)}return t},Nt={class:"container"},Ot={class:"p-2"},kt={class:"flex gap-1"},Tt={key:0,class:"mt-3"},Ct={key:1,class:"error error_box",role:"alert"},Et={class:"p-2"},Dt={class:"flex flex-col-reverse"},Lt={key:0,class:"error error_box"},Bt={key:0},Rt={style:{"white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}},Mt={class:"text-tsm text-gray-400"},Ft={key:1},Pt={style:{display:"flex","justify-content":"space-between"}},$t={class:"text-sm"},Vt={class:"text-tsm text-gray-500"},qt={class:"p-2"},Jt={class:"flex flex-col-reverse"},Ut={class:"p-2"},Ht={class:"border rounded-md border-gray-200 mb-3 w-full"},jt={key:0,class:"error error_box"},Kt={class:"p-2"},zt={key:0,class:"error error_box",role:"alert"},Qt={key:1,class:"error error_box",role:"alert"},Gt={key:2,class:"error error_box",role:"alert"},Wt={key:0,class:"p-2 overflow-auto"},Xt={class:"table table-auto w-full"},Yt={class:"table-row-group"},Zt={class:"table-cell border-b p-4 pt-0 pb-3"},ei={class:"table-cell border-b p-4 pt-0 pb-3"},ti={class:"table-cell border-b p-4 pt-0 pb-3"},ii={class:"p-2"},ni={class:"mb-3 w-full px-2 py-1"},si={key:0,class:"error error_box"},ri=["disabled"],oi={key:2,class:"blue-btn px-3 py-3 text-md flex items-center",type:"button",disabled:""},li={key:3,class:"font-semibold text-red-600 mt-2",role:"alert"},ai={key:4,class:"font-semibold text-red-600 mt-2",role:"alert"},ui={key:1,class:"p-2 overflow-auto"},ci={class:"table w-full"},fi={class:"table-row-group"},di={class:"table-cell border-b p-4 pt-0 pb-3"},mi=["href"],_i=qe({__name:"SiriusDistributionForm",setup(l){rt().appContext.config.globalProperties.emitter,W(()=>k.nativeToken.label);const s=N(!1),t=N(null),i=N(null),n=N(null),o=N("");N(!1),N({});const r=N(!1),m=N(""),d=N(!1),v=W(()=>r.value),p=N(""),{t:y}=tt(),S=N("");W(()=>!!i.value);let B=N([]),_=N(null),L=N(10),A=N([]),b=N(0),w=N(0),$=N([]),J=N(!1),se=N(!1),oe=N(!1),X=N(""),ce=N(!1),he=N(""),I=N(""),ie=N(""),c=N(!1),C=async()=>{J.value=!1,_.value=null,i.value&&(o.value=(await ae.getAccInfo(i.value)).publicKey);let u=await me.scanAsset(o.value?o.value:q.value?q.value.publicKey:"");B.value=u,u.length===0&&(J.value=!0)},Z=[{label:"5",value:5},{label:"10",value:10},{label:"15",value:15},{label:"20",value:20}],ye=async()=>{var Oe;if(ie.value="",ce.value=!1,c.value||oe.value||X.value)return;if(_.value===null){he.value="Please select SDA";return}else if(b.value===0){I.value="No recipient to distribute";return}else if(p.value&&!ae.verifyWalletPassword(G.currentLoggedInWallet.name,te.chainNetworkName,p.value)){S.value=y("general.walletPasswordInvalid",{name:G.currentLoggedInWallet.name});return}let u=Math.ceil(b.value/L.value),a=u*me.getLockFundTransactionFee(),g=u*te.currentNetworkProfileConfig.lockedFundsPerAggregate,T=B.value.find(Q=>Q.id===_.value.id);const E=await k.chainAPI.nodeAPI.getNodeTime();let F=me.createDistributeAggregateTransactions(o.value?o.value:q.value.publicKey,A.value,L.value,T,new D.UInt64(E.sendTimeStamp)),P=xe(F.map(Q=>Q.maxFee.compact())),fe=xe(a,g,P)/Math.pow(10,k.nativeToken.divisibility);const H=ae.createPassword(p.value);let K;if(Se.value){let Q=Ae.value.cosignerList;if(Q.length>1)K=m.value;else{let ke=(Oe=G.currentLoggedInWallet)==null?void 0:Oe.accounts.find(Ze=>Ze.publicKey==Q[0].publicKey);K=ke?ke.address:""}}let z;K?z=G.currentLoggedInWallet.accounts.find(Q=>Q.address===K):z=G.currentLoggedInWallet.accounts.find(Q=>Q.address===q.value.address);let we=ae.decryptPrivateKey(H,z.encrypted,z.iv).toUpperCase(),be=me.createAccount(we),de=(await me.scanAsset(be.publicKey)).find(Q=>Q.namespaceName===k.nativeToken.fullNamespace.trim());if(de){if(fe>de.amount){ie.value=`Initiator do not have enough XPX (${de.amount}), need ${fe}`;return}}else{ie.value="Initiator do not have any XPX";return}c.value=!0;let Ye=await me.signAllAbtAndAnnounce(F,be);c.value=!1,ce.value=!0,$.value=Ye};const V=async u=>await(()=>new Promise((T,E)=>{const F=[],P=At(u,{trim:!0,skip_empty_lines:!0});P.on("readable",function(){let ee;for(;(ee=P.read())!==null;)F.push(ee)}),P.on("end",function(){T(F)})}))();let re=u=>{se.value=!1;const a=u.target.files[0],g=new FileReader;g.onload=async T=>{const E=T.target.result;try{let F=[],P=E.split(/\r?\n/);for(let H=1;H<P.length;H++){let K=P[H].trim();if(K==="")break;const z=await V(K);F.push({publicKeyOrAddress:z[0][0],amount:z[0][1],message:z[0][2]?z[0][2]:""})}let ee=!1;A.value=[];let fe=[];if(F&&F.length)for(let H=0;H<F.length;++H){let K=F[H].publicKeyOrAddress.trim().replaceAll("-",""),z=F[H].amount.trim(),pe=parseFloat(F[H].amount.trim()),we=F[H].message;if(K.length===64){if(!D.Convert.isHexString(K)){ee=!0;break}}else if(K.length===40){if(D.Address.createFromRawAddress(K).networkType!==k.networkType){ee=!0;break}}else{ee=!0;break}let be=pe.toString().length;if(isNaN(pe)){ee=!0;break}else if(be!==z.length){let de=z.length-be;if(pe.toString()+"0".repeat(de)!==z){ee=!0;break}}let Ne={publicKeyOrAddress:K,amount:pe,message:we};fe.push(Ne)}ee?(se.value=!0,A.value=[],b.value=0,w.value=0):(b.value=F.length,w.value=xe(fe.map(H=>H.amount)),A.value=fe)}catch{se.value=!0}},g.readAsText(a)},ne=u=>{let a=te.currentNetworkProfile.chainExplorer;return a.url+"/"+a.hashRoute+"/"+u};N(!1);let Y=u=>{if(u){let a=B.value.find(g=>g.id===u.id);w.value>a.amount?oe.value=!0:oe.value=!1}else oe.value=!1},le=u=>{if(u){let a=B.value.find(T=>T.id===u.id);A.value.find(T=>{let E=Ve(T.amount),F=$e(E,Math.pow(10,a.divisibility)),P=Number(F.toString());return Math.trunc(P)!==P})?X.value="Invalid distribution amount, maximum decimal place is "+a.divisibility:X.value=""}else X.value=""};const q=N(),ge=W(()=>{if(!G.currentLoggedInWallet)return[];if(G.currentLoggedInWallet.others){const u=G.currentLoggedInWallet.accounts.map(T=>T),g=G.currentLoggedInWallet.others.filter(T=>T.type!="DELEGATE").map(T=>T);return u.concat(g)}else return G.currentLoggedInWallet.accounts.map(a=>a)});q.value=ge.value[0],C();const He=N(q.value.address),Se=W(()=>it(q.value.address)),je=W(()=>{const u=G.currentLoggedInWallet;if(!u)return[];let a=u.accounts.find(E=>E.address==q.value.address);if(!a)return[];var T=a.multisigInfo.filter(E=>E.level<0).map((E,F)=>({key:F.toString(),label:u.contacts.find(P=>P.address==ae.createAddressFromPublicKey(E.publicKey,k.networkType).plain())?u.contacts.find(P=>P.address==ae.createAddressFromPublicKey(E.publicKey,k.networkType).plain()).name:u.accounts.find(P=>P.publicKey==E.publicKey)?u.accounts.find(P=>P.publicKey==E.publicKey).name:"MULTISIG-"+ae.createAddressFromPublicKey(E.publicKey,k.networkType).plain().slice(-4),data:E.publicKey,selectable:!0}));return T});W(()=>je.value.length!=0);const Ke=u=>G.currentLoggedInWallet.accounts.find(a=>a.publicKey==u),Ae=W(()=>{const u=ge.value.find(T=>{var E;return T.address==((E=q.value)==null?void 0:E.address)});let a=lt.getCosignerInWallet(u.publicKey),g={hasCosigner:a.hasCosigner,cosignerList:[]};return a.cosignerList.forEach(T=>{const E=Ke(T);E&&g.cosignerList.push({publicKey:T,name:E.name,balance:E.balance,address:E.address})}),g}),ze=W(()=>ve.convertToExact(te.currentNetworkProfileConfig.lockedFundsPerAggregate,k.nativeToken.divisibility));W(()=>ve.convertToCurrency(te.currentNetworkProfileConfig.lockedFundsPerAggregate,k.nativeToken.divisibility));const Qe=W(()=>te.currentNetworkProfile?ve.convertToExact(nt.getLockFundFee(),k.nativeToken.divisibility):0);if(W(()=>ze.value+Qe.value),Se.value){let u=Ae.value.cosignerList;u.length>0?(m.value=G.currentLoggedInWallet.accounts.find(a=>a.publicKey==u[0].publicKey).address,r.value=!1,s.value=!1):r.value=!0}Ie(_,u=>{Y(u),le(u)}),Ie(w,u=>{Y(_.value),le(_.value)}),Ie(t,async(u,a)=>{(u==null||u!=a)&&(n.value=null,i.value=null)});const Ge=()=>{n.value=null,i.value=null,o.value="",C()},We=u=>{t.value=u;for(let a=0;a<ge.value.length;a++)ge.value[a].address==u&&(q.value=ge.value[a],C(),He.value=q.value.address)},Xe=u=>{n.value=u.label,i.value=u.value,C()};return(u,a)=>(R(),M("div",Nt,[f("div",Ot,[f("div",kt,[ue(ut,{type:"airdrop",label:"create airdrop token",onSelectAccount:We}),ue(ct,{"selected-address":t.value,onSelectMultisigAccount:Xe},null,8,["selected-address"])]),i.value?(R(),M("div",Tt,[ue(ft,{"select-default-address":i.value,"select-default-name":n.value,type:"airdrop",label:"TRANSFER FROM MULTISIG",onCloseMultisig:Ge},null,8,["select-default-address","select-default-name"])])):j("",!0),x(J)?(R(),M("div",Ct," No SDA found ")):j("",!0)]),f("div",Et,[f("div",null,[f("div",Dt,[x(he)!=""?(R(),M("div",Lt,U(x(he)),1)):j("",!0),ue(x(Le),{modelValue:x(_),"onUpdate:modelValue":a[0]||(a[0]=g=>De(_)?_.value=g:_=g),options:x(B),placeholder:"Select SDA to distribute",style:{width:"100%"},filter:!0,filterFields:["label"],optionLabel:"text","option-disabled":"disabled",showClear:!0},{value:Ce(g=>[g.value?(R(),M("div",Bt,[f("div",Rt,[Ee(U(g.value.label)+" ",1),f("span",Mt," ("+U(x(ve).toCurrencyFormat(g.value.amount,g.value.divisibility))+")",1)])])):(R(),M("span",Ft,U(g.placeholder),1))]),option:Ce(g=>[f("div",Pt,[f("span",$t,U(g.option.label),1),f("span",Vt,"Balance:"+U(x(ve).toCurrencyFormat(g.option.amount,g.option.divisibility)),1)])]),_:1},8,["modelValue","options"]),a[5]||(a[5]=f("label",{class:"font-medium text-gray-400",for:"floatingSelect"},"Sirius Digital Asset",-1))])])]),f("div",qt,[f("div",null,[f("div",Jt,[ue(x(Le),{modelValue:x(L),"onUpdate:modelValue":a[1]||(a[1]=g=>De(L)?L.value=g:L=g),options:x(Z),style:{width:"100%"},optionLabel:"label",optionValue:"value"},null,8,["modelValue","options"]),a[6]||(a[6]=f("label",{class:"font-medium text-gray-400",for:"floatingSelect"},"Transactions per aggregate",-1))])])]),f("div",Ut,[f("div",null,[f("div",Ht,[f("input",{type:"file",class:"form-control",onChange:a[2]||(a[2]=(...g)=>x(re)&&x(re)(...g)),id:"inputGroupFile04","aria-describedby":"inputGroupFileAddon04","aria-label":"Upload"},null,32)]),x(I)!=""?(R(),M("div",jt,U(x(I)),1)):j("",!0)])]),f("div",Kt,[f("div",null,[x(se)?(R(),M("div",zt," Invalid file ")):j("",!0),x(oe)?(R(),M("div",Qt," Total distribution amount exceed selected asset amount (need "+U(x(w))+") ",1)):j("",!0),x(X)?(R(),M("div",Gt,U(x(X)),1)):j("",!0)])]),x(A).length?(R(),M("div",Wt,[f("div",null,[f("div",Xt,[a[7]||(a[7]=st('<div class="table-header-group" data-v-8da65d2c><div class="table-row" data-v-8da65d2c><div class="table-cell border-b-2 font-semibold p-4 pt-0 pb-3" data-v-8da65d2c>Recipient (Public Key or Address)</div><div class="table-cell border-b-2 font-semibold p-4 pt-0 pb-3" data-v-8da65d2c>Amount</div><div class="table-cell border-b-2 font-semibold p-4 pt-0 pb-3" data-v-8da65d2c>Message</div></div></div>',1)),f("div",Yt,[(R(!0),M(Be,null,Re(x(A),(g,T)=>(R(),M("div",{class:"table-row",key:T},[f("div",Zt,U(g.publicKeyOrAddress),1),f("div",ei,U(g.amount),1),f("div",ti,U(g.message),1)]))),128))])])])])):j("",!0),f("div",ii,[f("div",ni,[a[9]||(a[9]=f("div",{class:"font-semibold"},"Enter your password to continue",-1)),ue(at,{placeholder:u.$t("general.enterPassword"),errorMessage:u.$t("general.passwordRequired"),showError:d.value,modelValue:p.value,"onUpdate:modelValue":a[3]||(a[3]=g=>p.value=g),icon:"lock",class:"mt-5 mb-3",disabled:v.value},null,8,["placeholder","errorMessage","showError","modelValue","disabled"]),S.value!=""?(R(),M("div",si,U(S.value),1)):j("",!0),x(c)?j("",!0):(R(),M("button",{key:1,type:"button",onClick:a[4]||(a[4]=g=>x(ye)()),disabled:x(c)&&!x(ce),class:"blue-btn px-3 py-3 text-md"},"Distribute",8,ri)),x(c)?(R(),M("button",oi,a[8]||(a[8]=[f("svg",{class:"animate-spin -ml-1 mr-3 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[f("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),f("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),Ee(" Distributing... ")]))):j("",!0),x(ie)?(R(),M("div",li,U(x(ie)),1)):j("",!0),x(ce)?(R(),M("div",ai," Distribution Done ")):j("",!0)])]),x($).length?(R(),M("div",ui,[f("div",null,[f("div",ci,[a[10]||(a[10]=f("div",{class:"table-header-group"},[f("div",{class:"table-row"},[f("div",{class:"table-cell border-b-2 p-4 pt-0 pb-3"},"Transaction Hash")])],-1)),f("div",fi,[(R(!0),M(Be,null,Re(x($),(g,T)=>(R(),M("div",{class:"table-row",key:T},[f("div",di,[f("a",{href:x(ne)(g),target:"_blank"},U(g),9,mi)])]))),128))])])])])):j("",!0)]))}});const hi=ot(_i,[["__scopeId","data-v-8da65d2c"]]),gi={class:"mt-10 flex-grow px-5"},pi={class:"mt-2 py-3"},bi={class:"w-11/12 ml-auto mr-auto border-2"},Ni=qe({__name:"ViewServicesAirdropToken",setup(l){return(e,s)=>(R(),M("div",gi,[s[0]||(s[0]=f("div",{class:"w-11/12 ml-auto mr-auto"},[f("div",{class:"flex"},[f("div",{class:"py-3 px-6 lg:flex items-center"},[f("div",{class:"text-xl mr-2 mb-2"},"Airdrop Token Utility")])])],-1)),f("div",pi,[f("div",bi,[ue(hi)])]),s[1]||(s[1]=f("div",{class:"mb-36"},null,-1))]))}});export{Ni as default};
