import{d as C,r as b,a6 as T,a7 as S,M as A,o as r,b as y,m as c,v as n,x as l,t as i,k as f,e as t,O as k,y as m,f as v,a5 as L,h as F,c as $,B as w,a as D,ac as H,i as R,w as P}from"./index-7c20dbaf.js";import{A as V,_ as M}from"./AccountTabs.vue_vue_type_script_setup_true_lang-61c8ebcb.js";import{s as g,a as N}from"./column.esm-30e0cbbb.js";import"./jdenticon-module-c8a60762.js";import"./functions-c6fc0c9f.js";import"./TextInput-6e5fb5b8.js";import"./TextInputClean-3d2e9fea.js";import"./icon-key-5b3f7dda.js";const B={class:"uppercase text-xxs font-bold mb-1"},E={class:"flex items-center"},I={class:"uppercase cursor-pointer font-bold text-txs"},z={class:"text-txs"},O=t("div",{class:"uppercase text-xxs font-bold mb-1"}," Status ",-1),W={class:"flex items-center"},K={class:"text-txs"},J={class:"flex items-center"},U={class:"text-txs cursor-pointer"},j={class:"text-txs"},q={directives:{tooltip:L}},G=C({...q,__name:"FailedTxnDT",props:{transactions:Array},setup(d){const o=b(!1),u=()=>{window.innerWidth<1024?o.value=!1:o.value=!0};u(),T(()=>{window.removeEventListener("resize",u)}),S(()=>{window.addEventListener("resize",u)});const p=F(),h=p==null?void 0:p.appContext.config.globalProperties.emitter,a=b(!1);return h.on("CLOSE_MODAL",s=>{a.value=s}),(s,x)=>{const _=A("tooltip");return r(),y("div",null,[c(m(N),{value:d.transactions,paginator:!0,rows:10,scrollDirection:"horizontal",alwaysShowPaginator:!1,responsiveLayout:"scroll",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",currentPageReportTemplate:""},{empty:n(()=>[l(i(s.$t("general.noRecord")),1)]),loading:n(()=>[l(i(s.$t("dashboard.fetchingTx")),1)]),default:n(()=>[o.value?v("",!0):(r(),f(m(g),{key:0,style:{width:"200px"},headerClass:"invisible"},{body:n(({data:e})=>[t("div",null,[t("div",B,i(s.$t("dashboard.txHash")),1),t("div",E,[t("div",I,[k((r(),y("span",z,[l(i(e.txnHash.substring(0,20))+"...",1)])),[[_,e.txnHash,void 0,{right:!0}]])])])])]),_:1})),o.value?v("",!0):(r(),f(m(g),{key:1,style:{width:"200px"},headerClass:"invisible"},{body:n(({data:e})=>[t("div",null,[O,t("div",W,[t("span",K,i(e.statusMsg),1)])])]),_:1})),o.value?(r(),f(m(g),{key:2,field:"hash",header:s.$t("dashboard.txHash"),headerStyle:"width:100px"},{body:n(({data:e})=>[t("div",J,[k((r(),y("span",U,[l(i(e.txnHash.substring(0,20))+"...",1)])),[[_,e.txnHash,void 0,{bottom:!0}]])])]),_:1},8,["header"])):v("",!0),o.value?(r(),f(m(g),{key:3,field:"status",header:"Status",headerStyle:"width:110px"},{body:n(({data:e})=>[t("span",j,i(e.statusMsg),1)]),_:1})):v("",!0)]),_:1},8,["value"])])}}}),Q={class:"lg:w-9/12 ml-2 mr-2 lg:ml-auto lg:mr-auto mt-5"},X={class:"flex my-2 gap-5 flex-none text-xs md:text-sm"},Y=t("div",{class:"border rounded-md text-white py-2 px-5",style:{background:"#DC143C"}},"Failed",-1),ie=C({__name:"ViewAccountFailedTransactions",props:{address:String},setup(d){const o=b([]),u=$(()=>{let a=[];return a=o.value,a}),p=async()=>{if(!w.chainAPI||!P.currentLoggedInWallet)return;const a=P.currentLoggedInWallet.accounts.find(e=>e.default===!0),s=a?a.publicKey:"";let _=(JSON.parse(sessionStorage.getItem("allFailedTransactions"))||[]).filter(e=>e.accPubKey.includes(s));o.value=_.flat()},h=async()=>{await p()};if(w.isReady)h();else{let a=D(w,s=>{s.isReady&&(h(),a())})}return H(()=>{setInterval(()=>{h()},1e3)}),(a,s)=>{const x=R("router-link");return r(),y("div",null,[t("div",Q,[c(V,{address:d.address,class:"mb-6"},null,8,["address"]),c(M,{address:d.address,selected:"txn"},null,8,["address"]),t("div",X,[c(x,{to:{name:"ViewAccountConfirmedTransactions",params:{address:d.address}},class:"border opacity-60 hover:opacity-100 cursor-pointer rounded-md text-white py-2 px-4",style:{background:"#007CFF"}},{default:n(()=>[l("Confirmed")]),_:1},8,["to"]),c(x,{to:{name:"ViewAccountPendingTransactions",params:{address:d.address}},class:"border opacity-60 hover:opacity-100 cursor-pointer rounded-md text-white py-2 px-5",style:{background:"#f3a91d"}},{default:n(()=>[l("Pending")]),_:1},8,["to"]),Y]),c(G,{transactions:u.value,class:"mt-3"},null,8,["transactions"])])])}}});export{ie as default};
