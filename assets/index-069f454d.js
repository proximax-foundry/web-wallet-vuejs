import{d as Se,r as Et,k as Ye,o as B,b as C,e as x,t as dt,m as Be,f as xt,l as Ae,_ as ee,p as Qe,j as tr,aS as Ve,a as Ge,R as Ce,A as Yt,S as Oe,C as er,c as jt,E as rr,I as ir,w as Kt,H as Fe,h as nr,F as Ue,i as or,ai as sr,a4 as Ze,a6 as Ke,aY as xe}from"./index-b4bb6af4.js";import{_ as ar}from"./icon-metamask-fox-25ba78e6.js";import{_ as hr}from"./icon-info-8b4f1351.js";import{t as $e}from"./jdenticon-module-6969b920.js";const lr={class:"border border-gray-200 px-2 py-2 text-left flex justify-between items-center"},fr={class:"uppercase text-gray-400 font-light text-txs text-left mb-2"},ur=["type","disabled","value","placeholder"],dr={class:"h-3 mb-2"},cr={key:0,class:"error error-text text-left"},vr=Se({__name:"PasswordInputClean",props:{placeholder:{type:String},errorMessage:{type:String},icon:{type:String},showError:{type:Boolean},modelValue:{type:String},disabled:{type:Boolean}},emits:["update:modelValue"],setup(u,{emit:c}){const m=u,v=St=>{c("update:modelValue",St.target.value)},p=Et("password"),d=Et(!1),E=Et(!1),lt=()=>{d.value=!d.value,d.value?p.value="text":p.value="password"},ft=()=>{m.modelValue==""||Object.keys(m.modelValue).length<8?E.value=!0:E.value=!1};return(St,yt)=>{const S=Ye("font-awesome-icon");return B(),C("div",{class:Ae(u.disabled?"opacity-50":"")},[x("div",lr,[x("div",null,[x("div",fr,dt(u.placeholder),1),x("input",{type:p.value,disabled:u.disabled==!0,value:u.modelValue,onInput:v,class:"text_input",placeholder:u.placeholder,onBlur:yt[0]||(yt[0]=I=>ft()),autocomplete:"off"},null,40,ur)]),d.value?xt("v-if",!0):(B(),Be(S,{key:0,icon:"eye",class:"text-gray-500 relative cursor-pointer text-right mr-2",onClick:yt[1]||(yt[1]=I=>{lt()})})),d.value?(B(),Be(S,{key:1,icon:"eye-slash",class:"text-gray-500 relative cursor-pointer text-right mr-2",onClick:yt[2]||(yt[2]=I=>{lt()})})):xt("v-if",!0)]),x("div",dr,[E.value||u.showError?(B(),C("div",cr,dt(u.errorMessage),1)):xt("v-if",!0)])],2)}}});const Ui=ee(vr,[["__file","/home/runner/work/web-wallet-vuejs/web-wallet-vuejs/src/components/PasswordInputClean.vue"]]);const mr={props:{placeholder:String,errorMessage:String,icon:String,showError:Boolean,disabled:Boolean,modelValue:String,imgRequired:Boolean},emits:["update:modelValue"],name:"MetamaskAddressInput",data(){return{inputText:"",borderColor:"border border-gray-300",textErr:!1}},methods:{clickInputText:function(){!this.showError&&!this.disabled&&(this.borderColor="border-2 border-blue-primary")},getIcon(){return require(`@/${this.icon}`)},blurInputText:function(){this.disabled||(this.modelValue==""?(this.borderColor="border-2 border-red-primary",this.textErr=!0):(this.borderColor="border-2 border-gray-300",this.textErr=!1))},focusInputText:function(){this.borderColor="border-2 border-blue-primary",this.textErr=!1}},mounted(){this.emitter.on("CLEAR_TEXT",u=>{this.inputText=u,this.textErr=!1,this.borderColor="border border-gray-300"})}},pr=u=>(Qe("data-v-0e261926"),u=u(),tr(),u),gr={class:"border border-gray-200 rounded"},Mr={class:"flex justify-left"},wr=pr(()=>x("div",{class:"w-18 flex items-center justify-center py-5 sm:h-20 flex-none"},[x("img",{src:ar,class:"w-8 h-8 inline-block"})],-1)),yr={class:"text-left flex items-center"},xr={class:"block"},br={class:"text-xxs uppercase text-blue-primary font-bold"},_r=["disabled","value","placeholder"],kr={key:0,class:"error error-text text-left"};function Er(u,c,m,v,p,d){return B(),C("div",null,[x("div",gr,[x("div",Mr,[wr,x("div",yr,[x("div",xr,[x("div",br,dt(u.$t("swap.toMetamaskAddress")),1),x("input",{disabled:m.disabled,value:m.modelValue,onInput:c[0]||(c[0]=E=>u.$emit("update:modelValue",E.target.value)),type:"text",size:"80",class:"placeholder bg-white",placeholder:m.placeholder,onClick:c[1]||(c[1]=E=>d.clickInputText()),onFocus:c[2]||(c[2]=E=>d.focusInputText()),onBlur:c[3]||(c[3]=E=>d.blurInputText())},null,40,_r)])])])]),p.textErr||m.showError?(B(),C("div",kr,dt(m.errorMessage),1)):xt("v-if",!0)])}const $i=ee(mr,[["render",Er],["__scopeId","data-v-0e261926"],["__file","/home/runner/work/web-wallet-vuejs/web-wallet-vuejs/src/modules/services/submodule/mainnetSwap/components/MetamaskAddressInput.vue"]]),Sr={class:"border border-gray-200 px-2 py-1 h-14 rounded-md"},Ar={class:"uppercase text-gray-500 text-txs text-left mb-1"},Nr={key:0,src:hr,class:"inline-block ml-1 relative cursor-pointer",style:{top:"-1px"}},Ir={class:"flex justify-between items-center"},Tr=["value","data-maska","placeholder"],Rr=["disabled"],Br={key:0,class:"h-3 mb-2 error error-text text-left"},Cr={key:1,class:"h-3 mb-2 error error-text text-left"},Or={key:2,class:"text-gray-600 text-xs mr-3 my-1 mb-5 text-left"},Fr=Se({__name:"SwapInputClean",props:{placeholder:String,errorMessage:String,emptyErrorMessage:String,icon:String,showError:Boolean,modelValue:{type:Number,required:!0},title:String,disabled:Boolean,maxAmount:{type:Number,required:!0},remarkOption:Boolean,transactionFee:String,gasFee:Number,toolTip:String,decimal:{type:Number,required:!0}},emits:["update:modelValue","clickedMaxAvailable"],setup(u){const c=u,{modelValue:m}=Ve(c),v=Et(!1),p=Et(!1),d=Et(!1);Ge(m,S=>{S==c.maxAmount?p.value=!0:p.value=!1});const E=()=>{p.value=!0},lt=()=>{v.value=!1,d.value=!1},ft=S=>{const I=S.target;I.value=I.value?I.value:"0",c.maxAmount<Number(I.value.replace(/,/g,""))?v.value=!0:v.value=!1},St=()=>{let S="0";return c.decimal>0&&(S=S+"."+"9".repeat(c.decimal)),S},yt={preProcess:S=>S.replace(/,/g,""),postProcess:S=>{if(!S)return"";let I=0;return c.decimal>0&&(I=1+c.decimal-(S.includes(".")?S.length-S.indexOf("."):0)),Intl.NumberFormat("en-US",{minimumFractionDigits:c.decimal}).format(parseFloat(S)).slice(0,I?-I:void 0)}};return(S,I)=>{const Nt=Ce("tooltip"),It=Ce("maska");return B(),C("div",{class:Ae(u.disabled?"opacity-50":"")},[x("div",Sr,[x("div",Ar,[Yt(dt(u.placeholder)+" ",1),u.toolTip?Oe((B(),C("img",Nr,null,512)),[[Nt,{value:"<tiptext>"+u.toolTip+"</tiptext>",escape:!0},void 0,{bottom:!0}]]):xt("v-if",!0)]),x("div",Ir,[Oe(x("input",{value:er(m),class:"supply_input","data-maska":St(),"data-maska-tokens":"0:\\d:multiple|9:\\d:optional",placeholder:u.placeholder,onKeyup:I[0]||(I[0]=At=>ft(At)),onInput:I[1]||(I[1]=At=>S.$emit("update:modelValue",parseFloat(At.target.value.replace(/,/g,""))))},null,40,Tr),[[It,void 0,yt]]),x("button",{disabled:u.disabled==!0,class:"w-24 cursor-pointer focus:outline-none text-blue-primary text-xs font-bold",onClick:I[2]||(I[2]=At=>{E(),S.$emit("clickedMaxAvailable",!0),lt()})},dt(S.$t("swap.maxAmount")),9,Rr)])]),v.value||u.showError?(B(),C("div",Br,dt(u.errorMessage),1)):xt("v-if",!0),d.value?(B(),C("div",Cr,dt(u.emptyErrorMessage),1)):xt("v-if",!0),p.value==!0&&u.remarkOption?(B(),C("div",Or,[Yt(dt(S.$t("swap.inputRemark1"))+" ",1),x("b",null,dt(u.transactionFee)+" xpx",1),Yt(" "+dt(S.$t("swap.inputRemark2"))+" ",1),x("b",null,dt(u.gasFee)+" xpx",1)])):xt("v-if",!0)],2)}}});const Pi=ee(Fr,[["__scopeId","data-v-115d9ac2"],["__file","/home/runner/work/web-wallet-vuejs/web-wallet-vuejs/src/modules/services/submodule/mainnetSwap/components/SwapInputClean.vue"]]),We="/web-wallet-vuejs/assets/icon-caret-down-7a395602.svg",Ur=Se({emits:["select-account","update:modelValue"],name:"SelectInputAccountOutgoingSwap",props:["modelValue","selectDefault","placeholder","otherToken","otherTokenId","name","divisibility"],setup(u){const c=jt(()=>rr.nativeToken.label),m=Et(!1);let v=new ir("ThemeStyleConfig");v.init();let p=v.jdenticonConfig;const{otherToken:d,divisibility:E,otherTokenId:lt}=Ve(u),ft=Et(!1),St=jt(()=>{var T=[];let ct;return ft.value?ct=Kt.currentLoggedInWallet.accounts.concat(Kt.currentLoggedInWallet.others):ct=Kt.currentLoggedInWallet.accounts.filter(b=>b.getDirectParentMultisig().length==0),ct.forEach(b=>{T.push({value:b.address,label:b.name})}),T}),yt=Et(""),S=Et(""),I=Et(0),Nt=Et(0),It=Et(""),At=(T,ct)=>{yt.value=T,S.value=ct;let b;ft.value?b=Kt.currentLoggedInWallet.accounts.concat(Kt.currentLoggedInWallet.others):b=Kt.currentLoggedInWallet.accounts;let vt=b.find(bt=>bt.address==ct);I.value=d.value!="prx.xpx"&&vt.assets.find(bt=>bt.idHex==lt.value)?vt.assets.find(bt=>bt.idHex==lt.value).amount:0,Nt.value=b.find(bt=>bt.address==ct).balance,It.value=$e(ct,25,p),m.value=!m.value};Ge(d,T=>{let ct=Kt.currentLoggedInWallet.accounts,b=ct.find(vt=>vt.address==S.value);b&&(I.value=T!="prx.xpx"&&b.assets.find(vt=>vt.idHex==lt.value)?b.assets.find(vt=>vt.idHex==lt.value).amount:0,Nt.value=ct.find(vt=>vt.address==S.value).balance)});const Jt=jt(()=>{let T=Fe.convertToCurrency(I.value,0).split(".");return'<span class="font-bold text-xs">'+T[0]+"</span>"+(T[1]?'.<span class="text-xxs">'+T[1]+"</span>":"")}),Tt=jt(()=>{let T=Fe.convertToCurrency(Nt.value,0).split(".");return'<span class="font-bold text-xs">'+T[0]+"</span>"+(T[1]?'.<span class="text-xxs">'+T[1]+"</span>":"")});return{currentNativeTokenName:c,selectAccount:At,selectedAddress:S,otherTokenBalanceFormatted:Jt,otherTokenBalance:I,selectedImg:It,accounts:St,toggleSelection:m,selectedAccount:yt,jdenticonConfig:p,toSvg:$e,nativeTokenBalance:Nt,nativeTokenBalanceFormatted:Tt}}}),$r={class:"flex items-center justify-between"},Pr={class:"flex"},Dr=["innerHTML"],Lr=["innerHTML"],qr={class:"flex flex-col ml-2 text-left"},zr={class:"text-blue-primary font-semibold text-xxs uppercase",style:{"line-height":"9px"}},Hr={key:0,class:"mt-1 text-tsm font-bold text-left"},Vr={key:1,class:"text-tsm font-bold mt-1 text-left"},Gr={class:"flex"},Zr={key:0,class:"text-xs mr-3"},Kr={class:"flex gap-2"},Wr={class:"flex gap-2"},Jr=["innerHTML"],Xr={key:1,class:"text-xs uppercase"},jr={class:"flex gap-2"},Yr=["innerHTML"],Qr={class:"text-xs"},ti={key:1,class:"text-xxs ml-auto cursor-pointer text-blue-primary font-semibold mt-auto mb-auto"},ei=x("img",{src:We},null,-1),ri=[ei],ii={key:2,class:"text-xxs ml-auto cursor-pointer text-blue-primary font-semibold mt-auto mb-auto"},ni=x("img",{src:We},null,-1),oi=[ni],si={class:"relative"},ai={key:0,class:"absolute border border-t-0 w-full z-50 bg-white max-h-40 overflow-auto px-3 filter drop-shodow-xl uppercase"},hi={key:0,class:"pl-2 pt-4 text-xxs text-gray-400 text-left"},li={key:1,class:"text-xxs pt-2 pl-2 pb-2"},fi=["onClick"],ui=["innerHTML"],di={class:"text-xs ml-2 font-semibold"},ci={key:0,class:"cursor-pointer text-blue-primary text-xxs mt-0.5 ml-auto font-semibold uppercase"},vi={key:1,class:"text-gray-500 text-xxs mt-0.5 ml-auto uppercase"};function mi(u,c,m,v,p,d){return B(),C(Ue,null,[x("div",{onClick:c[1]||(c[1]=E=>u.toggleSelection=!u.toggleSelection),class:"border ml-auto mr-auto py-3 px-2 cursor-pointer rounded-md"},[x("div",$r,[x("div",Pr,[u.selectedImg?(B(),C("div",{key:1,innerHTML:u.selectedImg},null,8,Lr)):(B(),C("div",{key:0,innerHTML:u.toSvg("account",25,u.jdenticonConfig)},null,8,Dr)),x("div",qr,[x("div",zr,dt(u.placeholder?u.placeholder:u.$t("general.account")),1),u.selectedAccount!=""?(B(),C("div",Hr,dt(u.selectedAccount),1)):(B(),C("div",Vr,dt(u.$t("general.selectAccount")),1))])]),x("div",Gr,[u.selectedAccount!=""?(B(),C("div",Zr,[x("div",Kr,[Yt(dt(u.$t("general.balance"))+" ",1),x("div",Wr,[u.otherToken!="prx.xpx"?(B(),C("div",{key:0,innerHTML:u.otherTokenBalanceFormatted},null,8,Jr)):xt("v-if",!0),u.otherToken!="prx.xpx"?(B(),C("div",Xr,dt(u.otherToken!="prx.xpx"?u.name:u.currentNativeTokenName),1)):xt("v-if",!0)]),x("div",jr,[x("div",{innerHTML:u.nativeTokenBalanceFormatted},null,8,Yr),x("div",Qr,dt(u.currentNativeTokenName),1)])])])):xt("v-if",!0),!u.toggleSelection&&u.selectedAccount==""?(B(),C("div",ti,ri)):xt("v-if",!0),!u.toggleSelection&&u.selectedAccount!=""?(B(),C("div",ii,oi)):xt("v-if",!0),u.toggleSelection?(B(),C("img",{key:3,onClick:c[0]||(c[0]=E=>{u.selectedAccount="",u.$emit("update:modelValue","")}),src:nr,class:"h-5 w-5 ml-auto cursor-pointer text-blue-primary font-semibold mt-auto mb-auto"})):xt("v-if",!0)])])]),x("div",si,[u.toggleSelection?(B(),C("div",ai,[u.accounts.length>0?(B(),C("div",hi,dt(u.$t("general.selectAccount")),1)):(B(),C("div",li,dt(u.$t("general.listEmpty")),1)),(B(!0),C(Ue,null,or(u.accounts,(E,lt)=>(B(),C("div",{key:E,class:Ae(["px-2 py-3 flex cursor-pointer items-center",`${lt!=u.accounts.length-1?"border-b border-gray-200":""}`]),onClick:ft=>{u.selectAccount(E.label,E.value),u.$emit("update:modelValue",u.selectedAddress),u.$emit("select-account",u.selectedAddress)}},[x("div",{innerHTML:u.toSvg(E.value,20,u.jdenticonConfig)},null,8,ui),x("div",di,dt(E.label),1),E.label!=u.selectedAccount?(B(),C("div",ci,dt(u.$t("general.select")),1)):(B(),C("div",vi,dt(u.$t("general.current")),1))],10,fi))),128))])):xt("v-if",!0)])],64)}const Di=ee(Ur,[["render",mi],["__file","/home/runner/work/web-wallet-vuejs/web-wallet-vuejs/src/modules/services/submodule/mainnetSwap/components/SelectInputAccountOutgoingSwap.vue"]]);var Ne={exports:{}};Ne.exports;(function(u){(function(c,m){function v(i,t){if(!i)throw new Error(t||"Assertion failed")}function p(i,t){i.super_=t;var r=function(){};r.prototype=t.prototype,i.prototype=new r,i.prototype.constructor=i}function d(i,t,r){if(d.isBN(i))return i;this.negative=0,this.words=null,this.length=0,this.red=null,i!==null&&((t==="le"||t==="be")&&(r=t,t=10),this._init(i||0,t||10,r||"be"))}typeof c=="object"?c.exports=d:m.BN=d,d.BN=d,d.wordSize=26;var E;try{typeof window<"u"&&typeof window.Buffer<"u"?E=window.Buffer:E=sr.Buffer}catch{}d.isBN=function(t){return t instanceof d?!0:t!==null&&typeof t=="object"&&t.constructor.wordSize===d.wordSize&&Array.isArray(t.words)},d.max=function(t,r){return t.cmp(r)>0?t:r},d.min=function(t,r){return t.cmp(r)<0?t:r},d.prototype._init=function(t,r,n){if(typeof t=="number")return this._initNumber(t,r,n);if(typeof t=="object")return this._initArray(t,r,n);r==="hex"&&(r=16),v(r===(r|0)&&r>=2&&r<=36),t=t.toString().replace(/\s+/g,"");var o=0;t[0]==="-"&&(o++,this.negative=1),o<t.length&&(r===16?this._parseHex(t,o,n):(this._parseBase(t,r,o),n==="le"&&this._initArray(this.toArray(),r,n)))},d.prototype._initNumber=function(t,r,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[t&67108863],this.length=1):t<4503599627370496?(this.words=[t&67108863,t/67108864&67108863],this.length=2):(v(t<9007199254740992),this.words=[t&67108863,t/67108864&67108863,1],this.length=3),n==="le"&&this._initArray(this.toArray(),r,n)},d.prototype._initArray=function(t,r,n){if(v(typeof t.length=="number"),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var o=0;o<this.length;o++)this.words[o]=0;var a,l,f=0;if(n==="be")for(o=t.length-1,a=0;o>=0;o-=3)l=t[o]|t[o-1]<<8|t[o-2]<<16,this.words[a]|=l<<f&67108863,this.words[a+1]=l>>>26-f&67108863,f+=24,f>=26&&(f-=26,a++);else if(n==="le")for(o=0,a=0;o<t.length;o+=3)l=t[o]|t[o+1]<<8|t[o+2]<<16,this.words[a]|=l<<f&67108863,this.words[a+1]=l>>>26-f&67108863,f+=24,f>=26&&(f-=26,a++);return this.strip()};function lt(i,t){var r=i.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function ft(i,t,r){var n=lt(i,r);return r-1>=t&&(n|=lt(i,r-1)<<4),n}d.prototype._parseHex=function(t,r,n){this.length=Math.ceil((t.length-r)/6),this.words=new Array(this.length);for(var o=0;o<this.length;o++)this.words[o]=0;var a=0,l=0,f;if(n==="be")for(o=t.length-1;o>=r;o-=2)f=ft(t,r,o)<<a,this.words[l]|=f&67108863,a>=18?(a-=18,l+=1,this.words[l]|=f>>>26):a+=8;else{var s=t.length-r;for(o=s%2===0?r+1:r;o<t.length;o+=2)f=ft(t,r,o)<<a,this.words[l]|=f&67108863,a>=18?(a-=18,l+=1,this.words[l]|=f>>>26):a+=8}this.strip()};function St(i,t,r,n){for(var o=0,a=Math.min(i.length,r),l=t;l<a;l++){var f=i.charCodeAt(l)-48;o*=n,f>=49?o+=f-49+10:f>=17?o+=f-17+10:o+=f}return o}d.prototype._parseBase=function(t,r,n){this.words=[0],this.length=1;for(var o=0,a=1;a<=67108863;a*=r)o++;o--,a=a/r|0;for(var l=t.length-n,f=l%o,s=Math.min(l,l-f)+n,e=0,h=n;h<s;h+=o)e=St(t,h,h+o,r),this.imuln(a),this.words[0]+e<67108864?this.words[0]+=e:this._iaddn(e);if(f!==0){var g=1;for(e=St(t,h,t.length,r),h=0;h<f;h++)g*=r;this.imuln(g),this.words[0]+e<67108864?this.words[0]+=e:this._iaddn(e)}this.strip()},d.prototype.copy=function(t){t.words=new Array(this.length);for(var r=0;r<this.length;r++)t.words[r]=this.words[r];t.length=this.length,t.negative=this.negative,t.red=this.red},d.prototype.clone=function(){var t=new d(null);return this.copy(t),t},d.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},d.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},d.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},d.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var yt=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],S=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],I=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];d.prototype.toString=function(t,r){t=t||10,r=r|0||1;var n;if(t===16||t==="hex"){n="";for(var o=0,a=0,l=0;l<this.length;l++){var f=this.words[l],s=((f<<o|a)&16777215).toString(16);a=f>>>24-o&16777215,a!==0||l!==this.length-1?n=yt[6-s.length]+s+n:n=s+n,o+=2,o>=26&&(o-=26,l--)}for(a!==0&&(n=a.toString(16)+n);n.length%r!==0;)n="0"+n;return this.negative!==0&&(n="-"+n),n}if(t===(t|0)&&t>=2&&t<=36){var e=S[t],h=I[t];n="";var g=this.clone();for(g.negative=0;!g.isZero();){var M=g.modn(h).toString(t);g=g.idivn(h),g.isZero()?n=M+n:n=yt[e-M.length]+M+n}for(this.isZero()&&(n="0"+n);n.length%r!==0;)n="0"+n;return this.negative!==0&&(n="-"+n),n}v(!1,"Base should be between 2 and 36")},d.prototype.toNumber=function(){var t=this.words[0];return this.length===2?t+=this.words[1]*67108864:this.length===3&&this.words[2]===1?t+=4503599627370496+this.words[1]*67108864:this.length>2&&v(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-t:t},d.prototype.toJSON=function(){return this.toString(16)},d.prototype.toBuffer=function(t,r){return v(typeof E<"u"),this.toArrayLike(E,t,r)},d.prototype.toArray=function(t,r){return this.toArrayLike(Array,t,r)},d.prototype.toArrayLike=function(t,r,n){var o=this.byteLength(),a=n||Math.max(1,o);v(o<=a,"byte array longer than desired length"),v(a>0,"Requested array length <= 0"),this.strip();var l=r==="le",f=new t(a),s,e,h=this.clone();if(l){for(e=0;!h.isZero();e++)s=h.andln(255),h.iushrn(8),f[e]=s;for(;e<a;e++)f[e]=0}else{for(e=0;e<a-o;e++)f[e]=0;for(e=0;!h.isZero();e++)s=h.andln(255),h.iushrn(8),f[a-e-1]=s}return f},Math.clz32?d.prototype._countBits=function(t){return 32-Math.clz32(t)}:d.prototype._countBits=function(t){var r=t,n=0;return r>=4096&&(n+=13,r>>>=13),r>=64&&(n+=7,r>>>=7),r>=8&&(n+=4,r>>>=4),r>=2&&(n+=2,r>>>=2),n+r},d.prototype._zeroBits=function(t){if(t===0)return 26;var r=t,n=0;return r&8191||(n+=13,r>>>=13),r&127||(n+=7,r>>>=7),r&15||(n+=4,r>>>=4),r&3||(n+=2,r>>>=2),r&1||n++,n},d.prototype.bitLength=function(){var t=this.words[this.length-1],r=this._countBits(t);return(this.length-1)*26+r};function Nt(i){for(var t=new Array(i.bitLength()),r=0;r<t.length;r++){var n=r/26|0,o=r%26;t[r]=(i.words[n]&1<<o)>>>o}return t}d.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,r=0;r<this.length;r++){var n=this._zeroBits(this.words[r]);if(t+=n,n!==26)break}return t},d.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},d.prototype.toTwos=function(t){return this.negative!==0?this.abs().inotn(t).iaddn(1):this.clone()},d.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},d.prototype.isNeg=function(){return this.negative!==0},d.prototype.neg=function(){return this.clone().ineg()},d.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},d.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]|t.words[r];return this.strip()},d.prototype.ior=function(t){return v((this.negative|t.negative)===0),this.iuor(t)},d.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},d.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},d.prototype.iuand=function(t){var r;this.length>t.length?r=t:r=this;for(var n=0;n<r.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=r.length,this.strip()},d.prototype.iand=function(t){return v((this.negative|t.negative)===0),this.iuand(t)},d.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},d.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},d.prototype.iuxor=function(t){var r,n;this.length>t.length?(r=this,n=t):(r=t,n=this);for(var o=0;o<n.length;o++)this.words[o]=r.words[o]^n.words[o];if(this!==r)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=r.length,this.strip()},d.prototype.ixor=function(t){return v((this.negative|t.negative)===0),this.iuxor(t)},d.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},d.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},d.prototype.inotn=function(t){v(typeof t=="number"&&t>=0);var r=Math.ceil(t/26)|0,n=t%26;this._expand(r),n>0&&r--;for(var o=0;o<r;o++)this.words[o]=~this.words[o]&67108863;return n>0&&(this.words[o]=~this.words[o]&67108863>>26-n),this.strip()},d.prototype.notn=function(t){return this.clone().inotn(t)},d.prototype.setn=function(t,r){v(typeof t=="number"&&t>=0);var n=t/26|0,o=t%26;return this._expand(n+1),r?this.words[n]=this.words[n]|1<<o:this.words[n]=this.words[n]&~(1<<o),this.strip()},d.prototype.iadd=function(t){var r;if(this.negative!==0&&t.negative===0)return this.negative=0,r=this.isub(t),this.negative^=1,this._normSign();if(this.negative===0&&t.negative!==0)return t.negative=0,r=this.isub(t),t.negative=1,r._normSign();var n,o;this.length>t.length?(n=this,o=t):(n=t,o=this);for(var a=0,l=0;l<o.length;l++)r=(n.words[l]|0)+(o.words[l]|0)+a,this.words[l]=r&67108863,a=r>>>26;for(;a!==0&&l<n.length;l++)r=(n.words[l]|0)+a,this.words[l]=r&67108863,a=r>>>26;if(this.length=n.length,a!==0)this.words[this.length]=a,this.length++;else if(n!==this)for(;l<n.length;l++)this.words[l]=n.words[l];return this},d.prototype.add=function(t){var r;return t.negative!==0&&this.negative===0?(t.negative=0,r=this.sub(t),t.negative^=1,r):t.negative===0&&this.negative!==0?(this.negative=0,r=t.sub(this),this.negative=1,r):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},d.prototype.isub=function(t){if(t.negative!==0){t.negative=0;var r=this.iadd(t);return t.negative=1,r._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n=this.cmp(t);if(n===0)return this.negative=0,this.length=1,this.words[0]=0,this;var o,a;n>0?(o=this,a=t):(o=t,a=this);for(var l=0,f=0;f<a.length;f++)r=(o.words[f]|0)-(a.words[f]|0)+l,l=r>>26,this.words[f]=r&67108863;for(;l!==0&&f<o.length;f++)r=(o.words[f]|0)+l,l=r>>26,this.words[f]=r&67108863;if(l===0&&f<o.length&&o!==this)for(;f<o.length;f++)this.words[f]=o.words[f];return this.length=Math.max(this.length,f),o!==this&&(this.negative=1),this.strip()},d.prototype.sub=function(t){return this.clone().isub(t)};function It(i,t,r){r.negative=t.negative^i.negative;var n=i.length+t.length|0;r.length=n,n=n-1|0;var o=i.words[0]|0,a=t.words[0]|0,l=o*a,f=l&67108863,s=l/67108864|0;r.words[0]=f;for(var e=1;e<n;e++){for(var h=s>>>26,g=s&67108863,M=Math.min(e,t.length-1),w=Math.max(0,e-i.length+1);w<=M;w++){var y=e-w|0;o=i.words[y]|0,a=t.words[w]|0,l=o*a+g,h+=l/67108864|0,g=l&67108863}r.words[e]=g|0,s=h|0}return s!==0?r.words[e]=s|0:r.length--,r.strip()}var At=function(t,r,n){var o=t.words,a=r.words,l=n.words,f=0,s,e,h,g=o[0]|0,M=g&8191,w=g>>>13,y=o[1]|0,k=y&8191,A=y>>>13,kt=o[2]|0,N=kt&8191,R=kt>>>13,Bt=o[3]|0,O=Bt&8191,F=Bt>>>13,Ct=o[4]|0,U=Ct&8191,$=Ct>>>13,Ot=o[5]|0,P=Ot&8191,D=Ot>>>13,Ft=o[6]|0,L=Ft&8191,q=Ft>>>13,Ut=o[7]|0,z=Ut&8191,H=Ut>>>13,$t=o[8]|0,V=$t&8191,G=$t>>>13,Pt=o[9]|0,Z=Pt&8191,K=Pt>>>13,Dt=a[0]|0,W=Dt&8191,J=Dt>>>13,Lt=a[1]|0,X=Lt&8191,j=Lt>>>13,qt=a[2]|0,Y=qt&8191,Q=qt>>>13,zt=a[3]|0,tt=zt&8191,et=zt>>>13,Ht=a[4]|0,rt=Ht&8191,it=Ht>>>13,Vt=a[5]|0,nt=Vt&8191,ot=Vt>>>13,Gt=a[6]|0,st=Gt&8191,at=Gt>>>13,Zt=a[7]|0,ht=Zt&8191,mt=Zt>>>13,Te=a[8]|0,pt=Te&8191,gt=Te>>>13,Re=a[9]|0,Mt=Re&8191,wt=Re>>>13;n.negative=t.negative^r.negative,n.length=19,s=Math.imul(M,W),e=Math.imul(M,J),e=e+Math.imul(w,W)|0,h=Math.imul(w,J);var re=(f+s|0)+((e&8191)<<13)|0;f=(h+(e>>>13)|0)+(re>>>26)|0,re&=67108863,s=Math.imul(k,W),e=Math.imul(k,J),e=e+Math.imul(A,W)|0,h=Math.imul(A,J),s=s+Math.imul(M,X)|0,e=e+Math.imul(M,j)|0,e=e+Math.imul(w,X)|0,h=h+Math.imul(w,j)|0;var ie=(f+s|0)+((e&8191)<<13)|0;f=(h+(e>>>13)|0)+(ie>>>26)|0,ie&=67108863,s=Math.imul(N,W),e=Math.imul(N,J),e=e+Math.imul(R,W)|0,h=Math.imul(R,J),s=s+Math.imul(k,X)|0,e=e+Math.imul(k,j)|0,e=e+Math.imul(A,X)|0,h=h+Math.imul(A,j)|0,s=s+Math.imul(M,Y)|0,e=e+Math.imul(M,Q)|0,e=e+Math.imul(w,Y)|0,h=h+Math.imul(w,Q)|0;var ne=(f+s|0)+((e&8191)<<13)|0;f=(h+(e>>>13)|0)+(ne>>>26)|0,ne&=67108863,s=Math.imul(O,W),e=Math.imul(O,J),e=e+Math.imul(F,W)|0,h=Math.imul(F,J),s=s+Math.imul(N,X)|0,e=e+Math.imul(N,j)|0,e=e+Math.imul(R,X)|0,h=h+Math.imul(R,j)|0,s=s+Math.imul(k,Y)|0,e=e+Math.imul(k,Q)|0,e=e+Math.imul(A,Y)|0,h=h+Math.imul(A,Q)|0,s=s+Math.imul(M,tt)|0,e=e+Math.imul(M,et)|0,e=e+Math.imul(w,tt)|0,h=h+Math.imul(w,et)|0;var oe=(f+s|0)+((e&8191)<<13)|0;f=(h+(e>>>13)|0)+(oe>>>26)|0,oe&=67108863,s=Math.imul(U,W),e=Math.imul(U,J),e=e+Math.imul($,W)|0,h=Math.imul($,J),s=s+Math.imul(O,X)|0,e=e+Math.imul(O,j)|0,e=e+Math.imul(F,X)|0,h=h+Math.imul(F,j)|0,s=s+Math.imul(N,Y)|0,e=e+Math.imul(N,Q)|0,e=e+Math.imul(R,Y)|0,h=h+Math.imul(R,Q)|0,s=s+Math.imul(k,tt)|0,e=e+Math.imul(k,et)|0,e=e+Math.imul(A,tt)|0,h=h+Math.imul(A,et)|0,s=s+Math.imul(M,rt)|0,e=e+Math.imul(M,it)|0,e=e+Math.imul(w,rt)|0,h=h+Math.imul(w,it)|0;var se=(f+s|0)+((e&8191)<<13)|0;f=(h+(e>>>13)|0)+(se>>>26)|0,se&=67108863,s=Math.imul(P,W),e=Math.imul(P,J),e=e+Math.imul(D,W)|0,h=Math.imul(D,J),s=s+Math.imul(U,X)|0,e=e+Math.imul(U,j)|0,e=e+Math.imul($,X)|0,h=h+Math.imul($,j)|0,s=s+Math.imul(O,Y)|0,e=e+Math.imul(O,Q)|0,e=e+Math.imul(F,Y)|0,h=h+Math.imul(F,Q)|0,s=s+Math.imul(N,tt)|0,e=e+Math.imul(N,et)|0,e=e+Math.imul(R,tt)|0,h=h+Math.imul(R,et)|0,s=s+Math.imul(k,rt)|0,e=e+Math.imul(k,it)|0,e=e+Math.imul(A,rt)|0,h=h+Math.imul(A,it)|0,s=s+Math.imul(M,nt)|0,e=e+Math.imul(M,ot)|0,e=e+Math.imul(w,nt)|0,h=h+Math.imul(w,ot)|0;var ae=(f+s|0)+((e&8191)<<13)|0;f=(h+(e>>>13)|0)+(ae>>>26)|0,ae&=67108863,s=Math.imul(L,W),e=Math.imul(L,J),e=e+Math.imul(q,W)|0,h=Math.imul(q,J),s=s+Math.imul(P,X)|0,e=e+Math.imul(P,j)|0,e=e+Math.imul(D,X)|0,h=h+Math.imul(D,j)|0,s=s+Math.imul(U,Y)|0,e=e+Math.imul(U,Q)|0,e=e+Math.imul($,Y)|0,h=h+Math.imul($,Q)|0,s=s+Math.imul(O,tt)|0,e=e+Math.imul(O,et)|0,e=e+Math.imul(F,tt)|0,h=h+Math.imul(F,et)|0,s=s+Math.imul(N,rt)|0,e=e+Math.imul(N,it)|0,e=e+Math.imul(R,rt)|0,h=h+Math.imul(R,it)|0,s=s+Math.imul(k,nt)|0,e=e+Math.imul(k,ot)|0,e=e+Math.imul(A,nt)|0,h=h+Math.imul(A,ot)|0,s=s+Math.imul(M,st)|0,e=e+Math.imul(M,at)|0,e=e+Math.imul(w,st)|0,h=h+Math.imul(w,at)|0;var he=(f+s|0)+((e&8191)<<13)|0;f=(h+(e>>>13)|0)+(he>>>26)|0,he&=67108863,s=Math.imul(z,W),e=Math.imul(z,J),e=e+Math.imul(H,W)|0,h=Math.imul(H,J),s=s+Math.imul(L,X)|0,e=e+Math.imul(L,j)|0,e=e+Math.imul(q,X)|0,h=h+Math.imul(q,j)|0,s=s+Math.imul(P,Y)|0,e=e+Math.imul(P,Q)|0,e=e+Math.imul(D,Y)|0,h=h+Math.imul(D,Q)|0,s=s+Math.imul(U,tt)|0,e=e+Math.imul(U,et)|0,e=e+Math.imul($,tt)|0,h=h+Math.imul($,et)|0,s=s+Math.imul(O,rt)|0,e=e+Math.imul(O,it)|0,e=e+Math.imul(F,rt)|0,h=h+Math.imul(F,it)|0,s=s+Math.imul(N,nt)|0,e=e+Math.imul(N,ot)|0,e=e+Math.imul(R,nt)|0,h=h+Math.imul(R,ot)|0,s=s+Math.imul(k,st)|0,e=e+Math.imul(k,at)|0,e=e+Math.imul(A,st)|0,h=h+Math.imul(A,at)|0,s=s+Math.imul(M,ht)|0,e=e+Math.imul(M,mt)|0,e=e+Math.imul(w,ht)|0,h=h+Math.imul(w,mt)|0;var le=(f+s|0)+((e&8191)<<13)|0;f=(h+(e>>>13)|0)+(le>>>26)|0,le&=67108863,s=Math.imul(V,W),e=Math.imul(V,J),e=e+Math.imul(G,W)|0,h=Math.imul(G,J),s=s+Math.imul(z,X)|0,e=e+Math.imul(z,j)|0,e=e+Math.imul(H,X)|0,h=h+Math.imul(H,j)|0,s=s+Math.imul(L,Y)|0,e=e+Math.imul(L,Q)|0,e=e+Math.imul(q,Y)|0,h=h+Math.imul(q,Q)|0,s=s+Math.imul(P,tt)|0,e=e+Math.imul(P,et)|0,e=e+Math.imul(D,tt)|0,h=h+Math.imul(D,et)|0,s=s+Math.imul(U,rt)|0,e=e+Math.imul(U,it)|0,e=e+Math.imul($,rt)|0,h=h+Math.imul($,it)|0,s=s+Math.imul(O,nt)|0,e=e+Math.imul(O,ot)|0,e=e+Math.imul(F,nt)|0,h=h+Math.imul(F,ot)|0,s=s+Math.imul(N,st)|0,e=e+Math.imul(N,at)|0,e=e+Math.imul(R,st)|0,h=h+Math.imul(R,at)|0,s=s+Math.imul(k,ht)|0,e=e+Math.imul(k,mt)|0,e=e+Math.imul(A,ht)|0,h=h+Math.imul(A,mt)|0,s=s+Math.imul(M,pt)|0,e=e+Math.imul(M,gt)|0,e=e+Math.imul(w,pt)|0,h=h+Math.imul(w,gt)|0;var fe=(f+s|0)+((e&8191)<<13)|0;f=(h+(e>>>13)|0)+(fe>>>26)|0,fe&=67108863,s=Math.imul(Z,W),e=Math.imul(Z,J),e=e+Math.imul(K,W)|0,h=Math.imul(K,J),s=s+Math.imul(V,X)|0,e=e+Math.imul(V,j)|0,e=e+Math.imul(G,X)|0,h=h+Math.imul(G,j)|0,s=s+Math.imul(z,Y)|0,e=e+Math.imul(z,Q)|0,e=e+Math.imul(H,Y)|0,h=h+Math.imul(H,Q)|0,s=s+Math.imul(L,tt)|0,e=e+Math.imul(L,et)|0,e=e+Math.imul(q,tt)|0,h=h+Math.imul(q,et)|0,s=s+Math.imul(P,rt)|0,e=e+Math.imul(P,it)|0,e=e+Math.imul(D,rt)|0,h=h+Math.imul(D,it)|0,s=s+Math.imul(U,nt)|0,e=e+Math.imul(U,ot)|0,e=e+Math.imul($,nt)|0,h=h+Math.imul($,ot)|0,s=s+Math.imul(O,st)|0,e=e+Math.imul(O,at)|0,e=e+Math.imul(F,st)|0,h=h+Math.imul(F,at)|0,s=s+Math.imul(N,ht)|0,e=e+Math.imul(N,mt)|0,e=e+Math.imul(R,ht)|0,h=h+Math.imul(R,mt)|0,s=s+Math.imul(k,pt)|0,e=e+Math.imul(k,gt)|0,e=e+Math.imul(A,pt)|0,h=h+Math.imul(A,gt)|0,s=s+Math.imul(M,Mt)|0,e=e+Math.imul(M,wt)|0,e=e+Math.imul(w,Mt)|0,h=h+Math.imul(w,wt)|0;var ue=(f+s|0)+((e&8191)<<13)|0;f=(h+(e>>>13)|0)+(ue>>>26)|0,ue&=67108863,s=Math.imul(Z,X),e=Math.imul(Z,j),e=e+Math.imul(K,X)|0,h=Math.imul(K,j),s=s+Math.imul(V,Y)|0,e=e+Math.imul(V,Q)|0,e=e+Math.imul(G,Y)|0,h=h+Math.imul(G,Q)|0,s=s+Math.imul(z,tt)|0,e=e+Math.imul(z,et)|0,e=e+Math.imul(H,tt)|0,h=h+Math.imul(H,et)|0,s=s+Math.imul(L,rt)|0,e=e+Math.imul(L,it)|0,e=e+Math.imul(q,rt)|0,h=h+Math.imul(q,it)|0,s=s+Math.imul(P,nt)|0,e=e+Math.imul(P,ot)|0,e=e+Math.imul(D,nt)|0,h=h+Math.imul(D,ot)|0,s=s+Math.imul(U,st)|0,e=e+Math.imul(U,at)|0,e=e+Math.imul($,st)|0,h=h+Math.imul($,at)|0,s=s+Math.imul(O,ht)|0,e=e+Math.imul(O,mt)|0,e=e+Math.imul(F,ht)|0,h=h+Math.imul(F,mt)|0,s=s+Math.imul(N,pt)|0,e=e+Math.imul(N,gt)|0,e=e+Math.imul(R,pt)|0,h=h+Math.imul(R,gt)|0,s=s+Math.imul(k,Mt)|0,e=e+Math.imul(k,wt)|0,e=e+Math.imul(A,Mt)|0,h=h+Math.imul(A,wt)|0;var de=(f+s|0)+((e&8191)<<13)|0;f=(h+(e>>>13)|0)+(de>>>26)|0,de&=67108863,s=Math.imul(Z,Y),e=Math.imul(Z,Q),e=e+Math.imul(K,Y)|0,h=Math.imul(K,Q),s=s+Math.imul(V,tt)|0,e=e+Math.imul(V,et)|0,e=e+Math.imul(G,tt)|0,h=h+Math.imul(G,et)|0,s=s+Math.imul(z,rt)|0,e=e+Math.imul(z,it)|0,e=e+Math.imul(H,rt)|0,h=h+Math.imul(H,it)|0,s=s+Math.imul(L,nt)|0,e=e+Math.imul(L,ot)|0,e=e+Math.imul(q,nt)|0,h=h+Math.imul(q,ot)|0,s=s+Math.imul(P,st)|0,e=e+Math.imul(P,at)|0,e=e+Math.imul(D,st)|0,h=h+Math.imul(D,at)|0,s=s+Math.imul(U,ht)|0,e=e+Math.imul(U,mt)|0,e=e+Math.imul($,ht)|0,h=h+Math.imul($,mt)|0,s=s+Math.imul(O,pt)|0,e=e+Math.imul(O,gt)|0,e=e+Math.imul(F,pt)|0,h=h+Math.imul(F,gt)|0,s=s+Math.imul(N,Mt)|0,e=e+Math.imul(N,wt)|0,e=e+Math.imul(R,Mt)|0,h=h+Math.imul(R,wt)|0;var ce=(f+s|0)+((e&8191)<<13)|0;f=(h+(e>>>13)|0)+(ce>>>26)|0,ce&=67108863,s=Math.imul(Z,tt),e=Math.imul(Z,et),e=e+Math.imul(K,tt)|0,h=Math.imul(K,et),s=s+Math.imul(V,rt)|0,e=e+Math.imul(V,it)|0,e=e+Math.imul(G,rt)|0,h=h+Math.imul(G,it)|0,s=s+Math.imul(z,nt)|0,e=e+Math.imul(z,ot)|0,e=e+Math.imul(H,nt)|0,h=h+Math.imul(H,ot)|0,s=s+Math.imul(L,st)|0,e=e+Math.imul(L,at)|0,e=e+Math.imul(q,st)|0,h=h+Math.imul(q,at)|0,s=s+Math.imul(P,ht)|0,e=e+Math.imul(P,mt)|0,e=e+Math.imul(D,ht)|0,h=h+Math.imul(D,mt)|0,s=s+Math.imul(U,pt)|0,e=e+Math.imul(U,gt)|0,e=e+Math.imul($,pt)|0,h=h+Math.imul($,gt)|0,s=s+Math.imul(O,Mt)|0,e=e+Math.imul(O,wt)|0,e=e+Math.imul(F,Mt)|0,h=h+Math.imul(F,wt)|0;var ve=(f+s|0)+((e&8191)<<13)|0;f=(h+(e>>>13)|0)+(ve>>>26)|0,ve&=67108863,s=Math.imul(Z,rt),e=Math.imul(Z,it),e=e+Math.imul(K,rt)|0,h=Math.imul(K,it),s=s+Math.imul(V,nt)|0,e=e+Math.imul(V,ot)|0,e=e+Math.imul(G,nt)|0,h=h+Math.imul(G,ot)|0,s=s+Math.imul(z,st)|0,e=e+Math.imul(z,at)|0,e=e+Math.imul(H,st)|0,h=h+Math.imul(H,at)|0,s=s+Math.imul(L,ht)|0,e=e+Math.imul(L,mt)|0,e=e+Math.imul(q,ht)|0,h=h+Math.imul(q,mt)|0,s=s+Math.imul(P,pt)|0,e=e+Math.imul(P,gt)|0,e=e+Math.imul(D,pt)|0,h=h+Math.imul(D,gt)|0,s=s+Math.imul(U,Mt)|0,e=e+Math.imul(U,wt)|0,e=e+Math.imul($,Mt)|0,h=h+Math.imul($,wt)|0;var me=(f+s|0)+((e&8191)<<13)|0;f=(h+(e>>>13)|0)+(me>>>26)|0,me&=67108863,s=Math.imul(Z,nt),e=Math.imul(Z,ot),e=e+Math.imul(K,nt)|0,h=Math.imul(K,ot),s=s+Math.imul(V,st)|0,e=e+Math.imul(V,at)|0,e=e+Math.imul(G,st)|0,h=h+Math.imul(G,at)|0,s=s+Math.imul(z,ht)|0,e=e+Math.imul(z,mt)|0,e=e+Math.imul(H,ht)|0,h=h+Math.imul(H,mt)|0,s=s+Math.imul(L,pt)|0,e=e+Math.imul(L,gt)|0,e=e+Math.imul(q,pt)|0,h=h+Math.imul(q,gt)|0,s=s+Math.imul(P,Mt)|0,e=e+Math.imul(P,wt)|0,e=e+Math.imul(D,Mt)|0,h=h+Math.imul(D,wt)|0;var pe=(f+s|0)+((e&8191)<<13)|0;f=(h+(e>>>13)|0)+(pe>>>26)|0,pe&=67108863,s=Math.imul(Z,st),e=Math.imul(Z,at),e=e+Math.imul(K,st)|0,h=Math.imul(K,at),s=s+Math.imul(V,ht)|0,e=e+Math.imul(V,mt)|0,e=e+Math.imul(G,ht)|0,h=h+Math.imul(G,mt)|0,s=s+Math.imul(z,pt)|0,e=e+Math.imul(z,gt)|0,e=e+Math.imul(H,pt)|0,h=h+Math.imul(H,gt)|0,s=s+Math.imul(L,Mt)|0,e=e+Math.imul(L,wt)|0,e=e+Math.imul(q,Mt)|0,h=h+Math.imul(q,wt)|0;var ge=(f+s|0)+((e&8191)<<13)|0;f=(h+(e>>>13)|0)+(ge>>>26)|0,ge&=67108863,s=Math.imul(Z,ht),e=Math.imul(Z,mt),e=e+Math.imul(K,ht)|0,h=Math.imul(K,mt),s=s+Math.imul(V,pt)|0,e=e+Math.imul(V,gt)|0,e=e+Math.imul(G,pt)|0,h=h+Math.imul(G,gt)|0,s=s+Math.imul(z,Mt)|0,e=e+Math.imul(z,wt)|0,e=e+Math.imul(H,Mt)|0,h=h+Math.imul(H,wt)|0;var Me=(f+s|0)+((e&8191)<<13)|0;f=(h+(e>>>13)|0)+(Me>>>26)|0,Me&=67108863,s=Math.imul(Z,pt),e=Math.imul(Z,gt),e=e+Math.imul(K,pt)|0,h=Math.imul(K,gt),s=s+Math.imul(V,Mt)|0,e=e+Math.imul(V,wt)|0,e=e+Math.imul(G,Mt)|0,h=h+Math.imul(G,wt)|0;var we=(f+s|0)+((e&8191)<<13)|0;f=(h+(e>>>13)|0)+(we>>>26)|0,we&=67108863,s=Math.imul(Z,Mt),e=Math.imul(Z,wt),e=e+Math.imul(K,Mt)|0,h=Math.imul(K,wt);var ye=(f+s|0)+((e&8191)<<13)|0;return f=(h+(e>>>13)|0)+(ye>>>26)|0,ye&=67108863,l[0]=re,l[1]=ie,l[2]=ne,l[3]=oe,l[4]=se,l[5]=ae,l[6]=he,l[7]=le,l[8]=fe,l[9]=ue,l[10]=de,l[11]=ce,l[12]=ve,l[13]=me,l[14]=pe,l[15]=ge,l[16]=Me,l[17]=we,l[18]=ye,f!==0&&(l[19]=f,n.length++),n};Math.imul||(At=It);function Jt(i,t,r){r.negative=t.negative^i.negative,r.length=i.length+t.length;for(var n=0,o=0,a=0;a<r.length-1;a++){var l=o;o=0;for(var f=n&67108863,s=Math.min(a,t.length-1),e=Math.max(0,a-i.length+1);e<=s;e++){var h=a-e,g=i.words[h]|0,M=t.words[e]|0,w=g*M,y=w&67108863;l=l+(w/67108864|0)|0,y=y+f|0,f=y&67108863,l=l+(y>>>26)|0,o+=l>>>26,l&=67108863}r.words[a]=f,n=l,l=o}return n!==0?r.words[a]=n:r.length--,r.strip()}function Tt(i,t,r){var n=new T;return n.mulp(i,t,r)}d.prototype.mulTo=function(t,r){var n,o=this.length+t.length;return this.length===10&&t.length===10?n=At(this,t,r):o<63?n=It(this,t,r):o<1024?n=Jt(this,t,r):n=Tt(this,t,r),n};function T(i,t){this.x=i,this.y=t}T.prototype.makeRBT=function(t){for(var r=new Array(t),n=d.prototype._countBits(t)-1,o=0;o<t;o++)r[o]=this.revBin(o,n,t);return r},T.prototype.revBin=function(t,r,n){if(t===0||t===n-1)return t;for(var o=0,a=0;a<r;a++)o|=(t&1)<<r-a-1,t>>=1;return o},T.prototype.permute=function(t,r,n,o,a,l){for(var f=0;f<l;f++)o[f]=r[t[f]],a[f]=n[t[f]]},T.prototype.transform=function(t,r,n,o,a,l){this.permute(l,t,r,n,o,a);for(var f=1;f<a;f<<=1)for(var s=f<<1,e=Math.cos(2*Math.PI/s),h=Math.sin(2*Math.PI/s),g=0;g<a;g+=s)for(var M=e,w=h,y=0;y<f;y++){var k=n[g+y],A=o[g+y],kt=n[g+y+f],N=o[g+y+f],R=M*kt-w*N;N=M*N+w*kt,kt=R,n[g+y]=k+kt,o[g+y]=A+N,n[g+y+f]=k-kt,o[g+y+f]=A-N,y!==s&&(R=e*M-h*w,w=e*w+h*M,M=R)}},T.prototype.guessLen13b=function(t,r){var n=Math.max(r,t)|1,o=n&1,a=0;for(n=n/2|0;n;n=n>>>1)a++;return 1<<a+1+o},T.prototype.conjugate=function(t,r,n){if(!(n<=1))for(var o=0;o<n/2;o++){var a=t[o];t[o]=t[n-o-1],t[n-o-1]=a,a=r[o],r[o]=-r[n-o-1],r[n-o-1]=-a}},T.prototype.normalize13b=function(t,r){for(var n=0,o=0;o<r/2;o++){var a=Math.round(t[2*o+1]/r)*8192+Math.round(t[2*o]/r)+n;t[o]=a&67108863,a<67108864?n=0:n=a/67108864|0}return t},T.prototype.convert13b=function(t,r,n,o){for(var a=0,l=0;l<r;l++)a=a+(t[l]|0),n[2*l]=a&8191,a=a>>>13,n[2*l+1]=a&8191,a=a>>>13;for(l=2*r;l<o;++l)n[l]=0;v(a===0),v((a&-8192)===0)},T.prototype.stub=function(t){for(var r=new Array(t),n=0;n<t;n++)r[n]=0;return r},T.prototype.mulp=function(t,r,n){var o=2*this.guessLen13b(t.length,r.length),a=this.makeRBT(o),l=this.stub(o),f=new Array(o),s=new Array(o),e=new Array(o),h=new Array(o),g=new Array(o),M=new Array(o),w=n.words;w.length=o,this.convert13b(t.words,t.length,f,o),this.convert13b(r.words,r.length,h,o),this.transform(f,l,s,e,o,a),this.transform(h,l,g,M,o,a);for(var y=0;y<o;y++){var k=s[y]*g[y]-e[y]*M[y];e[y]=s[y]*M[y]+e[y]*g[y],s[y]=k}return this.conjugate(s,e,o),this.transform(s,e,w,l,o,a),this.conjugate(w,l,o),this.normalize13b(w,o),n.negative=t.negative^r.negative,n.length=t.length+r.length,n.strip()},d.prototype.mul=function(t){var r=new d(null);return r.words=new Array(this.length+t.length),this.mulTo(t,r)},d.prototype.mulf=function(t){var r=new d(null);return r.words=new Array(this.length+t.length),Tt(this,t,r)},d.prototype.imul=function(t){return this.clone().mulTo(t,this)},d.prototype.imuln=function(t){v(typeof t=="number"),v(t<67108864);for(var r=0,n=0;n<this.length;n++){var o=(this.words[n]|0)*t,a=(o&67108863)+(r&67108863);r>>=26,r+=o/67108864|0,r+=a>>>26,this.words[n]=a&67108863}return r!==0&&(this.words[n]=r,this.length++),this},d.prototype.muln=function(t){return this.clone().imuln(t)},d.prototype.sqr=function(){return this.mul(this)},d.prototype.isqr=function(){return this.imul(this.clone())},d.prototype.pow=function(t){var r=Nt(t);if(r.length===0)return new d(1);for(var n=this,o=0;o<r.length&&r[o]===0;o++,n=n.sqr());if(++o<r.length)for(var a=n.sqr();o<r.length;o++,a=a.sqr())r[o]!==0&&(n=n.mul(a));return n},d.prototype.iushln=function(t){v(typeof t=="number"&&t>=0);var r=t%26,n=(t-r)/26,o=67108863>>>26-r<<26-r,a;if(r!==0){var l=0;for(a=0;a<this.length;a++){var f=this.words[a]&o,s=(this.words[a]|0)-f<<r;this.words[a]=s|l,l=f>>>26-r}l&&(this.words[a]=l,this.length++)}if(n!==0){for(a=this.length-1;a>=0;a--)this.words[a+n]=this.words[a];for(a=0;a<n;a++)this.words[a]=0;this.length+=n}return this.strip()},d.prototype.ishln=function(t){return v(this.negative===0),this.iushln(t)},d.prototype.iushrn=function(t,r,n){v(typeof t=="number"&&t>=0);var o;r?o=(r-r%26)/26:o=0;var a=t%26,l=Math.min((t-a)/26,this.length),f=67108863^67108863>>>a<<a,s=n;if(o-=l,o=Math.max(0,o),s){for(var e=0;e<l;e++)s.words[e]=this.words[e];s.length=l}if(l!==0)if(this.length>l)for(this.length-=l,e=0;e<this.length;e++)this.words[e]=this.words[e+l];else this.words[0]=0,this.length=1;var h=0;for(e=this.length-1;e>=0&&(h!==0||e>=o);e--){var g=this.words[e]|0;this.words[e]=h<<26-a|g>>>a,h=g&f}return s&&h!==0&&(s.words[s.length++]=h),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},d.prototype.ishrn=function(t,r,n){return v(this.negative===0),this.iushrn(t,r,n)},d.prototype.shln=function(t){return this.clone().ishln(t)},d.prototype.ushln=function(t){return this.clone().iushln(t)},d.prototype.shrn=function(t){return this.clone().ishrn(t)},d.prototype.ushrn=function(t){return this.clone().iushrn(t)},d.prototype.testn=function(t){v(typeof t=="number"&&t>=0);var r=t%26,n=(t-r)/26,o=1<<r;if(this.length<=n)return!1;var a=this.words[n];return!!(a&o)},d.prototype.imaskn=function(t){v(typeof t=="number"&&t>=0);var r=t%26,n=(t-r)/26;if(v(this.negative===0,"imaskn works only with positive numbers"),this.length<=n)return this;if(r!==0&&n++,this.length=Math.min(n,this.length),r!==0){var o=67108863^67108863>>>r<<r;this.words[this.length-1]&=o}return this.strip()},d.prototype.maskn=function(t){return this.clone().imaskn(t)},d.prototype.iaddn=function(t){return v(typeof t=="number"),v(t<67108864),t<0?this.isubn(-t):this.negative!==0?this.length===1&&(this.words[0]|0)<t?(this.words[0]=t-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},d.prototype._iaddn=function(t){this.words[0]+=t;for(var r=0;r<this.length&&this.words[r]>=67108864;r++)this.words[r]-=67108864,r===this.length-1?this.words[r+1]=1:this.words[r+1]++;return this.length=Math.max(this.length,r+1),this},d.prototype.isubn=function(t){if(v(typeof t=="number"),v(t<67108864),t<0)return this.iaddn(-t);if(this.negative!==0)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var r=0;r<this.length&&this.words[r]<0;r++)this.words[r]+=67108864,this.words[r+1]-=1;return this.strip()},d.prototype.addn=function(t){return this.clone().iaddn(t)},d.prototype.subn=function(t){return this.clone().isubn(t)},d.prototype.iabs=function(){return this.negative=0,this},d.prototype.abs=function(){return this.clone().iabs()},d.prototype._ishlnsubmul=function(t,r,n){var o=t.length+n,a;this._expand(o);var l,f=0;for(a=0;a<t.length;a++){l=(this.words[a+n]|0)+f;var s=(t.words[a]|0)*r;l-=s&67108863,f=(l>>26)-(s/67108864|0),this.words[a+n]=l&67108863}for(;a<this.length-n;a++)l=(this.words[a+n]|0)+f,f=l>>26,this.words[a+n]=l&67108863;if(f===0)return this.strip();for(v(f===-1),f=0,a=0;a<this.length;a++)l=-(this.words[a]|0)+f,f=l>>26,this.words[a]=l&67108863;return this.negative=1,this.strip()},d.prototype._wordDiv=function(t,r){var n=this.length-t.length,o=this.clone(),a=t,l=a.words[a.length-1]|0,f=this._countBits(l);n=26-f,n!==0&&(a=a.ushln(n),o.iushln(n),l=a.words[a.length-1]|0);var s=o.length-a.length,e;if(r!=="mod"){e=new d(null),e.length=s+1,e.words=new Array(e.length);for(var h=0;h<e.length;h++)e.words[h]=0}var g=o.clone()._ishlnsubmul(a,1,s);g.negative===0&&(o=g,e&&(e.words[s]=1));for(var M=s-1;M>=0;M--){var w=(o.words[a.length+M]|0)*67108864+(o.words[a.length+M-1]|0);for(w=Math.min(w/l|0,67108863),o._ishlnsubmul(a,w,M);o.negative!==0;)w--,o.negative=0,o._ishlnsubmul(a,1,M),o.isZero()||(o.negative^=1);e&&(e.words[M]=w)}return e&&e.strip(),o.strip(),r!=="div"&&n!==0&&o.iushrn(n),{div:e||null,mod:o}},d.prototype.divmod=function(t,r,n){if(v(!t.isZero()),this.isZero())return{div:new d(0),mod:new d(0)};var o,a,l;return this.negative!==0&&t.negative===0?(l=this.neg().divmod(t,r),r!=="mod"&&(o=l.div.neg()),r!=="div"&&(a=l.mod.neg(),n&&a.negative!==0&&a.iadd(t)),{div:o,mod:a}):this.negative===0&&t.negative!==0?(l=this.divmod(t.neg(),r),r!=="mod"&&(o=l.div.neg()),{div:o,mod:l.mod}):this.negative&t.negative?(l=this.neg().divmod(t.neg(),r),r!=="div"&&(a=l.mod.neg(),n&&a.negative!==0&&a.isub(t)),{div:l.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new d(0),mod:this}:t.length===1?r==="div"?{div:this.divn(t.words[0]),mod:null}:r==="mod"?{div:null,mod:new d(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new d(this.modn(t.words[0]))}:this._wordDiv(t,r)},d.prototype.div=function(t){return this.divmod(t,"div",!1).div},d.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},d.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},d.prototype.divRound=function(t){var r=this.divmod(t);if(r.mod.isZero())return r.div;var n=r.div.negative!==0?r.mod.isub(t):r.mod,o=t.ushrn(1),a=t.andln(1),l=n.cmp(o);return l<0||a===1&&l===0?r.div:r.div.negative!==0?r.div.isubn(1):r.div.iaddn(1)},d.prototype.modn=function(t){v(t<=67108863);for(var r=(1<<26)%t,n=0,o=this.length-1;o>=0;o--)n=(r*n+(this.words[o]|0))%t;return n},d.prototype.idivn=function(t){v(t<=67108863);for(var r=0,n=this.length-1;n>=0;n--){var o=(this.words[n]|0)+r*67108864;this.words[n]=o/t|0,r=o%t}return this.strip()},d.prototype.divn=function(t){return this.clone().idivn(t)},d.prototype.egcd=function(t){v(t.negative===0),v(!t.isZero());var r=this,n=t.clone();r.negative!==0?r=r.umod(t):r=r.clone();for(var o=new d(1),a=new d(0),l=new d(0),f=new d(1),s=0;r.isEven()&&n.isEven();)r.iushrn(1),n.iushrn(1),++s;for(var e=n.clone(),h=r.clone();!r.isZero();){for(var g=0,M=1;!(r.words[0]&M)&&g<26;++g,M<<=1);if(g>0)for(r.iushrn(g);g-- >0;)(o.isOdd()||a.isOdd())&&(o.iadd(e),a.isub(h)),o.iushrn(1),a.iushrn(1);for(var w=0,y=1;!(n.words[0]&y)&&w<26;++w,y<<=1);if(w>0)for(n.iushrn(w);w-- >0;)(l.isOdd()||f.isOdd())&&(l.iadd(e),f.isub(h)),l.iushrn(1),f.iushrn(1);r.cmp(n)>=0?(r.isub(n),o.isub(l),a.isub(f)):(n.isub(r),l.isub(o),f.isub(a))}return{a:l,b:f,gcd:n.iushln(s)}},d.prototype._invmp=function(t){v(t.negative===0),v(!t.isZero());var r=this,n=t.clone();r.negative!==0?r=r.umod(t):r=r.clone();for(var o=new d(1),a=new d(0),l=n.clone();r.cmpn(1)>0&&n.cmpn(1)>0;){for(var f=0,s=1;!(r.words[0]&s)&&f<26;++f,s<<=1);if(f>0)for(r.iushrn(f);f-- >0;)o.isOdd()&&o.iadd(l),o.iushrn(1);for(var e=0,h=1;!(n.words[0]&h)&&e<26;++e,h<<=1);if(e>0)for(n.iushrn(e);e-- >0;)a.isOdd()&&a.iadd(l),a.iushrn(1);r.cmp(n)>=0?(r.isub(n),o.isub(a)):(n.isub(r),a.isub(o))}var g;return r.cmpn(1)===0?g=o:g=a,g.cmpn(0)<0&&g.iadd(t),g},d.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var r=this.clone(),n=t.clone();r.negative=0,n.negative=0;for(var o=0;r.isEven()&&n.isEven();o++)r.iushrn(1),n.iushrn(1);do{for(;r.isEven();)r.iushrn(1);for(;n.isEven();)n.iushrn(1);var a=r.cmp(n);if(a<0){var l=r;r=n,n=l}else if(a===0||n.cmpn(1)===0)break;r.isub(n)}while(!0);return n.iushln(o)},d.prototype.invm=function(t){return this.egcd(t).a.umod(t)},d.prototype.isEven=function(){return(this.words[0]&1)===0},d.prototype.isOdd=function(){return(this.words[0]&1)===1},d.prototype.andln=function(t){return this.words[0]&t},d.prototype.bincn=function(t){v(typeof t=="number");var r=t%26,n=(t-r)/26,o=1<<r;if(this.length<=n)return this._expand(n+1),this.words[n]|=o,this;for(var a=o,l=n;a!==0&&l<this.length;l++){var f=this.words[l]|0;f+=a,a=f>>>26,f&=67108863,this.words[l]=f}return a!==0&&(this.words[l]=a,this.length++),this},d.prototype.isZero=function(){return this.length===1&&this.words[0]===0},d.prototype.cmpn=function(t){var r=t<0;if(this.negative!==0&&!r)return-1;if(this.negative===0&&r)return 1;this.strip();var n;if(this.length>1)n=1;else{r&&(t=-t),v(t<=67108863,"Number is too big");var o=this.words[0]|0;n=o===t?0:o<t?-1:1}return this.negative!==0?-n|0:n},d.prototype.cmp=function(t){if(this.negative!==0&&t.negative===0)return-1;if(this.negative===0&&t.negative!==0)return 1;var r=this.ucmp(t);return this.negative!==0?-r|0:r},d.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var r=0,n=this.length-1;n>=0;n--){var o=this.words[n]|0,a=t.words[n]|0;if(o!==a){o<a?r=-1:o>a&&(r=1);break}}return r},d.prototype.gtn=function(t){return this.cmpn(t)===1},d.prototype.gt=function(t){return this.cmp(t)===1},d.prototype.gten=function(t){return this.cmpn(t)>=0},d.prototype.gte=function(t){return this.cmp(t)>=0},d.prototype.ltn=function(t){return this.cmpn(t)===-1},d.prototype.lt=function(t){return this.cmp(t)===-1},d.prototype.lten=function(t){return this.cmpn(t)<=0},d.prototype.lte=function(t){return this.cmp(t)<=0},d.prototype.eqn=function(t){return this.cmpn(t)===0},d.prototype.eq=function(t){return this.cmp(t)===0},d.red=function(t){return new _(t)},d.prototype.toRed=function(t){return v(!this.red,"Already a number in reduction context"),v(this.negative===0,"red works only with positives"),t.convertTo(this)._forceRed(t)},d.prototype.fromRed=function(){return v(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},d.prototype._forceRed=function(t){return this.red=t,this},d.prototype.forceRed=function(t){return v(!this.red,"Already a number in reduction context"),this._forceRed(t)},d.prototype.redAdd=function(t){return v(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},d.prototype.redIAdd=function(t){return v(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},d.prototype.redSub=function(t){return v(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},d.prototype.redISub=function(t){return v(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},d.prototype.redShl=function(t){return v(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},d.prototype.redMul=function(t){return v(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},d.prototype.redIMul=function(t){return v(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},d.prototype.redSqr=function(){return v(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},d.prototype.redISqr=function(){return v(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},d.prototype.redSqrt=function(){return v(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},d.prototype.redInvm=function(){return v(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},d.prototype.redNeg=function(){return v(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},d.prototype.redPow=function(t){return v(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var ct={k256:null,p224:null,p192:null,p25519:null};function b(i,t){this.name=i,this.p=new d(t,16),this.n=this.p.bitLength(),this.k=new d(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}b.prototype._tmp=function(){var t=new d(null);return t.words=new Array(Math.ceil(this.n/13)),t},b.prototype.ireduce=function(t){var r=t,n;do this.split(r,this.tmp),r=this.imulK(r),r=r.iadd(this.tmp),n=r.bitLength();while(n>this.n);var o=n<this.n?-1:r.ucmp(this.p);return o===0?(r.words[0]=0,r.length=1):o>0?r.isub(this.p):r.strip!==void 0?r.strip():r._strip(),r},b.prototype.split=function(t,r){t.iushrn(this.n,0,r)},b.prototype.imulK=function(t){return t.imul(this.k)};function vt(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}p(vt,b),vt.prototype.split=function(t,r){for(var n=4194303,o=Math.min(t.length,9),a=0;a<o;a++)r.words[a]=t.words[a];if(r.length=o,t.length<=9){t.words[0]=0,t.length=1;return}var l=t.words[9];for(r.words[r.length++]=l&n,a=10;a<t.length;a++){var f=t.words[a]|0;t.words[a-10]=(f&n)<<4|l>>>22,l=f}l>>>=22,t.words[a-10]=l,l===0&&t.length>10?t.length-=10:t.length-=9},vt.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var r=0,n=0;n<t.length;n++){var o=t.words[n]|0;r+=o*977,t.words[n]=r&67108863,r=o*64+(r/67108864|0)}return t.words[t.length-1]===0&&(t.length--,t.words[t.length-1]===0&&t.length--),t};function bt(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}p(bt,b);function Rt(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}p(Rt,b);function Wt(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}p(Wt,b),Wt.prototype.imulK=function(t){for(var r=0,n=0;n<t.length;n++){var o=(t.words[n]|0)*19+r,a=o&67108863;o>>>=26,t.words[n]=a,r=o}return r!==0&&(t.words[t.length++]=r),t},d._prime=function(t){if(ct[t])return ct[t];var r;if(t==="k256")r=new vt;else if(t==="p224")r=new bt;else if(t==="p192")r=new Rt;else if(t==="p25519")r=new Wt;else throw new Error("Unknown prime "+t);return ct[t]=r,r};function _(i){if(typeof i=="string"){var t=d._prime(i);this.m=t.p,this.prime=t}else v(i.gtn(1),"modulus must be greater than 1"),this.m=i,this.prime=null}_.prototype._verify1=function(t){v(t.negative===0,"red works only with positives"),v(t.red,"red works only with red numbers")},_.prototype._verify2=function(t,r){v((t.negative|r.negative)===0,"red works only with positives"),v(t.red&&t.red===r.red,"red works only with red numbers")},_.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},_.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},_.prototype.add=function(t,r){this._verify2(t,r);var n=t.add(r);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},_.prototype.iadd=function(t,r){this._verify2(t,r);var n=t.iadd(r);return n.cmp(this.m)>=0&&n.isub(this.m),n},_.prototype.sub=function(t,r){this._verify2(t,r);var n=t.sub(r);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},_.prototype.isub=function(t,r){this._verify2(t,r);var n=t.isub(r);return n.cmpn(0)<0&&n.iadd(this.m),n},_.prototype.shl=function(t,r){return this._verify1(t),this.imod(t.ushln(r))},_.prototype.imul=function(t,r){return this._verify2(t,r),this.imod(t.imul(r))},_.prototype.mul=function(t,r){return this._verify2(t,r),this.imod(t.mul(r))},_.prototype.isqr=function(t){return this.imul(t,t.clone())},_.prototype.sqr=function(t){return this.mul(t,t)},_.prototype.sqrt=function(t){if(t.isZero())return t.clone();var r=this.m.andln(3);if(v(r%2===1),r===3){var n=this.m.add(new d(1)).iushrn(2);return this.pow(t,n)}for(var o=this.m.subn(1),a=0;!o.isZero()&&o.andln(1)===0;)a++,o.iushrn(1);v(!o.isZero());var l=new d(1).toRed(this),f=l.redNeg(),s=this.m.subn(1).iushrn(1),e=this.m.bitLength();for(e=new d(2*e*e).toRed(this);this.pow(e,s).cmp(f)!==0;)e.redIAdd(f);for(var h=this.pow(e,o),g=this.pow(t,o.addn(1).iushrn(1)),M=this.pow(t,o),w=a;M.cmp(l)!==0;){for(var y=M,k=0;y.cmp(l)!==0;k++)y=y.redSqr();v(k<w);var A=this.pow(h,new d(1).iushln(w-k-1));g=g.redMul(A),h=A.redSqr(),M=M.redMul(h),w=k}return g},_.prototype.invm=function(t){var r=t._invmp(this.m);return r.negative!==0?(r.negative=0,this.imod(r).redNeg()):this.imod(r)},_.prototype.pow=function(t,r){if(r.isZero())return new d(1).toRed(this);if(r.cmpn(1)===0)return t.clone();var n=4,o=new Array(1<<n);o[0]=new d(1).toRed(this),o[1]=t;for(var a=2;a<o.length;a++)o[a]=this.mul(o[a-1],t);var l=o[0],f=0,s=0,e=r.bitLength()%26;for(e===0&&(e=26),a=r.length-1;a>=0;a--){for(var h=r.words[a],g=e-1;g>=0;g--){var M=h>>g&1;if(l!==o[0]&&(l=this.sqr(l)),M===0&&f===0){s=0;continue}f<<=1,f|=M,s++,!(s!==n&&(a!==0||g!==0))&&(l=this.mul(l,o[f]),s=0,f=0)}e=26}return l},_.prototype.convertTo=function(t){var r=t.umod(this.m);return r===t?r.clone():r},_.prototype.convertFrom=function(t){var r=t.clone();return r.red=null,r},d.mont=function(t){return new _t(t)};function _t(i){_.call(this,i),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new d(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}p(_t,_),_t.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},_t.prototype.convertFrom=function(t){var r=this.imod(t.mul(this.rinv));return r.red=null,r},_t.prototype.imul=function(t,r){if(t.isZero()||r.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(r),o=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),a=n.isub(o).iushrn(this.shift),l=a;return a.cmp(this.m)>=0?l=a.isub(this.m):a.cmpn(0)<0&&(l=a.iadd(this.m)),l._forceRed(this)},_t.prototype.mul=function(t,r){if(t.isZero()||r.isZero())return new d(0)._forceRed(this);var n=t.mul(r),o=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),a=n.isub(o).iushrn(this.shift),l=a;return a.cmp(this.m)>=0?l=a.isub(this.m):a.cmpn(0)<0&&(l=a.iadd(this.m)),l._forceRed(this)},_t.prototype.invm=function(t){var r=this.imod(t._invmp(this.m).mul(this.r2));return r._forceRed(this)}})(u,Ze)})(Ne);var pi=Ne.exports;const gi=Ke(pi),Mi="logger/5.4.0";let Pe=!1,De=!1;const Qt={debug:1,default:2,info:2,warning:3,error:4,off:5};let Le=Qt.default,be=null;function wi(){try{const u=[];if(["NFD","NFC","NFKD","NFKC"].forEach(c=>{try{if("test".normalize(c)!=="test")throw new Error("bad normalize")}catch{u.push(c)}}),u.length)throw new Error("missing "+u.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(u){return u.message}return null}const qe=wi();var ke;(function(u){u.DEBUG="DEBUG",u.INFO="INFO",u.WARNING="WARNING",u.ERROR="ERROR",u.OFF="OFF"})(ke||(ke={}));var Ee;(function(u){u.UNKNOWN_ERROR="UNKNOWN_ERROR",u.NOT_IMPLEMENTED="NOT_IMPLEMENTED",u.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",u.NETWORK_ERROR="NETWORK_ERROR",u.SERVER_ERROR="SERVER_ERROR",u.TIMEOUT="TIMEOUT",u.BUFFER_OVERRUN="BUFFER_OVERRUN",u.NUMERIC_FAULT="NUMERIC_FAULT",u.MISSING_NEW="MISSING_NEW",u.INVALID_ARGUMENT="INVALID_ARGUMENT",u.MISSING_ARGUMENT="MISSING_ARGUMENT",u.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",u.CALL_EXCEPTION="CALL_EXCEPTION",u.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",u.NONCE_EXPIRED="NONCE_EXPIRED",u.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",u.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",u.TRANSACTION_REPLACED="TRANSACTION_REPLACED"})(Ee||(Ee={}));class ut{constructor(c){Object.defineProperty(this,"version",{enumerable:!0,value:c,writable:!1})}_log(c,m){const v=c.toLowerCase();Qt[v]==null&&this.throwArgumentError("invalid log level name","logLevel",c),!(Le>Qt[v])&&console.log.apply(console,m)}debug(...c){this._log(ut.levels.DEBUG,c)}info(...c){this._log(ut.levels.INFO,c)}warn(...c){this._log(ut.levels.WARNING,c)}makeError(c,m,v){if(De)return this.makeError("censored error",m,{});m||(m=ut.errors.UNKNOWN_ERROR),v||(v={});const p=[];Object.keys(v).forEach(lt=>{try{p.push(lt+"="+JSON.stringify(v[lt]))}catch{p.push(lt+"="+JSON.stringify(v[lt].toString()))}}),p.push(`code=${m}`),p.push(`version=${this.version}`);const d=c;p.length&&(c+=" ("+p.join(", ")+")");const E=new Error(c);return E.reason=d,E.code=m,Object.keys(v).forEach(function(lt){E[lt]=v[lt]}),E}throwError(c,m,v){throw this.makeError(c,m,v)}throwArgumentError(c,m,v){return this.throwError(c,ut.errors.INVALID_ARGUMENT,{argument:m,value:v})}assert(c,m,v,p){c||this.throwError(m,v,p)}assertArgument(c,m,v,p){c||this.throwArgumentError(m,v,p)}checkNormalize(c){qe&&this.throwError("platform missing String.prototype.normalize",ut.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:qe})}checkSafeUint53(c,m){typeof c=="number"&&(m==null&&(m="value not safe"),(c<0||c>=9007199254740991)&&this.throwError(m,ut.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:c}),c%1&&this.throwError(m,ut.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:c}))}checkArgumentCount(c,m,v){v?v=": "+v:v="",c<m&&this.throwError("missing argument"+v,ut.errors.MISSING_ARGUMENT,{count:c,expectedCount:m}),c>m&&this.throwError("too many arguments"+v,ut.errors.UNEXPECTED_ARGUMENT,{count:c,expectedCount:m})}checkNew(c,m){(c===Object||c==null)&&this.throwError("missing new",ut.errors.MISSING_NEW,{name:m.name})}checkAbstract(c,m){c===m?this.throwError("cannot instantiate abstract class "+JSON.stringify(m.name)+" directly; use a sub-class",ut.errors.UNSUPPORTED_OPERATION,{name:c.name,operation:"new"}):(c===Object||c==null)&&this.throwError("missing new",ut.errors.MISSING_NEW,{name:m.name})}static globalLogger(){return be||(be=new ut(Mi)),be}static setCensorship(c,m){if(!c&&m&&this.globalLogger().throwError("cannot permanently disable censorship",ut.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Pe){if(!c)return;this.globalLogger().throwError("error censorship permanent",ut.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}De=!!c,Pe=!!m}static setLogLevel(c){const m=Qt[c.toLowerCase()];if(m==null){ut.globalLogger().warn("invalid log level - "+c);return}Le=m}static from(c){return new ut(c)}}ut.errors=Ee;ut.levels=ke;const yi="bytes/5.4.0",_e=new ut(yi);function xi(u){return!!u.toHexString}function te(u){return u.slice||(u.slice=function(){const c=Array.prototype.slice.call(arguments);return te(new Uint8Array(Array.prototype.slice.apply(u,c)))}),u}function bi(u){if(u==null)return!1;if(u.constructor===Uint8Array)return!0;if(typeof u=="string"||u.length==null)return!1;for(let c=0;c<u.length;c++){const m=u[c];if(typeof m!="number"||m<0||m>=256||m%1)return!1}return!0}function Je(u,c){if(c||(c={}),typeof u=="number"){_e.checkSafeUint53(u,"invalid arrayify value");const m=[];for(;u;)m.unshift(u&255),u=parseInt(String(u/256));return m.length===0&&m.push(0),te(new Uint8Array(m))}if(c.allowMissingPrefix&&typeof u=="string"&&u.substring(0,2)!=="0x"&&(u="0x"+u),xi(u)&&(u=u.toHexString()),Xe(u)){let m=u.substring(2);m.length%2&&(c.hexPad==="left"?m="0x0"+m.substring(2):c.hexPad==="right"?m+="0":_e.throwArgumentError("hex data is odd-length","value",u));const v=[];for(let p=0;p<m.length;p+=2)v.push(parseInt(m.substring(p,p+2),16));return te(new Uint8Array(v))}return bi(u)?te(new Uint8Array(u)):_e.throwArgumentError("invalid arrayify value","value",u)}function Xe(u,c){return!(typeof u!="string"||!u.match(/^0x[0-9A-Fa-f]*$/)||c&&u.length!==2+2*c)}var _i=gi.BN;function ki(u){return new _i(u,36).toString(16)}var je={exports:{}};(function(u){(function(){var c=typeof window=="object"?window:{},m=!c.JS_SHA3_NO_NODE_JS&&typeof xe=="object"&&xe.versions&&xe.versions.node;m&&(c=Ze);for(var v=!c.JS_SHA3_NO_COMMON_JS&&!0&&u.exports,p="0123456789abcdef".split(""),d=[31,7936,2031616,520093696],E=[1,256,65536,16777216],lt=[6,1536,393216,100663296],ft=[0,8,16,24],St=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],yt=[224,256,384,512],S=[128,256],I=["hex","buffer","arrayBuffer","array"],Nt=function(i,t,r){return function(n){return new _(i,t,i).update(n)[r]()}},It=function(i,t,r){return function(n,o){return new _(i,t,o).update(n)[r]()}},At=function(i,t){var r=Nt(i,t,"hex");r.create=function(){return new _(i,t,i)},r.update=function(a){return r.create().update(a)};for(var n=0;n<I.length;++n){var o=I[n];r[o]=Nt(i,t,o)}return r},Jt=function(i,t){var r=It(i,t,"hex");r.create=function(a){return new _(i,t,a)},r.update=function(a,l){return r.create(l).update(a)};for(var n=0;n<I.length;++n){var o=I[n];r[o]=It(i,t,o)}return r},Tt=[{name:"keccak",padding:E,bits:yt,createMethod:At},{name:"sha3",padding:lt,bits:yt,createMethod:At},{name:"shake",padding:d,bits:S,createMethod:Jt}],T={},ct=[],b=0;b<Tt.length;++b)for(var vt=Tt[b],bt=vt.bits,Rt=0;Rt<bt.length;++Rt){var Wt=vt.name+"_"+bt[Rt];ct.push(Wt),T[Wt]=vt.createMethod(bt[Rt],vt.padding)}function _(i,t,r){this.blocks=[],this.s=[],this.padding=t,this.outputBits=r,this.reset=!0,this.block=0,this.start=0,this.blockCount=1600-(i<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(r&31)>>3;for(var n=0;n<50;++n)this.s[n]=0}_.prototype.update=function(i){var t=typeof i!="string";t&&i.constructor===ArrayBuffer&&(i=new Uint8Array(i));for(var r=i.length,n=this.blocks,o=this.byteCount,a=this.blockCount,l=0,f=this.s,s,e;l<r;){if(this.reset)for(this.reset=!1,n[0]=this.block,s=1;s<a+1;++s)n[s]=0;if(t)for(s=this.start;l<r&&s<o;++l)n[s>>2]|=i[l]<<ft[s++&3];else for(s=this.start;l<r&&s<o;++l)e=i.charCodeAt(l),e<128?n[s>>2]|=e<<ft[s++&3]:e<2048?(n[s>>2]|=(192|e>>6)<<ft[s++&3],n[s>>2]|=(128|e&63)<<ft[s++&3]):e<55296||e>=57344?(n[s>>2]|=(224|e>>12)<<ft[s++&3],n[s>>2]|=(128|e>>6&63)<<ft[s++&3],n[s>>2]|=(128|e&63)<<ft[s++&3]):(e=65536+((e&1023)<<10|i.charCodeAt(++l)&1023),n[s>>2]|=(240|e>>18)<<ft[s++&3],n[s>>2]|=(128|e>>12&63)<<ft[s++&3],n[s>>2]|=(128|e>>6&63)<<ft[s++&3],n[s>>2]|=(128|e&63)<<ft[s++&3]);if(this.lastByteIndex=s,s>=o){for(this.start=s-o,this.block=n[a],s=0;s<a;++s)f[s]^=n[s];_t(f),this.reset=!0}else this.start=s}return this},_.prototype.finalize=function(){var i=this.blocks,t=this.lastByteIndex,r=this.blockCount,n=this.s;if(i[t>>2]|=this.padding[t&3],this.lastByteIndex===this.byteCount)for(i[0]=i[r],t=1;t<r+1;++t)i[t]=0;for(i[r-1]|=2147483648,t=0;t<r;++t)n[t]^=i[t];_t(n)},_.prototype.toString=_.prototype.hex=function(){this.finalize();for(var i=this.blockCount,t=this.s,r=this.outputBlocks,n=this.extraBytes,o=0,a=0,l="",f;a<r;){for(o=0;o<i&&a<r;++o,++a)f=t[o],l+=p[f>>4&15]+p[f&15]+p[f>>12&15]+p[f>>8&15]+p[f>>20&15]+p[f>>16&15]+p[f>>28&15]+p[f>>24&15];a%i===0&&(_t(t),o=0)}return n&&(f=t[o],n>0&&(l+=p[f>>4&15]+p[f&15]),n>1&&(l+=p[f>>12&15]+p[f>>8&15]),n>2&&(l+=p[f>>20&15]+p[f>>16&15])),l},_.prototype.arrayBuffer=function(){this.finalize();var i=this.blockCount,t=this.s,r=this.outputBlocks,n=this.extraBytes,o=0,a=0,l=this.outputBits>>3,f;n?f=new ArrayBuffer(r+1<<2):f=new ArrayBuffer(l);for(var s=new Uint32Array(f);a<r;){for(o=0;o<i&&a<r;++o,++a)s[a]=t[o];a%i===0&&_t(t)}return n&&(s[o]=t[o],f=f.slice(0,l)),f},_.prototype.buffer=_.prototype.arrayBuffer,_.prototype.digest=_.prototype.array=function(){this.finalize();for(var i=this.blockCount,t=this.s,r=this.outputBlocks,n=this.extraBytes,o=0,a=0,l=[],f,s;a<r;){for(o=0;o<i&&a<r;++o,++a)f=a<<2,s=t[o],l[f]=s&255,l[f+1]=s>>8&255,l[f+2]=s>>16&255,l[f+3]=s>>24&255;a%i===0&&_t(t)}return n&&(f=a<<2,s=t[o],n>0&&(l[f]=s&255),n>1&&(l[f+1]=s>>8&255),n>2&&(l[f+2]=s>>16&255)),l};var _t=function(i){var t,r,n,o,a,l,f,s,e,h,g,M,w,y,k,A,kt,N,R,Bt,O,F,Ct,U,$,Ot,P,D,Ft,L,q,Ut,z,H,$t,V,G,Pt,Z,K,Dt,W,J,Lt,X,j,qt,Y,Q,zt,tt,et,Ht,rt,it,Vt,nt,ot,Gt,st,at,Zt,ht;for(n=0;n<48;n+=2)o=i[0]^i[10]^i[20]^i[30]^i[40],a=i[1]^i[11]^i[21]^i[31]^i[41],l=i[2]^i[12]^i[22]^i[32]^i[42],f=i[3]^i[13]^i[23]^i[33]^i[43],s=i[4]^i[14]^i[24]^i[34]^i[44],e=i[5]^i[15]^i[25]^i[35]^i[45],h=i[6]^i[16]^i[26]^i[36]^i[46],g=i[7]^i[17]^i[27]^i[37]^i[47],M=i[8]^i[18]^i[28]^i[38]^i[48],w=i[9]^i[19]^i[29]^i[39]^i[49],t=M^(l<<1|f>>>31),r=w^(f<<1|l>>>31),i[0]^=t,i[1]^=r,i[10]^=t,i[11]^=r,i[20]^=t,i[21]^=r,i[30]^=t,i[31]^=r,i[40]^=t,i[41]^=r,t=o^(s<<1|e>>>31),r=a^(e<<1|s>>>31),i[2]^=t,i[3]^=r,i[12]^=t,i[13]^=r,i[22]^=t,i[23]^=r,i[32]^=t,i[33]^=r,i[42]^=t,i[43]^=r,t=l^(h<<1|g>>>31),r=f^(g<<1|h>>>31),i[4]^=t,i[5]^=r,i[14]^=t,i[15]^=r,i[24]^=t,i[25]^=r,i[34]^=t,i[35]^=r,i[44]^=t,i[45]^=r,t=s^(M<<1|w>>>31),r=e^(w<<1|M>>>31),i[6]^=t,i[7]^=r,i[16]^=t,i[17]^=r,i[26]^=t,i[27]^=r,i[36]^=t,i[37]^=r,i[46]^=t,i[47]^=r,t=h^(o<<1|a>>>31),r=g^(a<<1|o>>>31),i[8]^=t,i[9]^=r,i[18]^=t,i[19]^=r,i[28]^=t,i[29]^=r,i[38]^=t,i[39]^=r,i[48]^=t,i[49]^=r,y=i[0],k=i[1],j=i[11]<<4|i[10]>>>28,qt=i[10]<<4|i[11]>>>28,D=i[20]<<3|i[21]>>>29,Ft=i[21]<<3|i[20]>>>29,st=i[31]<<9|i[30]>>>23,at=i[30]<<9|i[31]>>>23,W=i[40]<<18|i[41]>>>14,J=i[41]<<18|i[40]>>>14,H=i[2]<<1|i[3]>>>31,$t=i[3]<<1|i[2]>>>31,A=i[13]<<12|i[12]>>>20,kt=i[12]<<12|i[13]>>>20,Y=i[22]<<10|i[23]>>>22,Q=i[23]<<10|i[22]>>>22,L=i[33]<<13|i[32]>>>19,q=i[32]<<13|i[33]>>>19,Zt=i[42]<<2|i[43]>>>30,ht=i[43]<<2|i[42]>>>30,rt=i[5]<<30|i[4]>>>2,it=i[4]<<30|i[5]>>>2,V=i[14]<<6|i[15]>>>26,G=i[15]<<6|i[14]>>>26,N=i[25]<<11|i[24]>>>21,R=i[24]<<11|i[25]>>>21,zt=i[34]<<15|i[35]>>>17,tt=i[35]<<15|i[34]>>>17,Ut=i[45]<<29|i[44]>>>3,z=i[44]<<29|i[45]>>>3,U=i[6]<<28|i[7]>>>4,$=i[7]<<28|i[6]>>>4,Vt=i[17]<<23|i[16]>>>9,nt=i[16]<<23|i[17]>>>9,Pt=i[26]<<25|i[27]>>>7,Z=i[27]<<25|i[26]>>>7,Bt=i[36]<<21|i[37]>>>11,O=i[37]<<21|i[36]>>>11,et=i[47]<<24|i[46]>>>8,Ht=i[46]<<24|i[47]>>>8,Lt=i[8]<<27|i[9]>>>5,X=i[9]<<27|i[8]>>>5,Ot=i[18]<<20|i[19]>>>12,P=i[19]<<20|i[18]>>>12,ot=i[29]<<7|i[28]>>>25,Gt=i[28]<<7|i[29]>>>25,K=i[38]<<8|i[39]>>>24,Dt=i[39]<<8|i[38]>>>24,F=i[48]<<14|i[49]>>>18,Ct=i[49]<<14|i[48]>>>18,i[0]=y^~A&N,i[1]=k^~kt&R,i[10]=U^~Ot&D,i[11]=$^~P&Ft,i[20]=H^~V&Pt,i[21]=$t^~G&Z,i[30]=Lt^~j&Y,i[31]=X^~qt&Q,i[40]=rt^~Vt&ot,i[41]=it^~nt&Gt,i[2]=A^~N&Bt,i[3]=kt^~R&O,i[12]=Ot^~D&L,i[13]=P^~Ft&q,i[22]=V^~Pt&K,i[23]=G^~Z&Dt,i[32]=j^~Y&zt,i[33]=qt^~Q&tt,i[42]=Vt^~ot&st,i[43]=nt^~Gt&at,i[4]=N^~Bt&F,i[5]=R^~O&Ct,i[14]=D^~L&Ut,i[15]=Ft^~q&z,i[24]=Pt^~K&W,i[25]=Z^~Dt&J,i[34]=Y^~zt&et,i[35]=Q^~tt&Ht,i[44]=ot^~st&Zt,i[45]=Gt^~at&ht,i[6]=Bt^~F&y,i[7]=O^~Ct&k,i[16]=L^~Ut&U,i[17]=q^~z&$,i[26]=K^~W&H,i[27]=Dt^~J&$t,i[36]=zt^~et&Lt,i[37]=tt^~Ht&X,i[46]=st^~Zt&rt,i[47]=at^~ht&it,i[8]=F^~y&A,i[9]=Ct^~k&kt,i[18]=Ut^~U&Ot,i[19]=z^~$&P,i[28]=W^~H&V,i[29]=J^~$t&G,i[38]=et^~Lt&j,i[39]=Ht^~X&qt,i[48]=Zt^~rt&Vt,i[49]=ht^~it&nt,i[0]^=St[n],i[1]^=St[n+1]};if(v)u.exports=T;else for(var b=0;b<ct.length;++b)c[ct[b]]=T[ct[b]]})()})(je);var Ei=je.exports;const Si=Ke(Ei);function Ai(u){return"0x"+Si.keccak_256(Je(u))}const Ni="address/5.4.0",Xt=new ut(Ni);function ze(u){Xe(u,20)||Xt.throwArgumentError("invalid address","address",u),u=u.toLowerCase();const c=u.substring(2).split(""),m=new Uint8Array(40);for(let p=0;p<40;p++)m[p]=c[p].charCodeAt(0);const v=Je(Ai(m));for(let p=0;p<40;p+=2)v[p>>1]>>4>=8&&(c[p]=c[p].toUpperCase()),(v[p>>1]&15)>=8&&(c[p+1]=c[p+1].toUpperCase());return"0x"+c.join("")}const Ii=9007199254740991;function Ti(u){return Math.log10?Math.log10(u):Math.log(u)/Math.LN10}const Ie={};for(let u=0;u<10;u++)Ie[String(u)]=String(u);for(let u=0;u<26;u++)Ie[String.fromCharCode(65+u)]=String(10+u);const He=Math.floor(Ti(Ii));function Ri(u){u=u.toUpperCase(),u=u.substring(4)+u.substring(0,2)+"00";let c=u.split("").map(v=>Ie[v]).join("");for(;c.length>=He;){let v=c.substring(0,He);c=parseInt(v,10)%97+c.substring(v.length)}let m=String(98-parseInt(c,10)%97);for(;m.length<2;)m="0"+m;return m}function Li(u){let c=null;if(typeof u!="string"&&Xt.throwArgumentError("invalid address","address",u),u.match(/^(0x)?[0-9a-fA-F]{40}$/))u.substring(0,2)!=="0x"&&(u="0x"+u),c=ze(u),u.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&c!==u&&Xt.throwArgumentError("bad address checksum","address",u);else if(u.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(u.substring(2,4)!==Ri(u)&&Xt.throwArgumentError("bad icap checksum","address",u),c=ki(u.substring(4));c.length<40;)c="0"+c;c=ze("0x"+c)}else Xt.throwArgumentError("invalid address","address",u);return c}export{$i as M,Ui as P,Pi as S,Di as a,Li as g};
