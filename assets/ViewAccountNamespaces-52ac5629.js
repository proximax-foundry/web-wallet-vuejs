import{d as E,r as A,a8 as K,a9 as O,k as D,o,b as v,s as h,z as i,B as f,m as x,e as t,t as p,D as _,f as u,n as M,i as z,p as B,j as R,_ as T,c as L,w as S,A as j,G as $,a as F}from"./index-50355987.js";import{_ as U}from"./icon-plus-7207f329.js";import{A as q,_ as J}from"./AccountTabs.vue_vue_type_script_setup_true_lang-9a59e31a.js";import{_ as H}from"./icon-green-tick-1b766454.js";import{_ as W}from"./icon-red-x-a5511f99.js";import{_ as V}from"./icon-more-options-3f3cfda9.js";import{s as y,a as Q}from"./column.esm-5fec6136.js";import"./jdenticon-module-4ad48b04.js";import"./functions-1fb91649.js";import"./TextInput-5db56c58.js";import"./TextInputClean-c42dd765.js";import"./icon-key-5b3f7dda.js";const w=r=>(B("data-v-311bf067"),r=r(),R(),r),X=w(()=>t("div",{class:"uppercase text-xxs font-bold mb-1"},"ID",-1)),Y={class:"uppercase cursor-pointer font-bold text-txs"},Z=["href"],ee={class:"uppercase inline-block text-xs mt-1.5 cursor-pointer text-blue-primary pr-7"},te=w(()=>t("div",{class:"uppercase text-xxs text-gray-300 font-bold mb-1 mt-5"},"Namespace",-1)),se={class:"flex items-center"},ae={class:"uppercase font-bold text-txs mr-2"},ne=w(()=>t("div",{class:"uppercase text-xxs text-gray-300 font-bold mb-1 mt-5"},"Linked Asset/Address",-1)),re={class:"uppercase font-bold text-txs truncate"},oe=w(()=>t("div",{class:"uppercase text-xxs text-gray-300 font-bold mb-1"},"Expiry",-1)),ie={class:"uppercase font-bold text-txs"},le=w(()=>t("div",{class:"uppercase text-xxs text-gray-300 font-bold mb-1 mt-5"},"Active",-1)),ce={class:"uppercase font-bold text-txs"},de={key:0,src:H,class:"h-5 w-5 ml-1"},ue={key:1,src:W,class:"h-5 w-5 ml-1"},pe=w(()=>t("div",{class:"uppercase text-xxs text-gray-300 font-bold mb-1 mt-5"},"Actions",-1)),me=["onClick","onMouseover"],_e={key:1,class:"w-36 absolute rounded-sm shadow-lg bg-white focus:outline-none z-10 text-left"},ve={class:"my-2"},fe=["href"],he={class:"min-w-min uppercase inline-block text-xs mt-1.5 cursor-pointer text-blue-primary pr-7"},ge={class:"truncate"},xe={key:0,src:H,class:"h-5 w-5 ml-1"},ye={key:1,src:W,class:"h-5 w-5 ml-1"},ke=["onClick","onMouseover"],be={key:0,class:"w-36 absolute rounded-sm shadow-lg bg-white focus:outline-none z-10 text-left"},we={class:"my-2"},Ae=E({__name:"NamespaceDataTable",props:{namespaces:Array,address:String},setup(r){const l=A(!1),m=()=>{window.innerWidth<1024?l.value=!1:l.value=!0};m(),K(()=>{window.removeEventListener("resize",m)}),O(()=>{window.addEventListener("resize",m)});const c=e=>M.currentNetworkProfile?M.currentNetworkProfile.chainExplorer.url+"/"+M.currentNetworkProfile.chainExplorer.namespaceInfoRoute+"/"+e:"",d=A([]),k=A(0),I=e=>{k.value=e,d.value[e]=!d.value[e]};z().appContext.config.globalProperties.emitter.on("PAGE_CLICK",()=>{for(var e=0;e<d.value.length;)e!=k.value&&(d.value[e]=!1),e++});const P=e=>{k.value=e},s=()=>{k.value=-1};return(e,n)=>{const g=D("router-link");return o(),v("div",null,[h(_(Q),{value:r.namespaces,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink  RowsPerPageDropdown",rowsPerPageOptions:[10,20,30,40,50],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} entries",responsiveLayout:"scroll"},{empty:i(()=>[f(" No namespaces found. ")]),loading:i(()=>[f(" Loading namespaces data. Please wait. ")]),default:i(()=>[l.value?u("",!0):(o(),x(_(y),{key:0,style:{width:"200px"},headerClass:"hidden"},{body:i(({data:a})=>[t("div",null,[X,t("div",Y,[t("a",{href:c(a.id),target:"_new",class:"col-span-2"},[t("div",ee,p(a.id),1)],8,Z)])]),t("div",null,[te,t("div",se,[t("div",ae,p(a.name),1)])]),t("div",null,[ne,t("div",re,p(a.linkedAssetAddress),1)])]),_:1})),l.value?u("",!0):(o(),x(_(y),{key:1,style:{width:"200px"},headerClass:"hidden"},{body:i(({data:a,index:b})=>[t("div",null,[oe,t("div",ie,p(a.expiringBlock),1)]),t("div",null,[le,t("div",ce,[a.isActive?(o(),v("img",de)):(o(),v("img",ue))])]),t("div",null,[pe,a.isActive?(o(),v("img",{key:0,src:V,class:"w-4 h-4 cursor-pointer inline-block ml-2 mt-0.5",onClick:C=>I(b),onMouseover:C=>P(b),onMouseout:s},null,40,me)):u("",!0),d.value[b]?(o(),v("div",_e,[t("div",ve,[h(g,{to:{name:"ViewServicesNamespaceExtend",params:{address:r.address,namespaceId:a.id}},class:"block hover:bg-gray-100 transition duration-200 p-2 z-20"},{default:i(()=>[f(p(e.$t("general.extendDuration")),1)]),_:2},1032,["to"]),h(g,{to:{name:"ViewNamespaceMetadata",params:{namespaceId:a.name,address:r.address}},class:"block hover:bg-gray-100 transition duration-200 p-2 z-20"},{default:i(()=>[f("View Metadata")]),_:2},1032,["to"])])])):u("",!0)])]),_:1})),l.value?(o(),x(_(y),{key:2,field:"id",header:"ID"},{body:i(({data:a})=>[t("a",{href:c(a.id),target:"_new",class:"col-span-2"},[t("div",he,p(a.id),1)],8,fe)]),_:1})):u("",!0),l.value?(o(),x(_(y),{key:3,field:"name",header:"Name"},{body:i(({data:a})=>[f(p(a.name),1)]),_:1})):u("",!0),l.value?(o(),x(_(y),{key:4,field:"linked",header:"Linked Asset/Address"},{body:i(({data:a})=>[t("div",ge,p(a.linkedAssetAddress),1)]),_:1})):u("",!0),l.value?(o(),x(_(y),{key:5,field:"expiry",header:"Expiry"},{body:i(({data:a})=>[f(p(a.expiringBlock),1)]),_:1})):u("",!0),l.value?(o(),x(_(y),{key:6,field:"active",header:"Active"},{body:i(({data:a})=>[a.isActive?(o(),v("img",xe)):(o(),v("img",ye))]),_:1})):u("",!0),l.value?(o(),x(_(y),{key:7,field:"actions",header:"Actions"},{body:i(({data:a,index:b})=>[t("img",{src:V,class:"w-4 h-4 cursor-pointer inline-block ml-2 mt-0.5",onClick:C=>I(b),onMouseover:C=>P(b),onMouseout:s},null,40,ke),d.value[b]?(o(),v("div",be,[t("div",we,[h(g,{to:{name:"ViewServicesNamespaceExtend",params:{address:r.address,namespaceId:a.id}},class:"block hover:bg-gray-100 transition duration-200 p-2 z-20"},{default:i(()=>[f(p(e.$t("general.extendDuration")),1)]),_:2},1032,["to"]),h(g,{to:{name:"ViewNamespaceMetadata",params:{namespaceId:a.name,address:r.address}},class:"block hover:bg-gray-100 transition duration-200 p-2 z-20"},{default:i(()=>[f("View Metadata")]),_:2},1032,["to"])])])):u("",!0)]),_:1})):u("",!0)]),_:1},8,["value"])])}}});const Ie=T(Ae,[["__scopeId","data-v-311bf067"]]),Ne=r=>(B("data-v-2df688af"),r=r(),R(),r),Pe={class:"lg:w-9/12 ml-2 mr-2 lg:ml-auto lg:mr-auto mt-5"},Ce={class:"border-2 border-t-0 pb-3"},Me=Ne(()=>t("img",{src:U,class:"inline-block mr-2"},null,-1)),Le=E({__name:"ViewAccountNamespaces",props:{address:String},setup(r){const l=r,m=L(()=>{if(!S.currentLoggedInWallet)return null;let s=S.currentLoggedInWallet.accounts.find(e=>e.address==l.address)||S.currentLoggedInWallet.others.find(e=>e.address==l.address);return s||null});L(()=>m.value?!!m.value.getDirectParentMultisig().length:!1);const c=A([]),d=A([]),k=L(()=>{if(!m.value)return;let s=[];for(let e=0;e<m.value.namespaces.length;e++){let n=m.value.namespaces[e];s.push({name:n.name,id:n.idHex,linkedAssetAddress:n.linkedId!=""?n.linkType==2?j.Address.createFromRawAddress(n.linkedId).pretty():n.linkedId:"-",expiringBlock:n.endHeight,isActive:I(n.name)?!0:!!(n.endHeight??0>$.readBlockHeight)})}return s}),I=s=>!!s.includes("prx"),N=async()=>{for(let s=0;s<k.value.length;s++)d.value.push(!1),c.value.push(!1)};if($.isReady)N();else{let s=F($,e=>{e.isReady&&(N(),s())})}return z().appContext.config.globalProperties.emitter.on("PAGE_CLICK",()=>{if(d.value.every(s=>s==!1)&&c.value.includes(!0))for(let s=0;s<c.value.length;s++)c.value[s]=!1;else if(d.value.includes(!0)&&c.value.includes(!0)){let s=[],e=[];if(d.value.filter((n,g)=>{n==!0&&s.push(g)}),c.value.filter((n,g)=>{n==!0&&e.push(g)}),s!=e){for(let n=0;n<c.value.length;n++)c.value[n]=!1;c.value[s[0]]=!0}}}),(s,e)=>{const n=D("router-link");return o(),v("div",null,[t("div",Pe,[h(q,{address:r.address,class:"mb-6"},null,8,["address"]),h(J,{address:r.address,selected:"namespaces"},null,8,["address"]),t("div",Ce,[h(Ie,{namespaces:k.value,address:r.address},null,8,["namespaces","address"]),h(n,{to:{name:"ViewServicesNamespaceCreate"},class:"mt-2 bg-blue-primary py-3 mx-6 text-gray-100 text-xs font-bold rounded-md flex items-center justify-center w-52"},{default:i(()=>[Me,f(p(s.$t("namespace.registerNewNamespace")),1)]),_:1})])])])}}});const Ke=T(Le,[["__scopeId","data-v-2df688af"]]);export{Ke as default};
