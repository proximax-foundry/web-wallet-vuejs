import{d as T,D as B,c as H,w as f,r as d,i as K,o as r,b as g,m as W,v as C,e as n,t as I,f as b,y as L,h as N,a as M,j,_ as q,L as P,k as U,z as k,B as D}from"./index-3cfaae9e.js";import{t as S}from"./jdenticon-module-20d3220f.js";const z={key:0,class:"account-item-value account-item"},R={class:"flex"},E=["innerHTML"],G={class:"flex flex-col ml-2 text-left"},J=n("div",{class:"text-blue-primary font-semibold text-xxs uppercase",style:{"line-height":"9px"}}," Selected Account to create / initiate transaction",-1),O={class:"mt-1 text-tsm font-bold"},Q={class:"account-item"},X={class:"flex"},Y=["innerHTML"],Z={class:"text-xs ml-2 font-semibold"},xe=T({__name:"SelectInputAccount",emits:["select-account","update:modelValue"],setup(m){const x=N().appContext.config.globalProperties.emitter;let p=new B("ThemeStyleConfig");p.init();let o=p.jdenticonConfig;const _=H(()=>f.currentLoggedInWallet?[...f.currentLoggedInWallet.accounts.filter(t=>t.multisigInfo.length==0||t.multisigInfo.find(s=>s.level==0).cosignaturies.length==0)].map(t=>({value:t.address,label:f.currentLoggedInWallet.convertAddressToName(t.address,!0)})):[]),u=d(null),v=d(null),h=(i,t)=>{x.emit("select-account",t),u.value.label=i,u.value.value=t,v.value=S(t,25,o)};return(i,t)=>{const s=K("Dropdown");return r(),g("div",null,[W(s,{modelValue:u.value,"onUpdate:modelValue":t[0]||(t[0]=e=>u.value=e),style:{width:"100%"},options:_.value,filter:!0,filterFields:["label","value"],emptyFilterMessage:" ",onChange:t[1]||(t[1]=e=>{h(e.value.label,e.value.value),i.$emit("update:modelValue",e.value.value),i.$emit("select-account",e.value.value)})},{value:C(e=>[e.value?(r(),g("div",z,[n("div",R,[n("div",{innerHTML:v.value},null,8,E),n("div",G,[J,n("div",O,I(e.value.label),1)])])])):b("",!0)]),option:C(e=>[n("div",Q,[n("div",X,[n("div",{innerHTML:L(S)(e.option.value,20,L(o))},null,8,Y),n("div",Z,I(e.option.label),1)])])]),_:1},8,["modelValue","options"])])}}}),ee={class:"border border-gray-200 px-2 py-1 rounded-md"},te={class:"flex flex-col"},le={class:"uppercase font-light text-gray-500 text-txs text-left mb-2"},ne={class:"flex w-full"},se=["value","placeholder"],F=16,oe=T({__name:"InputAmount",props:{modelValue:{type:String,required:!0},decimal:{type:Number,required:!0},placeholder:{type:String,required:!0},disabled:{type:Boolean,required:!1}},emits:["update:modelValue","show-error"],setup(m,{emit:c}){const x=m,p=c,o=d(x.modelValue),_=d(0),u=(t,s)=>{const e=t.key;return e>="0"&&e<="9"||e==="."||e==="Backspace"||e==="Delete"||e==="ArrowLeft"||e==="ArrowRight"?(e==="."&&s.includes(".")&&t.preventDefault(),!0):(t.preventDefault(),!1)},v=t=>{isNaN(parseFloat(t))?o.value="0":o.value=t,p("update:modelValue",o.value)},h=t=>{t.target.value=i.value},i=H(()=>Intl.NumberFormat("en-US",{maximumFractionDigits:_.value}).format(parseFloat(o.value)));return M(o,(t,s)=>{if(t.includes(".")){const[e,a]=t.split(".");_.value=F-e.length,a&&a.length>_.value&&(o.value=s)}else t.length>F&&(o.value=s);p("update:modelValue",o.value)}),(t,s)=>(r(),g("div",{class:j(m.disabled?"opacity-50":"")},[n("div",ee,[n("div",te,[n("div",le,I(m.placeholder),1),n("div",ne,[n("input",{value:i.value,class:"supply_input",placeholder:m.placeholder,onInput:s[0]||(s[0]=e=>v(parseFloat(e.target.value.replace(/,/g,"")).toString())),onKeypress:s[1]||(s[1]=e=>u(e,e.target.value)),onBlur:s[2]||(s[2]=e=>h(e))},null,40,se)])])])],2))}});const ye=q(oe,[["__scopeId","data-v-ad1f7329"]]),ae={key:1,class:"text-xs mt-3 text-blue-primary"},ie={key:0,class:"account-item-value account-item"},ue={class:"flex"},ce=["innerHTML"],re={class:"flex flex-col ml-2 text-left"},de=n("div",{class:"text-blue-primary font-semibold text-xxs uppercase",style:{"line-height":"9px"}}," Selected Multisig Account",-1),me={class:"mt-1 text-tsm font-bold"},pe={class:"account-item"},ve={class:"flex items-center"},fe=["innerHTML"],ge={class:"text-xs ml-2 font-semibold"},be=T({__name:"SelectInputMultisigAccount",props:{selectedAddress:{type:String,required:!1}},emits:["select-multisig-account","update:modelValue"],setup(m){const c=d(!1),x=m,{selectedAddress:p}=P(x),o=d([]),u=N().appContext.config.globalProperties.emitter;let v=new B("ThemeStyleConfig");v.init();let h=v.jdenticonConfig;const i=d(null);M(p,e=>{s(null,null);const a=f.currentLoggedInWallet.accounts.find(l=>l.address==e),w=a.multisigInfo.find(l=>l.level==0);o.value=w?[...a.multisigInfo].filter(l=>l.level<0).map(l=>{const y=[...f.currentLoggedInWallet.accounts,...f.currentLoggedInWallet.others].find(A=>A.publicKey==l.publicKey);return{label:y?f.currentLoggedInWallet.convertAddressToName(y.address):k.PublicAccount.createFromPublicKey(l.publicKey,D.networkType).address.plain(),value:k.PublicAccount.createFromPublicKey(l.publicKey,D.networkType).address.plain()}}):[]}),M(i,e=>{e==null&&(c.value=!1)});const t=d(null),s=(e,a)=>{if(e==null&&a==null){i.value=null,u.emit("select-multisig-account",null);return}u.emit("select-multisig-account",a),i.value.label=e,i.value.value=a,t.value=S(a,25,h)};return(e,a)=>{const w=K("Dropdown");return r(),g("div",null,[o.value.length&&!c.value?(r(),g("button",{key:0,class:"blue-btn py-2 px-3 mt-3",onClick:a[0]||(a[0]=l=>c.value=!0)},"Select Multisig Account")):b("",!0),o.value.length&&c.value&&!i.value?(r(),g("div",ae,"Select Multisig Account")):b("",!0),c.value&&o.value.length?(r(),U(w,{key:2,showClear:!0,modelValue:i.value,"onUpdate:modelValue":a[1]||(a[1]=l=>i.value=l),style:{width:"100%"},options:o.value,filter:!0,filterFields:["label","value"],emptyFilterMessage:" ",onChange:a[2]||(a[2]=l=>{var V,y,A,$;s((V=l.value)==null?void 0:V.label,(y=l.value)==null?void 0:y.value),e.$emit("update:modelValue",(A=l.value)==null?void 0:A.value),e.$emit("select-multisig-account",($=l.value)==null?void 0:$.value)})},{value:C(l=>[l.value?(r(),g("div",ie,[n("div",ue,[n("div",{innerHTML:t.value},null,8,ce),n("div",re,[de,n("div",me,I(l.value.label),1)])])])):b("",!0)]),option:C(l=>[n("div",pe,[n("div",ve,[n("div",{innerHTML:L(S)(l.option.value,20,L(h))},null,8,fe),n("div",ge,I(l.option.label),1)])])]),_:1},8,["modelValue","options"])):b("",!0)])}}});export{ye as I,xe as _,be as a};
