import{_ as C,d as B,Z as $,D as E,q as F,u as T,c as v,E as A,n as h,r as V,k as x,o as M,b as U,e,s as w,z as N,A as S,t as r,W as k,w as I}from"./index-fe79a787.js";import{C as y}from"./index-7dab2a9b.js";import{I as j}from"./IntroTextComponent-336a149e.js";import{S as H}from"./SelectNetworkInput-9cd29b88.js";import{_ as q}from"./chevron_left-0423cb29.js";const D=B({name:"ViewWalletCreateSelection",components:{IntroTextComponent:j,SelectNetworkInput:H},setup(){const s=$(),l=E(),b=F(),{t}=T(),f=v(()=>A.networkType),n=v(()=>h.chainNetworkName),_=V(""),p=o=>{const i=o.target.files[0],a=new FileReader;a.onload=c=>{const W=y.enc.Base64.parse(c.target.result);try{const m=JSON.parse(W.toString(y.enc.Utf8));if(m.networkName===void 0||m.networkName!==n.value)s.require({message:t("wallet.importMsg",{network:n.value}),header:t("wallet.confirmImport"),acceptLabel:t("general.yes"),rejectLabel:t("general.no"),icon:"pi pi-exclamation-triangle",accept:()=>{var d=u(m);l.add({severity:d.status,detail:d.msg,group:"br-custom",life:3e3}),b.push({name:"Home"})}});else{var g=u(m);l.add({severity:g.status,detail:g.msg,group:"br-custom",life:3e3})}}catch{let d=t("wallet.importFail");l.add({severity:"error",detail:d,group:"br-custom",life:5e3})}},a.readAsText(i)},u=o=>{let i="success",a=t("wallet.importSuccess");if(k.checkIsNewFormat(o))try{k.importWalletNewFormat(I.wallets,o,n.value,f.value)}catch(c){i="error",c.name==="SAME_NAME"?a=t("wallet.walletNameExist"):a=t("wallet.unableImport")}else try{k.importWltOldFormat(I.wallets,o,n.value,f.value)}catch(c){i="error",c.name==="SAME_NAME"?a=t("wallet.walletNameExist"):a=t("wallet.unableImport")}return{msg:a,status:i}};return{networkState:h,walletFile:_,readWalletBackup:p}}}),J={class:"container mx-auto md:grid md:grid-cols-2 md:mt-10 lg:px-20 xl:px-40 gap-4"},L={class:"md:col-span-1 bg-white mx-5 md:mx-0 px-30 pt-1 md:pt-0 rounded-md"},O=e("img",{src:q,class:"w-5 inline-block"},null,-1),R={class:"text-lg text-center mt-16 font-semibold"},z={class:"text-xxs text-center text-blue-primary font-bold uppercase"},Z={class:"text-xs mt-8 ml-auto mr-auto w-8/12 text-center mb-5"},G={class:"cursor-pointer"},K={class:"mt-3 font-bold text-xs text-center blue-btn py-2 px-10 block ml-auto mr-auto w-8/12"},P={class:"text-center text-xs mt-6 mb-1"},Q={class:"text-center text-xs text-blue-primary font-semibold"},X=e("div",{class:"h-28"},null,-1);function Y(s,l,b,t,f,n){const _=x("IntroTextComponent"),p=x("router-link"),u=x("SelectNetworkInput");return M(),U("div",null,[e("div",J,[w(_),e("div",L,[w(p,{to:{name:"ViewWalletCreateSelection"},class:"text-xs m-2 text-blue-link items-center flex"},{default:N(()=>[O,S("Back")]),_:1}),e("div",R,r(s.$t("wallet.createWallet")),1),e("div",z,r(s.$t("wallet.fromBackUp")),1),e("div",Z,r(s.$t("wallet.backUpDescription")),1),w(u),e("label",G,[e("span",K,r(s.$t("wallet.importFile")),1),e("input",{type:"file",onChange:l[0]||(l[0]=(...o)=>s.readWalletBackup&&s.readWalletBackup(...o)),ref:"walletFile",hidden:""},null,544)]),e("div",P,r(s.$t("wallet.haveWallet")),1),e("div",Q,[w(p,{to:{name:"Home"}},{default:N(()=>[S(r(s.$t("wallet.signInHere"))+" >",1)]),_:1})]),X])])])}const le=C(D,[["render",Y],["__file","/home/runner/work/web-wallet-vuejs/web-wallet-vuejs/src/modules/wallet/views/ViewWalletImport.vue"]]);export{le as default};
