import{_ as y,u as S,r as b,c as k,H as C,k as f,o as V,b as L,e as s,s as n,z as d,B as c,t as l,Q as I,U as P,i as B,ae as T,w as h}from"./index-a63143aa.js";import{a as A,s as D}from"./column.esm-e207f0e8.js";import{S as E}from"./SelectInputPluginClean-faf41aa5.js";import{_ as N}from"./icon-upload-6def9237.js";import"./multiselect-bf94b977.js";const $={name:"ViewServicesAddressBookExport",components:{DataTable:A,Column:D,SelectInputPluginClean:E},setup(){const{t:r}=S(),w=B().appContext.config.globalProperties.emitter,t=b([]),v=b([]);function x(o,i,p){return p.indexOf(o)===i}const m=k(()=>{var o=v.value.filter(x);o=o.filter(p=>p!="-none-"),o.sort();let i=[];return i.push({value:"",label:r("general.showAll")}),o.forEach(p=>{i.push({value:p,label:p})}),i}),_=b({global:{value:null,matchMode:T.CONTAINS}}),u=()=>{h.currentLoggedInWallet&&(t.value=[],h.currentLoggedInWallet.contacts!=null&&h.currentLoggedInWallet.contacts.length>0&&(h.currentLoggedInWallet.contacts.forEach(o=>{t.value.push(o),v.value.push(o.group)}),t.value.sort((o,i)=>o.name>i.name?1:o.name<i.name?-1:0)))};u(),w.on("REFRESH_CONTACT_LIST",o=>{o&&setTimeout(()=>{u()},1e3)});const g=b();return{dt:g,exportCSV:()=>{g.value.exportCSV()},list:t,filters:_,Helper:C,contactGroups:m}}},F={class:"w-9/12 ml-auto mr-auto mt-5"},G={class:"flex text-xs font-semibold border-b-2 menu_title_div"},R={class:"w-18 text-center border-b-2 pb-3 border-yellow-500"},U={class:"mt-10"},H={class:"text-md my-5 font-semibold"},M={class:"flex cursor-pointer"},W={class:"border-2 border-blue-primary p-1 mb-3 w-16 text-white bg-blue-primary text-xs text-center font-semibold"},K={class:"text-tsm"},O={class:"mt-4"},q=s("img",{src:N,class:"inline-block mr-4 relative top-1"},null,-1);function z(r,a,w,t,v,x){const m=f("router-link"),_=f("SelectInputPluginClean"),u=f("Column"),g=f("DataTable");return V(),L("div",null,[s("div",F,[s("div",G,[n(m,{to:{name:"ViewServicesAddressBook"},class:"w-18 text-center border-b pb-3"},{default:d(()=>[c(l(r.$t("general.list")),1)]),_:1}),n(m,{to:{name:"ViewServicesAddressBookImport"},class:"w-18 text-center border-b pb-3"},{default:d(()=>[c(l(r.$t("general.import")),1)]),_:1}),s("div",R,l(r.$t("general.export")),1)]),s("div",U,[s("div",H,l(r.$t("addressBook.exportContacts")),1),s("div",M,[s("div",W,l(r.$t("general.group")),1),n(m,{to:{name:"ViewServicesAddressBookExportSelect"},class:"border-2 border-blue-primary p-1 mb-3 w-16 text-blue-primary text-xs text-center font-semibold"},{default:d(()=>[c(l(r.$t("general.name")),1)]),_:1})]),s("div",K,l(r.$t("addressBook.exportBackUpContact")),1),s("div",O,[n(_,{modelValue:t.filters.global.value,"onUpdate:modelValue":a[0]||(a[0]=e=>t.filters.global.value=e),placeholder:"Group",options:t.contactGroups,selectDefault:"",class:"w-60 inline-block mr-2"},null,8,["modelValue","options"])])]),I(s("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>t.filters.global.value=e),type:"text",class:"hidden"},null,512),[[P,t.filters.global.value]]),s("div",{onClick:a[2]||(a[2]=e=>t.exportCSV(e)),class:"cursor-pointer mt-5 py-2 px-5 rounded-md w-36 bg-blue-primary text-white text-tsm drop-shadow-lg filter hover:bg-blue-600 transition-all duration-500"},[q,c(l(r.$t("general.export")),1)]),n(g,{class:"hidden",value:t.list,ref:"dt",filters:t.filters,"onUpdate:filters":a[3]||(a[3]=e=>t.filters=e),paginator:!0,rows:10,responsiveLayout:"scroll",scrollDirection:"horizontal",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",currentPageReportTemplate:"",globalFilterFields:["group"]},{default:d(()=>[n(u,{field:"name",header:r.$t("general.label"),headerStyle:"width:30%"},{body:d(({data:e})=>[c(l(e.name),1)]),_:1},8,["header"]),n(u,{field:"address",header:r.$t("general.address"),headerStyle:"width:55%"},{body:d(({data:e})=>[c(l(t.Helper.createAddress(e.address).pretty()),1)]),_:1},8,["header"]),n(u,{field:"group",header:r.$t("general.group"),headerStyle:"width:30%"},{body:d(({data:e})=>[c(l(e.group),1)]),_:1},8,["header"]),n(u,{field:"publicKey",header:r.$t("general.publicKey"),headerStyle:"width:55%"},{body:d(({data:e})=>[c(l(e.publicKey),1)]),_:1},8,["header"])]),_:1},8,["value","filters"])])])}const Z=y($,[["render",z]]);export{Z as default};
