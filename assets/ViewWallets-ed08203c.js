import{u as V,D as Z,g as F,r as _,c as v,n as x,W as E,w as c,_ as M,k as W,o,b as s,e as l,s as $,z as j,t as n,f as i,T as J,F as A,d as q,A as L,m as P,l as N,i as Y}from"./index-47d422d4.js";import{C as I}from"./index-e9d55ce7.js";import{P as G}from"./PasswordInput-5f97cbbf.js";const K={name:"ConfirmDeleteWalletModal",props:["walletName"],components:{PasswordInput:G},setup(e){const{t:a}=V(),m=Z();F().appContext.config.globalProperties.emitter;const p="^[^ ]{8,}$",w=_(""),d=_(""),r=_(!1),f=v(()=>!w.value.match(p));return{err:d,disableDelete:f,deleteWallet:b=>{var y=x.chainNetworkName,u=E.verifyWalletPassword(b,y,w.value);u==!0?(c.wallets.removeWalletByNetworkNameAndName(y,b),m.add({severity:"success",summary:a("general.notification"),detail:a("wallet.walletRemoved"),group:"br-custom",life:5e3})):(d.value=a("general.walletPasswordInvalid",{name:b}),w.value="")},walletPassword:w,toggleModal:r}}},Q="/web-wallet-vuejs/assets/icon-delete-0decb859.svg",X="/web-wallet-vuejs/assets/icon-delete-wallet-4d732b98.svg",ee={key:0,class:"popup-outer fixed flex z-50 text-black mt-10"},te={class:"modal-popup-box"},le={key:0,class:"error error_box mb-3 text-center"},ae={class:"text-center mt-2 text-md font-normal"},oe=l("img",{src:X,class:"ml-auto mr-auto"},null,-1),se={class:"text-black text-center text-xs mt-2 font-normal"},ne={class:"font-bold text-center text-xs mt-2"},re={class:"w-92"},ie={class:"text-center"},de={class:"mt-3"},ce=["disabled"];function me(e,a,m,t,p,w){const d=W("PasswordInput");return o(),s(A,null,[l("img",{onClick:a[0]||(a[0]=r=>t.toggleModal=!t.toggleModal),src:Q,class:"cursor-pointer inline"}),$(J,{enterActiveClass:"animate__animated animate__fadeInDown",leaveActiveClass:"animate__animated animate__fadeOutUp"},{default:j(()=>[t.toggleModal?(o(),s("div",ee,[l("div",te,[t.err!=""?(o(),s("div",le,n(t.err),1)):i("v-if",!0),l("div",ae,n(e.$t("wallet.walletDeletion")),1),oe,l("div",se,n(e.$t("wallet.deleteMessage")),1),l("div",ne,n(e.$t("wallet.deleteWarning")),1),l("div",re,[l("div",ie,[l("div",de,[$(d,{class:"w-8/12 ml-auto mr-auto",placeholder:e.$t("general.password"),errorMessage:e.$t("general.passwordRequired"),modelValue:t.walletPassword,"onUpdate:modelValue":a[1]||(a[1]=r=>t.walletPassword=r),icon:"lock"},null,8,["placeholder","errorMessage","modelValue"]),l("button",{onClick:a[2]||(a[2]=r=>t.deleteWallet(m.walletName)),class:"red-btn px-4 py-3 font-semibold cursor-pointer text-center ml-auto mt-3 mr-auto w-8/12 disabled:opacity-50 disabled:cursor-auto",disabled:t.disableDelete},n(e.$t("wallet.confirmDelete")),9,ce),l("div",{class:"text-center cursor-pointer text-xs font-semibold text-blue-link mt-3",onClick:a[3]||(a[3]=r=>{t.toggleModal=!t.toggleModal,t.walletPassword="",t.err=""})},n(e.$t("general.cancel")),1)])])])])])):i("v-if",!0)]),_:1}),t.toggleModal?(o(),s("div",{key:0,onClick:a[4]||(a[4]=r=>t.toggleModal=!t.toggleModal),class:"fixed inset-0 bg-opacity-60 z-20 bg-gray-100"})):i("v-if",!0)],64)}const we=M(K,[["render",me],["__file","/home/runner/work/web-wallet-vuejs/web-wallet-vuejs/src/modules/wallet/components/ConfirmDeleteWalletModal.vue"]]),ue=q({name:"WalletTile",components:{ConfirmDeleteWalletModal:we},props:{wallet:{type:Object,default:null}},setup(e){const a=_(!1);V();const m="^[^ ]{8,}$",t=_(""),p=_(""),w=v(()=>!t.value.match(m)),d=v(()=>{let u=!0;return e.wallet.name==c.currentLoggedInWallet.name&&(u=!1),u}),r=()=>{a.value=!0},f=u=>{var k=x.chainNetworkName;c.wallets.removeWalletByNetworkNameAndName(k,u)},C=u=>{var k=x.chainNetworkName;const B=c.wallets.filterByNetworkNameAndName(k,u).convertToSimpleWallet();let T=I.enc.Utf8.parse(JSON.stringify(B)),U=I.enc.Base64.stringify(T);const S=Date.now(),g=new Date(S),H=g.getFullYear(),O=g.getMonth()+1<10?`0${g.getMonth()+1}`:g.getMonth()+1,R=g.getDate()<10?`0${g.getDate()}`:g.getDate(),z=new Blob([U],{type:""}),D=window.URL.createObjectURL(z),h=document.createElement("a");h.style.display="none",h.href=D,h.download=`${u}_${k}_${H}-${O}-${R}.wlt`,document.body.appendChild(h),h.click(),window.URL.revokeObjectURL(D)},b=v(()=>c.currentLoggedInWallet?c.currentLoggedInWallet.name:""),y=v(()=>c.currentLoggedInWallet);return{exportWallet:C,getModal:r,showModal:a,disableDelete:w,err:p,isLogin:y,walletState:c,deleteWallet:f,currentWalletName:b,canDelete:d}}}),ge={class:"p-1"},ve={class:"bg-white border rounded-lg border-gray-200 shadow-lg group"},pe={class:"flex justify-between items-center"},fe={class:"ml-4 mt-5 mb-5 mr-5 text-txs text-left"},_e={key:0,class:"font-bold text-blue-primary flex items-center"},be={key:0,class:"w-36 inline truncate"},he={key:1,class:"w-36 inline-block truncate"},xe={key:2,class:"ml-0 mt-4"},ye={key:1,class:"font-bold text-blue-primary flex items-center"},ke={class:"w-32 inline-block truncate"},We={class:"text-txs pt-1 text-black-400"},$e={key:0,class:"xl:mr-3 xl:ml-0 text-xs font-bold"},Ne=l("svg",{class:"color-blue-primary",id:"file_upload_black_24dp",xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 20 20"},[l("path",{d:"M15.667,13.167v2.5h-10v-2.5H4v2.5a1.672,1.672,0,0,0,1.667,1.667h10a1.672,1.672,0,0,0,1.667-1.667v-2.5Zm-9.167-5L7.675,9.342l2.158-2.15V14H11.5V7.192l2.158,2.15,1.175-1.175L10.667,4Z",fill:"#007cff"})],-1),Le={class:"font-semibold text-txs"},Me={key:1,class:"xl:mr-1 xl:ml-5 text-xs font-bold"};function Ce(e,a,m,t,p,w){const d=W("ConfirmDeleteWalletModal");return o(),s("div",ge,[l("div",ve,[i(' <div class="flex justify-between bg-white border rounded-lg border-gray-200 shadow-lg group"> '),i(` <div v-if="walletState.currentLoggedInWallet" class='border-l-4 rounded-l-lg border-blue-primary opacity-0 group-hover:opacity-100'>
      </div> `),l("div",pe,[l("div",fe,[e.isLogin?(o(),s("div",_e,[e.isLogin?(o(),s("div",be,[L(n(e.wallet.name)+" ",1),e.canDelete?(o(),P(d,{key:0,walletName:e.wallet.name},null,8,["walletName"])):i("v-if",!0)])):i("v-if",!0),e.isLogin?i("v-if",!0):(o(),s("div",he,n(e.wallet.name),1)),e.isLogin?i("v-if",!0):(o(),s("div",xe))])):(o(),s("div",ye,[l("div",ke,n(e.wallet.name),1)])),l("div",We,[L(n(e.$t("wallet.numberOfAccounts"))+": ",1),l("span",null,n(e.wallet.accounts.length),1)])]),e.isLogin?(o(),s("div",$e,[l("button",{class:"bg-transparent font-bold py-2 ml-2 mr-2 rounded inline-flex items-center",onClick:a[0]||(a[0]=r=>e.exportWallet(e.wallet.name))},[Ne,l("span",Le,n(e.$t("general.export")),1)])])):(o(),s("div",Me,[i(` <button class="font-bold py-2 sm:py-2 md:px-5 md:py-2 xl:py-2 xl:mr-2 xl:ml-0 rounded inline-flex items-center" @click="deleteWallet(wallet.name)">
          <svg id="clear_black_24dp" xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 24 24">
            <path id="Path_114" data-name="Path 114" d="M0,0H24V24H0Z" fill="none"/>
            <path id="Path_115" data-name="Path 115" d="M18.3,5.71a1,1,0,0,0-1.41,0L12,10.59,7.11,5.7A1,1,0,0,0,5.7,7.11L10.59,12,5.7,16.89A1,1,0,0,0,7.11,18.3L12,13.41l4.89,4.89a1,1,0,0,0,1.41-1.41L13.41,12,18.3,7.11A1,1,0,0,0,18.3,5.71Z"/>
          </svg>
          </button> `),e.isLogin?i("v-if",!0):(o(),P(d,{key:0,walletName:e.wallet.name},null,8,["walletName"]))]))])])])}const De=M(ue,[["render",Ce],["__file","/home/runner/work/web-wallet-vuejs/web-wallet-vuejs/src/modules/wallet/components/WalletTile.vue"]]);const Pe={name:"ViewWallets",components:{WalletTile:De},setup(){const e=v(()=>c.currentLoggedInWallet);return{wallets:v(()=>{var m=c.wallets.filterByNetworkName(x.chainNetworkName);return m}),walletState:c,networkState:x,isLogin:e}}},Ie={key:0,class:"mt-8 text-center w-full"},Ve={class:"inline-block"};function je(e,a,m,t,p,w){const d=W("WalletTile"),r=W("router-link");return o(),s("div",{class:N(`${t.isLogin?"lg:ml-60":""} p-1 text-gray-700`)},[l("h1",{class:N(`${t.isLogin?"":"text-white"} text-lg mt-10 xl:mb-5 md:text-xl sm:mb-5  text-center`)},n(e.$t("wallet.myWallets")),3),l("div",{class:N(`${t.isLogin?"":"text-white"} text-sm md:px-5 xl:px-5 xl:mt-0 text-center`)},n(e.$t("wallet.walletsAvailable")),3),(o(!0),s(A,null,Y(t.wallets,f=>(o(),s("div",{class:"mt-4",key:f},[$(d,{class:"w-96 ml-auto mr-auto",wallet:f},null,8,["wallet"])]))),128)),t.isLogin?i("v-if",!0):(o(),s("div",Ie,[l("div",Ve,[$(r,{to:{name:"Home"},class:"flex items-center text-xs blue-btn py-4 px-10"},{default:j(()=>[L(n(e.$t("wallet.backHome")),1)]),_:1})])]))],2)}const Se=M(Pe,[["render",je],["__scopeId","data-v-2033e8ad"],["__file","/home/runner/work/web-wallet-vuejs/web-wallet-vuejs/src/modules/wallet/views/ViewWallets.vue"]]);export{Se as default};
