import"./vue-86063517.js";import{_ as K}from"./icon-plus-7207f329.js";import{A as O,a as F}from"./AccountTabs-238f9695.js";import{n as M,_ as E,w as L,A as S}from"./index-e91c98d3.js";import{d as G}from"./tsjs-xpx-chain-sdk-84426b6a.js";import{_ as D}from"./icon-green-tick-1b766454.js";import{_ as z}from"./icon-red-x-a5511f99.js";import{_ as $}from"./icon-more-options-3f3cfda9.js";import{f as x,g as U}from"./primevue-e09f7e84.js";import{d as R,r as A,aR as q,x as J,B as T,o as i,z as _,a as h,m as n,l as f,b as w,A as t,g as p,bf as v,e as m,u as B,aW as H,aT as W,c as V,w as Q}from"./@vue-a9ecc9f1.js";import"./@js-joda-d98eb16f.js";import"./jdenticon-e4458e79.js";import"./node-stdlib-browser-23a8bc7f.js";import"./buffer-6d367910.js";import"./base64-js-50a5cdf9.js";import"./ieee754-44f7831e.js";import"./process-2209b2b3.js";import"./vue-i18n-728f748b.js";import"./@intlify-16888cd3.js";import"./functions-3b5b4af7.js";import"./TextInput-909d01ae.js";import"./TextInputClean-5873929f.js";import"./icon-key-5b3f7dda.js";import"./vue-router-21fffbbf.js";import"./rxjs-1250b26d.js";import"./tslib-8dbab242.js";import"./crypto-js-e64ac54c.js";import"./crypto-browserify-4fd8cccd.js";import"./randombytes-685e9383.js";import"./safe-buffer-c463177b.js";import"./create-hash-92c04a28.js";import"./inherits-804453d8.js";import"./md5.js-8d474739.js";import"./hash-base-bb85fc42.js";import"./readable-stream-2241ee9e.js";import"./events-86ccc6d8.js";import"./util-06f7ff32.js";import"./is-arguments-86164331.js";import"./has-tostringtag-7c6352d6.js";import"./has-symbols-cd7870b9.js";import"./call-bind-9e7f09da.js";import"./get-intrinsic-f35014ba.js";import"./has-proto-8ede3a55.js";import"./function-bind-68631a08.js";import"./has-ab8e2922.js";import"./is-generator-function-06dfaf9d.js";import"./which-typed-array-cf6b6a29.js";import"./for-each-f57c5052.js";import"./is-callable-7492318c.js";import"./available-typed-arrays-61974ec7.js";import"./gopd-bab4d6bd.js";import"./is-typed-array-037eef20.js";import"./util-deprecate-c3aabb3c.js";import"./string_decoder-ef7b01fe.js";import"./ripemd160-58dcfa02.js";import"./sha.js-cea3da2e.js";import"./cipher-base-aee0e03d.js";import"./stream-browserify-7496a08f.js";import"./create-hmac-e8b5ea4a.js";import"./browserify-sign-a708a95f.js";import"./browserify-rsa-bfbdcbb6.js";import"./bn.js-1ae23332.js";import"./elliptic-75e883ee.js";import"./minimalistic-assert-4cc49674.js";import"./minimalistic-crypto-utils-6f869a51.js";import"./brorand-03f0f79d.js";import"./hash.js-4f5dfe73.js";import"./hmac-drbg-87799258.js";import"./parse-asn1-465c125b.js";import"./asn1.js-405e93e4.js";import"./safer-buffer-2ac6237e.js";import"./evp_bytestokey-e91543fa.js";import"./browserify-aes-ce20a0e6.js";import"./buffer-xor-87a7236a.js";import"./pbkdf2-e2ae8643.js";import"./browserify-cipher-c4c37ca3.js";import"./browserify-des-3f7e64d9.js";import"./des.js-d262604a.js";import"./diffie-hellman-c8260aab.js";import"./miller-rabin-de27bf02.js";import"./create-ecdh-ffe720e9.js";import"./public-encrypt-fc0568a2.js";import"./randomfill-2874e5f1.js";import"./mathjs-2a513dae.js";import"./@babel-484168fe.js";import"./typed-function-4896e4f1.js";import"./decimal.js-d133ee8e.js";import"./complex.js-cf2520e8.js";import"./fraction.js-39e7906a.js";import"./javascript-natural-sort-c4dd0c27.js";import"./escape-latex-c8a96e7a.js";import"./seedrandom-c8f991ad.js";import"./tiny-emitter-56d49cfd.js";import"./js-sha3-d7d4f583.js";import"./crypto-random-string-d158262e.js";import"./jose-92e5544c.js";import"./vue-loading-overlay-b89251b1.js";import"./jspdf-30014160.js";import"./fflate-8981c52c.js";import"./vue-debounce-3bbbf8c6.js";import"./mitt-f7ef348c.js";/* empty css                   */import"./maska-6f10db43.js";import"./@fortawesome-014b81f2.js";import"./vue3-blocks-tree-e53499e3.js";import"./@noble-f8eff84a.js";import"./utf8-c941a4a0.js";import"./bip39-936aefa9.js";import"./axios-b48d2c29.js";import"./flatbuffers-edc4f8d7.js";import"./ws-0a714537.js";const y=a=>(H("data-v-e76bf6a6"),a=a(),W(),a),X=y(()=>t("div",{class:"uppercase text-xxs font-bold mb-1"},"ID",-1)),Y={class:"uppercase cursor-pointer font-bold text-txs"},Z=["href"],ee={class:"uppercase inline-block text-xs mt-1.5 cursor-pointer text-blue-primary pr-7"},te=y(()=>t("div",{class:"uppercase text-xxs text-gray-300 font-bold mb-1 mt-5"},"Namespace",-1)),se={class:"flex items-center"},oe={class:"uppercase font-bold text-txs mr-2"},re=y(()=>t("div",{class:"uppercase text-xxs text-gray-300 font-bold mb-1 mt-5"},"Linked Asset/Address",-1)),ae={class:"uppercase font-bold text-txs truncate"},ie=y(()=>t("div",{class:"uppercase text-xxs text-gray-300 font-bold mb-1"},"Expiry",-1)),ne={class:"uppercase font-bold text-txs"},le=y(()=>t("div",{class:"uppercase text-xxs text-gray-300 font-bold mb-1 mt-5"},"Active",-1)),ce={class:"uppercase font-bold text-txs"},de={key:0,src:D,class:"h-5 w-5 ml-1"},me={key:1,src:z,class:"h-5 w-5 ml-1"},pe=y(()=>t("div",{class:"uppercase text-xxs text-gray-300 font-bold mb-1 mt-5"},"Actions",-1)),ue=["onClick","onMouseover"],ve={key:1,class:"w-36 absolute rounded-sm shadow-lg bg-white focus:outline-none z-10 text-left"},_e={class:"my-2"},fe=["href"],he={class:"min-w-min uppercase inline-block text-xs mt-1.5 cursor-pointer text-blue-primary pr-7"},ge={class:"truncate"},xe={key:0,src:D,class:"h-5 w-5 ml-1"},we={key:1,src:z,class:"h-5 w-5 ml-1"},be=["onClick","onMouseover"],ke={key:0,class:"w-36 absolute rounded-sm shadow-lg bg-white focus:outline-none z-10 text-left"},ye={class:"my-2"},Ae=R({__name:"NamespaceDataTable",props:{namespaces:Array,address:String},setup(a){const l=A(!1),u=()=>{window.innerWidth<1024?l.value=!1:l.value=!0};u(),q(()=>{window.removeEventListener("resize",u)}),J(()=>{window.addEventListener("resize",u)});const c=e=>M.currentNetworkProfile?M.currentNetworkProfile.chainExplorer.url+"/"+M.currentNetworkProfile.chainExplorer.namespaceInfoRoute+"/"+e:"",d=A([]),b=A(0),I=e=>{b.value=e,d.value[e]=!d.value[e]};B().appContext.config.globalProperties.emitter.on("PAGE_CLICK",()=>{for(var e=0;e<d.value.length;)e!=b.value&&(d.value[e]=!1),e++});const P=e=>{b.value=e},s=()=>{b.value=-1};return(e,r)=>{const g=T("router-link");return i(),_("div",null,[h(v(U),{value:a.namespaces,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink  RowsPerPageDropdown",rowsPerPageOptions:[10,20,30,40,50],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} entries",responsiveLayout:"scroll"},{empty:n(()=>[f(" No namespaces found. ")]),loading:n(()=>[f(" Loading namespaces data. Please wait. ")]),default:n(()=>[l.value?m("v-if",!0):(i(),w(v(x),{key:0,style:{width:"200px"},headerClass:"hidden"},{body:n(({data:o})=>[t("div",null,[X,t("div",Y,[t("a",{href:c(o.id),target:"_new",class:"col-span-2"},[t("div",ee,p(o.id),1)],8,Z)])]),t("div",null,[te,t("div",se,[t("div",oe,p(o.name),1)])]),t("div",null,[re,t("div",ae,p(o.linkedAssetAddress),1)])]),_:1})),l.value?m("v-if",!0):(i(),w(v(x),{key:1,style:{width:"200px"},headerClass:"hidden"},{body:n(({data:o,index:k})=>[t("div",null,[ie,t("div",ne,p(o.expiringBlock),1)]),t("div",null,[le,t("div",ce,[o.isActive?(i(),_("img",de)):(i(),_("img",me))])]),t("div",null,[pe,o.isActive?(i(),_("img",{key:0,src:$,class:"w-4 h-4 cursor-pointer inline-block ml-2 mt-0.5",onClick:C=>I(k),onMouseover:C=>P(k),onMouseout:s},null,40,ue)):m("v-if",!0),d.value[k]?(i(),_("div",ve,[t("div",_e,[h(g,{to:{name:"ViewServicesNamespaceExtend",params:{address:a.address,namespaceId:o.id}},class:"block hover:bg-gray-100 transition duration-200 p-2 z-20"},{default:n(()=>[f(p(e.$t("general.extendDuration")),1)]),_:2},1032,["to"]),h(g,{to:{name:"ViewNamespaceMetadata",params:{namespaceId:o.name,address:a.address}},class:"block hover:bg-gray-100 transition duration-200 p-2 z-20"},{default:n(()=>[f("View Metadata")]),_:2},1032,["to"])])])):m("v-if",!0)])]),_:1})),l.value?(i(),w(v(x),{key:2,field:"id",header:"ID"},{body:n(({data:o})=>[t("a",{href:c(o.id),target:"_new",class:"col-span-2"},[t("div",he,p(o.id),1)],8,fe)]),_:1})):m("v-if",!0),l.value?(i(),w(v(x),{key:3,field:"name",header:"Name"},{body:n(({data:o})=>[f(p(o.name),1)]),_:1})):m("v-if",!0),l.value?(i(),w(v(x),{key:4,field:"linked",header:"Linked Asset/Address"},{body:n(({data:o})=>[t("div",ge,p(o.linkedAssetAddress),1)]),_:1})):m("v-if",!0),l.value?(i(),w(v(x),{key:5,field:"expiry",header:"Expiry"},{body:n(({data:o})=>[f(p(o.expiringBlock),1)]),_:1})):m("v-if",!0),l.value?(i(),w(v(x),{key:6,field:"active",header:"Active"},{body:n(({data:o})=>[o.isActive?(i(),_("img",xe)):(i(),_("img",we))]),_:1})):m("v-if",!0),l.value?(i(),w(v(x),{key:7,field:"actions",header:"Actions"},{body:n(({data:o,index:k})=>[t("img",{src:$,class:"w-4 h-4 cursor-pointer inline-block ml-2 mt-0.5",onClick:C=>I(k),onMouseover:C=>P(k),onMouseout:s},null,40,be),d.value[k]?(i(),_("div",ke,[t("div",ye,[h(g,{to:{name:"ViewServicesNamespaceExtend",params:{address:a.address,namespaceId:o.id}},class:"block hover:bg-gray-100 transition duration-200 p-2 z-20"},{default:n(()=>[f(p(e.$t("general.extendDuration")),1)]),_:2},1032,["to"]),h(g,{to:{name:"ViewNamespaceMetadata",params:{namespaceId:o.name,address:a.address}},class:"block hover:bg-gray-100 transition duration-200 p-2 z-20"},{default:n(()=>[f("View Metadata")]),_:2},1032,["to"])])])):m("v-if",!0)]),_:1})):m("v-if",!0)]),_:1},8,["value"])])}}});const Ie=E(Ae,[["__scopeId","data-v-e76bf6a6"],["__file","/home/runner/work/web-wallet-vuejs/web-wallet-vuejs/src/modules/account/components/NamespaceDataTable.vue"]]),Ne=a=>(H("data-v-6f9d89e1"),a=a(),W(),a),Pe={class:"lg:w-9/12 ml-2 mr-2 lg:ml-auto lg:mr-auto mt-5"},Ce={class:"border-2 border-t-0 pb-3"},Me=Ne(()=>t("img",{src:K,class:"inline-block mr-2"},null,-1)),Le=R({__name:"ViewAccountNamespaces",props:{address:String},setup(a){const l=a,u=V(()=>{if(!L.currentLoggedInWallet)return null;let s=L.currentLoggedInWallet.accounts.find(e=>e.address==l.address)||L.currentLoggedInWallet.others.find(e=>e.address==l.address);return s||null});V(()=>u.value?!!u.value.getDirectParentMultisig().length:!1);const c=A([]),d=A([]),b=V(()=>{if(!u.value)return;let s=[];for(let e=0;e<u.value.namespaces.length;e++){let r=u.value.namespaces[e];s.push({name:r.name,id:r.idHex,linkedAssetAddress:r.linkedId!=""?r.linkType==2?G.Address.createFromRawAddress(r.linkedId).pretty():r.linkedId:"-",expiringBlock:r.endHeight,isActive:I(r.name)?!0:!!(r.endHeight??0>S.readBlockHeight)})}return s}),I=s=>!!s.includes("prx"),N=async()=>{for(let s=0;s<b.value.length;s++)d.value.push(!1),c.value.push(!1)};if(S.isReady)N();else{let s=Q(S,e=>{e.isReady&&(N(),s())})}return B().appContext.config.globalProperties.emitter.on("PAGE_CLICK",()=>{if(d.value.every(s=>s==!1)&&c.value.includes(!0))for(let s=0;s<c.value.length;s++)c.value[s]=!1;else if(d.value.includes(!0)&&c.value.includes(!0)){let s=[],e=[];if(d.value.filter((r,g)=>{r==!0&&s.push(g)}),c.value.filter((r,g)=>{r==!0&&e.push(g)}),s!=e){for(let r=0;r<c.value.length;r++)c.value[r]=!1;c.value[s[0]]=!0}}}),(s,e)=>{const r=T("router-link");return i(),_("div",null,[t("div",Pe,[h(O,{address:a.address,class:"mb-6"},null,8,["address"]),h(F,{address:a.address,selected:"namespaces"},null,8,["address"]),t("div",Ce,[h(Ie,{namespaces:b.value,address:a.address},null,8,["namespaces","address"]),h(r,{to:{name:"ViewServicesNamespaceCreate"},class:"mt-2 bg-blue-primary py-3 mx-6 text-gray-100 text-xs font-bold rounded-md flex items-center justify-center w-52"},{default:n(()=>[Me,f(p(s.$t("namespace.registerNewNamespace")),1)]),_:1})])])])}}});const Es=E(Le,[["__scopeId","data-v-6f9d89e1"],["__file","/home/runner/work/web-wallet-vuejs/web-wallet-vuejs/src/modules/account/views/ViewAccountNamespaces.vue"]]);export{Es as default};
