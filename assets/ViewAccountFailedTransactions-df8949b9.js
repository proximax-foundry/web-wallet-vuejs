import{d as S,r as y,a9 as C,aa as P,g as F,R as L,o as i,b as w,s as l,z as r,A as d,t as c,m as x,e as t,S as T,C as h,f,ac as D,p as I,j as V,_ as A,c as $,E as g,a as R,ah as H,k as E,w as k}from"./index-b4bb6af4.js";import{A as N,a as j}from"./AccountTabs-b9f79c7e.js";import{s as b,a as z}from"./column.esm-b7823e8a.js";import"./jdenticon-module-6969b920.js";import"./functions-7c132b7a.js";import"./TextInput-827c3ec7.js";import"./TextInputClean-3b09ae50.js";import"./icon-key-5b3f7dda.js";const M=a=>(I("data-v-3bbf48ab"),a=a(),V(),a),B={class:"uppercase text-xxs font-bold mb-1"},W={class:"flex items-center"},K={class:"uppercase cursor-pointer font-bold text-txs"},O={class:"text-txs"},J=M(()=>t("div",{class:"uppercase text-xxs font-bold mb-1"}," Status ",-1)),U={class:"flex items-center"},q={class:"text-txs"},G={class:"flex items-center"},Q={class:"text-txs cursor-pointer"},X={class:"text-txs"},Y={directives:{tooltip:D}},Z=S({...Y,__name:"FailedTxnDT",props:{transactions:Array},setup(a){const n=y(!1),u=()=>{window.innerWidth<1024?n.value=!1:n.value=!0};u(),C(()=>{window.removeEventListener("resize",u)}),P(()=>{window.addEventListener("resize",u)});const p=F(),_=p==null?void 0:p.appContext.config.globalProperties.emitter,o=y(!1);return _.on("CLOSE_MODAL",s=>{o.value=s}),(s,m)=>{const v=L("tooltip");return i(),w("div",null,[l(h(z),{value:a.transactions,paginator:!0,rows:10,scrollDirection:"horizontal",alwaysShowPaginator:!1,responsiveLayout:"scroll",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",currentPageReportTemplate:""},{empty:r(()=>[d(c(s.$t("general.noRecord")),1)]),loading:r(()=>[d(c(s.$t("dashboard.fetchingTx")),1)]),default:r(()=>[n.value?f("v-if",!0):(i(),x(h(b),{key:0,style:{width:"200px"},headerClass:"invisible"},{body:r(({data:e})=>[t("div",null,[t("div",B,c(s.$t("dashboard.txHash")),1),t("div",W,[t("div",K,[T((i(),w("span",O,[d(c(e.txnHash.substring(0,20))+"...",1)])),[[v,e.txnHash,void 0,{right:!0}]])])])])]),_:1})),n.value?f("v-if",!0):(i(),x(h(b),{key:1,style:{width:"200px"},headerClass:"invisible"},{body:r(({data:e})=>[t("div",null,[J,t("div",U,[t("span",q,c(e.statusMsg),1)])])]),_:1})),n.value?(i(),x(h(b),{key:2,field:"hash",header:s.$t("dashboard.txHash"),headerStyle:"width:100px"},{body:r(({data:e})=>[t("div",G,[T((i(),w("span",Q,[d(c(e.txnHash.substring(0,20))+"...",1)])),[[v,e.txnHash,void 0,{bottom:!0}]])])]),_:1},8,["header"])):f("v-if",!0),n.value?(i(),x(h(b),{key:3,field:"status",header:"Status",headerStyle:"width:110px"},{body:r(({data:e})=>[t("span",X,c(e.statusMsg),1)]),_:1})):f("v-if",!0)]),_:1},8,["value"])])}}});const ee=A(Z,[["__scopeId","data-v-3bbf48ab"],["__file","/home/runner/work/web-wallet-vuejs/web-wallet-vuejs/src/modules/dashboard/components/TransactionDataTable/FailedTxnDT.vue"]]),te={class:"lg:w-9/12 ml-2 mr-2 lg:ml-auto lg:mr-auto mt-5"},se={class:"flex my-2 gap-5 flex-none text-xs md:text-sm"},ae=t("div",{class:"border rounded-md text-white py-2 px-5",style:{background:"#DC143C"}},"Failed",-1),oe=S({__name:"ViewAccountFailedTransactions",props:{address:String},setup(a){const n=y([]),u=$(()=>{let o=[];return o=n.value,o}),p=async()=>{if(!g.chainAPI||!k.currentLoggedInWallet)return;const o=k.currentLoggedInWallet.accounts.find(e=>e.default===!0),s=o?o.publicKey:"";let v=(JSON.parse(sessionStorage.getItem("allFailedTransactions"))||[]).filter(e=>e.accPubKey.includes(s));n.value=v.flat()},_=async()=>{await p()};if(g.isReady)_();else{let o=R(g,s=>{s.isReady&&(_(),o())})}return H(()=>{setInterval(()=>{_()},1e3)}),(o,s)=>{const m=E("router-link");return i(),w("div",null,[t("div",te,[l(N,{address:a.address,class:"mb-6"},null,8,["address"]),l(j,{address:a.address,selected:"txn"},null,8,["address"]),t("div",se,[l(m,{to:{name:"ViewAccountConfirmedTransactions",params:{address:a.address}},class:"border opacity-60 hover:opacity-100 cursor-pointer rounded-md text-white py-2 px-4",style:{background:"#007CFF"}},{default:r(()=>[d("Confirmed")]),_:1},8,["to"]),l(m,{to:{name:"ViewAccountPendingTransactions",params:{address:a.address}},class:"border opacity-60 hover:opacity-100 cursor-pointer rounded-md text-white py-2 px-5",style:{background:"#f3a91d"}},{default:r(()=>[d("Pending")]),_:1},8,["to"]),ae]),l(ee,{transactions:u.value,class:"mt-3"},null,8,["transactions"])])])}}}),_e=A(oe,[["__file","/home/runner/work/web-wallet-vuejs/web-wallet-vuejs/src/modules/account/views/ViewAccountFailedTransactions.vue"]]);export{_e as default};
