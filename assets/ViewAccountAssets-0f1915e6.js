import{d as R,r as L,a9 as W,aa as H,g as O,k as I,o as s,b as o,s as b,z as i,A as v,m as p,e as t,t as c,C as w,f as _,n as P,p as G,j as K,_ as V,w as M,c as S,E as F,H as U,ab as q}from"./index-58a8249b.js";import{A as J,a as Q}from"./AccountTabs-8d367dba.js";import{_ as E}from"./proximax-logo-ecfc3767.js";import{_ as D}from"./xarcade-logo-c4d3fd5c.js";import{_ as z}from"./metx-logo-27f23eae.js";import{_ as X}from"./icon-proximax-logo-gray-c2486ce1.js";import{_ as j}from"./icon-green-tick-1b766454.js";import{_ as B}from"./icon-red-x-a5511f99.js";import{_ as $}from"./icon-more-options-3f3cfda9.js";import{s as x,a as Y}from"./column.esm-7374ef31.js";import{_ as Z}from"./icon-plus-7207f329.js";import"./jdenticon-module-c2e94759.js";import"./functions-6b436f72.js";import"./TextInput-6a604a45.js";import"./TextInputClean-7961e8c0.js";import"./icon-key-5b3f7dda.js";const k=n=>(G("data-v-c17b617d"),n=n(),K(),n),ee=k(()=>t("div",{class:"uppercase text-xxs font-bold mb-1"},"ID",-1)),se={class:"uppercase cursor-pointer font-bold text-txs"},te=["href"],re={class:"uppercase inline-block text-xs mt-1.5 cursor-pointer text-blue-primary pr-7"},oe=k(()=>t("div",{class:"uppercase text-xxs text-gray-300 font-bold mb-1 mt-5"},"Namespace",-1)),ne={class:"flex items-center pr-7"},ae={key:0,src:E,class:"font-semibold h-7 w-7 border-2 rounded-3xl"},ie={key:1,src:D,class:"font-semibold h-7 w-7 border-2 rounded-3xl"},le={key:2,src:z,class:"font-semibold h-7 w-7 border-2 rounded-3xl"},ce={key:3},de={key:4,src:X,class:"h-6 w-6"},ue={key:5,class:"font-semibold text-xs ml-2 mt-1"},me={key:6,class:"font-semibold text-xs cursor-pointer mt-1 ml-1"},_e=k(()=>t("div",{class:"uppercase text-xxs text-gray-300 font-bold mb-1 mt-5"},"Balance",-1)),pe={class:"uppercase font-bold text-xs truncate"},fe=k(()=>t("div",{class:"uppercase text-xxs text-gray-300 font-bold mb-1 mt-5"},"Creator",-1)),ve={class:"uppercase font-bold text-txs"},he={key:0,src:j,class:"h-5 w-5 ml-1"},ge={key:1,src:B,class:"h-5 w-5 ml-1"},be=k(()=>t("div",{class:"uppercase text-xxs text-gray-300 font-bold mb-1 mt-5"},"Actions",-1)),ye=["onClick","onMouseover"],we={key:0,class:"mt-5 w-36 absolute rounded-sm shadow-lg bg-white focus:outline-none z-10 text-left"},xe={class:"my-2"},ke=k(()=>t("div",{class:"block hover:bg-gray-100 transition duration-200 p-2 z-20 cursor-pointer"},"View Metadata",-1)),Ae=["href"],Ce={class:"text-blue-primary uppercase w-min-max text-xs mt-1.5 cursor-pointertext-blue-primary pr-7"},Me={class:"flex items-center pr-7"},Ie={key:0,src:E,class:"inline-block h-7 w-7 mr-2 border-2 rounded-3xl"},Se={key:1,src:D,class:"inline-block h-7 w-7 mr-2 border-2 rounded-3xl"},Te={key:2,src:z,class:"inline-block h-7 w-7 mr-2 border-2 rounded-3xl"},Ne={key:3},Le={key:4,src:X,class:"inline-block h-6 w-6 mr-2"},Pe={key:5,class:"inline-block text-xs ml-2 mt-1"},$e={key:6,class:"inline-block text-xs ml-2 cursor-pointer mt-1"},Ve={key:0,src:j,class:"h-5 w-5"},Ee={key:1,src:B,class:"h-5 w-5"},De=["onClick","onMouseover"],ze={key:0,class:"mt-5 w-36 absolute rounded-sm shadow-lg bg-white focus:outline-none z-10 text-left"},Xe={class:"my-2"},je=k(()=>t("div",{class:"block hover:bg-gray-100 transition duration-200 p-2 z-20 cursor-pointer"},"View Metadata",-1)),Be=R({__name:"AssetDataTable",props:{assets:Array,address:String},setup(n){const d=L(!1),h=()=>{window.innerWidth<1024?d.value=!1:d.value=!0};h(),W(()=>{window.removeEventListener("resize",h)}),H(()=>{window.addEventListener("resize",h)});const f=r=>P.currentNetworkProfile?P.currentNetworkProfile.chainExplorer.url+"/"+P.currentNetworkProfile.chainExplorer.assetInfoRoute+"/"+r:"",u=r=>r=="prx.xpx"?{name:"XPX",registered:!0}:r=="prx.metx"?{name:"METX",registered:!0}:r=="xarcade.xar"?{name:"XAR",registered:!0}:{name:r,registered:!1},g=L([]),y=L(0),A=r=>{y.value=r,g.value[r]=!g.value[r]};O().appContext.config.globalProperties.emitter.on("PAGE_CLICK",()=>{for(var r=0;r<g.value.length;)r!=y.value&&(g.value[r]=!1),r++});const l=r=>{y.value=r},m=()=>{y.value=-1};return(r,Qe)=>{const C=I("router-link");return s(),o("div",null,[b(w(Y),{value:n.assets,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink  RowsPerPageDropdown",rowsPerPageOptions:[10,20,30,40,50],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} entries",responsiveLayout:"scroll"},{empty:i(()=>[v(" No assets found. ")]),loading:i(()=>[v(" Loading assets data. Please wait. ")]),default:i(()=>[d.value?_("v-if",!0):(s(),p(w(x),{key:0,style:{width:"200px"},headerClass:"hidden"},{body:i(({data:e})=>[t("div",null,[ee,t("div",se,[t("a",{href:f(e.id),target:"_new",class:"col-span-2"},[t("div",re,c(e.id),1)],8,te)])]),t("div",null,[oe,t("div",ne,[u(e.name).name=="XPX"?(s(),o("img",ae)):u(e.name).name=="XAR"?(s(),o("img",ie)):u(e.name).name=="METX"?(s(),o("img",le)):e.name=="-"?(s(),o("div",ce)):(s(),o("img",de)),u(e.name).registered?(s(),o("div",ue,c(u(e.name).name),1)):(s(),o("div",me,c(e.name),1))])]),t("div",null,[_e,t("div",pe,c(e.balance),1)])]),_:1})),d.value?_("v-if",!0):(s(),p(w(x),{key:1,style:{width:"200px"},headerClass:"hidden"},{body:i(({data:e})=>[t("div",null,[fe,t("div",ve,[e.isCreator?(s(),o("img",he)):(s(),o("img",ge))])]),t("div",null,[be,t("img",{src:$,class:"w-4 h-4 cursor-pointer ml-2 mt-0.5",onClick:N=>A(e.i),onMouseover:N=>l(e.i),onMouseout:m},null,40,ye),g.value[e.i]?(s(),o("div",we,[t("div",xe,[e.isCreator?(s(),p(C,{key:0,to:{name:"ViewServicesAssetsModifySupplyChange",params:{assetId:e.id,address:n.address,assetBalance:e.balance}},class:"block hover:bg-gray-100 transition duration-200 p-2 z-20"},{default:i(()=>[v(c(r.$t("general.modifySupply")),1)]),_:2},1032,["to"])):_("v-if",!0),e.isCreator?(s(),p(C,{key:1,to:{name:"ViewServicesAssetsLinkToNamespace",params:{assetId:e.id,address:n.address}},class:"block hover:bg-gray-100 transition duration-200 p-2 z-20"},{default:i(()=>[v(c(r.$t("general.linkToNamespace")),1)]),_:2},1032,["to"])):_("v-if",!0),b(C,{to:{name:"ViewAssetMetadata",params:{assetId:e.id,address:n.address}}},{default:i(()=>[ke]),_:2},1032,["to"])])])):_("v-if",!0)])]),_:1})),d.value?(s(),p(w(x),{key:2,field:"id",header:"ID"},{body:i(({data:e})=>[t("a",{href:f(e.id),target:"_new",class:"col-span-2"},[t("div",Ce,c(e.id),1)],8,Ae)]),_:1})):_("v-if",!0),d.value?(s(),p(w(x),{key:3,field:"namespace",header:"Namespace"},{body:i(({data:e})=>[t("div",Me,[u(e.name).name=="XPX"?(s(),o("img",Ie)):u(e.name).name=="XAR"?(s(),o("img",Se)):u(e.name).name=="METX"?(s(),o("img",Te)):e.name=="-"?(s(),o("div",Ne)):(s(),o("img",Le)),u(e.name).registered?(s(),o("div",Pe,c(u(e.name).name),1)):(s(),o("div",$e,c(e.name),1))])]),_:1})):_("v-if",!0),d.value?(s(),p(w(x),{key:4,field:"balance",header:"Balance"},{body:i(({data:e})=>[v(c(e.balance),1)]),_:1})):_("v-if",!0),d.value?(s(),p(w(x),{key:5,field:"creator",header:"Creator"},{body:i(({data:e})=>[e.isCreator?(s(),o("img",Ve)):(s(),o("img",Ee))]),_:1})):_("v-if",!0),d.value?(s(),p(w(x),{key:6,field:"actions",header:"Actions"},{body:i(({data:e})=>[t("img",{src:$,class:"w-4 h-4 cursor-pointer ml-2 mt-0.5",onClick:N=>A(e.i),onMouseover:N=>l(e.i),onMouseout:m},null,40,De),g.value[e.i]?(s(),o("div",ze,[t("div",Xe,[e.isCreator?(s(),p(C,{key:0,to:{name:"ViewServicesAssetsModifySupplyChange",params:{assetId:e.id,address:n.address,assetBalance:e.balance}},class:"block hover:bg-gray-100 transition duration-200 p-2 z-20"},{default:i(()=>[v(c(r.$t("general.modifySupply")),1)]),_:2},1032,["to"])):_("v-if",!0),e.isCreator?(s(),p(C,{key:1,to:{name:"ViewServicesAssetsLinkToNamespace",params:{assetId:e.id,address:n.address}},class:"block hover:bg-gray-100 transition duration-200 p-2 z-20"},{default:i(()=>[v(c(r.$t("general.linkToNamespace")),1)]),_:2},1032,["to"])):_("v-if",!0),b(C,{to:{name:"ViewAssetMetadata",params:{assetId:e.id,address:n.address}}},{default:i(()=>[je]),_:2},1032,["to"])])])):_("v-if",!0)]),_:1})):_("v-if",!0)]),_:1},8,["value"])])}}});const Re=V(Be,[["__scopeId","data-v-c17b617d"],["__file","/home/runner/work/web-wallet-vuejs/web-wallet-vuejs/src/modules/account/components/AssetDataTable.vue"]]),We="/web-wallet-vuejs/assets/icon-transfer-white-08654b1d.svg",He={name:"ViewAccountAssets",components:{AccountComponent:J,AccountTabs:Q,AssetDataTable:Re},props:{address:String},setup(n){const d=M.currentLoggedInWallet,h=S(()=>F.nativeToken.label),f=S(()=>{if(!d)return null;let a=d.accounts.find(l=>l.address==n.address);return a??d.others.filter(l=>l.type==="MULTISIG").find(l=>l.address==n.address)}),u=S(()=>f.value?!!f.value.getDirectParentMultisig().length:!1);let g=()=>{if(!M.currentLoggedInWallet)return!1;let a=M.currentLoggedInWallet.others.find(l=>l.address==n.address);return a?a.type=="DELEGATE":!1};const y=S(()=>{var a=[];if(!M.currentLoggedInWallet)return a;const l=M.currentLoggedInWallet.accounts.find(m=>m.address==n.address)||M.currentLoggedInWallet.others.find(m=>m.address==n.address);return l&&l.assets.forEach((m,r)=>{a.push({i:r,id:m.idHex,name:m.namespaceNames.length>0?A(m.namespaceNames):"-",balance:U.toCurrencyFormat(m.amount,m.divisibility),isCreator:f.value?m.creator==f.value.publicKey:!1})}),a}),A=a=>a.join(" / ");return{acc:f,isDelegate:g,isMultiSig:u,mosaics:y,splitBalance:a=>{let l=a.split(".");return l[1]!=null?{left:l[0],right:l[1]}:{left:l[0],right:null}},currentNativeTokenName:h}}},Oe={class:"lg:w-9/12 ml-2 mr-2 lg:ml-auto lg:mr-auto mt-5"},Ge={class:"border-2 border-t-0"},Ke={class:"flex my-3 px-6 flex-col w-full ml-auto mr-auto gap-2 sm:flex-row sm:items-center"},Fe=t("img",{src:We,class:"inline-block w-4 h-4 mt-0.5 cursor-pointer mr-1"},null,-1),Ue=t("img",{src:q,class:"w-4 h-4 inline-block relative mr-1"},null,-1),qe=t("img",{src:Z,class:"inline-block w-4 h-4 mr-2"},null,-1);function Je(n,d,h,f,u,g){const y=I("AccountComponent"),A=I("AccountTabs"),T=I("AssetDataTable"),a=I("router-link");return s(),o("div",null,[t("div",Oe,[b(y,{address:h.address,class:"mb-6"},null,8,["address"]),b(A,{address:h.address,selected:"assets"},null,8,["address"]),t("div",Ge,[b(T,{assets:f.mosaics,address:h.address},null,8,["assets","address"]),t("div",Ke,[b(a,{to:{name:"ViewTransferCreate"},class:"bg-blue-primary px-5 py-2 text-gray-100 text-xs font-bold rounded-md flex items-center justify-center"},{default:i(()=>[Fe,v(c(n.$t("general.transfer")),1)]),_:1}),b(a,{to:{name:"ViewServicesMainnetSwap"},class:"bg-blue-primary px-5 py-2 text-gray-100 text-xs font-bold rounded-md flex items-center justify-center"},{default:i(()=>[Ue,v(c(n.$t("general.swap")),1)]),_:1}),b(a,{to:{name:"ViewServicesAssetsCreate"},class:"bg-blue-primary px-5 py-2 text-gray-100 text-xs font-bold rounded-md flex items-center justify-center"},{default:i(()=>[qe,v(c(n.$t("asset.createNewAsset")),1)]),_:1})])])])])}const ps=V(He,[["render",Je],["__file","/home/runner/work/web-wallet-vuejs/web-wallet-vuejs/src/modules/account/views/ViewAccountAssets.vue"]]);export{ps as default};
