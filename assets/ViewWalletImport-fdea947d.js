import{d as W,a8 as B,y as C,k as F,j as A,c as x,A as E,n as I,g as $,r as M,o as T,f as V,l as p,b as _,e as a,s as b,t as o,C as g,W as d,w as k}from"./index-49f5eac9.js";import{_ as U}from"./chevron_left-0423cb29.js";import{_ as H}from"./SelectNetwork.vue_vue_type_script_setup_true_lang-5f80a3c6.js";const j={class:"md:col-span-1 bg-white mx-5 md:mx-0 px-30 pt-1 md:pt-0 rounded-md"},J={class:"text-lg text-center mt-10 font-semibold"},L={class:"text-xxs text-center text-blue-primary font-bold uppercase"},O={class:"text-xs mt-8 ml-auto mr-auto w-8/12 text-center mb-5"},R={class:"mx-auto w-8/12"},q={class:"cursor-pointer"},D={class:"mt-3 font-bold text-xs text-center blue-btn py-2 px-10 block ml-auto mr-auto w-8/12"},z={class:"text-center text-xs mt-6 mb-1"},G={class:"text-center text-xs text-blue-primary font-semibold"},Y=W({__name:"ViewWalletImport",setup(K){const v=B(),m=C(),h=F(),{t:s}=A(),u=x(()=>E.networkType),i=x(()=>I.chainNetworkName),N=$(""),y=e=>{const l=e.target.files[0],t=new FileReader;t.onload=r=>{const S=g.enc.Base64.parse(r.target.result);try{const n=JSON.parse(S.toString(g.enc.Utf8));if(n.networkName===void 0||n.networkName!==i.value)v.require({message:s("wallet.importMsg",{network:i.value}),header:s("wallet.confirmImport"),acceptLabel:s("general.yes"),rejectLabel:s("general.no"),icon:"pi pi-exclamation-triangle",accept:()=>{var c=w(n);m.add({severity:c.status,detail:c.msg,group:"br-custom",life:3e3}),h.push({name:"Home"})}});else{var f=w(n);m.add({severity:f.status,detail:f.msg,group:"br-custom",life:3e3})}}catch{let c=s("wallet.importFail");m.add({severity:"error",detail:c,group:"br-custom",life:5e3})}},t.readAsText(l)},w=e=>{let l="success",t=s("wallet.importSuccess");if(d.checkIsNewFormat(e))try{d.importWalletNewFormat(k.wallets,e,i.value,u.value)}catch(r){l="error",r.name==="SAME_NAME"?t=s("wallet.walletNameExist"):t=s("wallet.unableImport")}else try{d.importWltOldFormat(k.wallets,e,i.value,u.value)}catch(r){l="error",r.name==="SAME_NAME"?t=s("wallet.walletNameExist"):t=s("wallet.unableImport")}return{msg:t,status:l}};return(e,l)=>{const t=M("router-link");return T(),V("div",j,[p(t,{to:{name:"ViewWalletCreateSelection"},class:"text-xs m-2 text-blue-link items-center flex"},{default:_(()=>l[0]||(l[0]=[a("img",{src:U,class:"w-5 inline-block"},null,-1),b("Back")])),_:1}),a("div",J,o(e.$t("wallet.createWallet")),1),a("div",L,o(e.$t("wallet.fromBackUp")),1),a("div",O,o(e.$t("wallet.backUpDescription")),1),a("div",R,[p(H)]),a("label",q,[a("span",D,o(e.$t("wallet.importFile")),1),a("input",{type:"file",onChange:y,ref_key:"walletFile",ref:N,hidden:""},null,544)]),a("div",z,o(e.$t("wallet.haveWallet")),1),a("div",G,[p(t,{to:{name:"Home"}},{default:_(()=>[b(o(e.$t("wallet.signInHere"))+" >",1)]),_:1})]),l[1]||(l[1]=a("div",{class:"h-10"},null,-1))])}}});export{Y as default};
