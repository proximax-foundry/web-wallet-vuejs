import{d as P,j as I,g as w,k as R,o as h,f as k,e as c,l as t,v as o,ac as S,F as V,c as N,w as y,x as C,A as b,D as H,r as B,b as n,s as m,t as u,n as A}from"./index-ac085045.js";import{_ as E}from"./icon-green-tick-1b766454.js";import{_ as $}from"./icon-red-x-a5511f99.js";import{_ as D}from"./icon-plus-7207f329.js";import{s as l,a as F}from"./column.esm-a17d958d.js";import{A as T,_ as W}from"./AccountTabs.vue_vue_type_script_setup_true_lang-d29b9a74.js";import{_ as M}from"./icon-more-options-3f3cfda9.js";import"./jdenticon-module-2a95d186.js";import"./functions-c0137ee2.js";import"./TextInput-f71c8b4b.js";import"./TextInputClean-6fd2d429.js";import"./icon-key-5b3f7dda.js";const j=P({__name:"NamespaceAction",props:{address:{},id:{},name:{}},setup(i){const{t:p}=I(),d=w(),f=R(),v=w([{label:p("general.extendDuration"),command:()=>{f.push({name:"ViewServicesNamespaceExtend",params:{address:i.address,namespaceId:i.id}})}},{label:"View Metadata",command:()=>{f.push({name:"ViewNamespaceMetadata",params:{namespaceId:i.name,address:i.address}})}}]),g=_=>{d.value.toggle(_)};return(_,x)=>(h(),k(V,null,[c("img",{src:M,class:"w-4 h-4 cursor-pointer ml-2 mt-0.5",onClick:g}),t(o(S),{ref_key:"menu",ref:d,model:v.value,popup:!0},null,8,["model"])],64))}}),K={class:"lg:w-9/12 ml-2 mr-2 lg:ml-auto lg:mr-auto mt-5"},O={class:"border-2 border-t-0 pb-3"},q=["href"],z={class:"min-w-min uppercase inline-block text-xs mt-1.5 cursor-pointer text-blue-primary pr-7"},G={class:"truncate"},J={key:0,src:E,class:"h-5 w-5 ml-1"},Q={key:1,src:$,class:"h-5 w-5 ml-1"},U=c("img",{src:D,class:"inline-block mr-2"},null,-1),ce=P({__name:"ViewAccountNamespaces",props:{address:String},setup(i){const p=i,d=N(()=>{if(!y.currentLoggedInWallet)return null;let e=y.currentLoggedInWallet.accounts.find(r=>r.address==p.address)||y.currentLoggedInWallet.others.find(r=>r.address==p.address);return e||null}),f=w([]),v=w([]),g=N(()=>{if(!d.value)return;let e=[];for(let r=0;r<d.value.namespaces.length;r++){let s=d.value.namespaces[r];s.endHeight||(s.endHeight=0),e.push({name:s.name,id:s.idHex,linkedAssetAddress:s.linkedId!=""?s.linkType==2?C.Address.createFromRawAddress(s.linkedId).pretty():s.linkedId:"-",expiringBlock:s.endHeight,isActive:_(s.name)?!0:Number(s.endHeight)>b.readBlockHeight})}return e}),_=e=>!!e.includes("prx"),x=async()=>{for(let e=0;e<g.value.length;e++)v.value.push(!1),f.value.push(!1)};if(b.isReady)x();else{let e=H(b,r=>{r.isReady&&(x(),e())})}const L=e=>A.currentNetworkProfile?A.currentNetworkProfile.chainExplorer.url+"/"+A.currentNetworkProfile.chainExplorer.namespaceInfoRoute+"/"+e:"";return(e,r)=>{const s=B("router-link");return h(),k("div",K,[t(T,{address:i.address,class:"mb-6"},null,8,["address"]),t(W,{address:i.address,selected:"namespaces"},null,8,["address"]),c("div",O,[t(o(F),{value:g.value,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink  RowsPerPageDropdown",rowsPerPageOptions:[10,20,30,40,50],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} entries",responsiveLayout:"scroll"},{empty:n(()=>[m(" No namespaces found. ")]),loading:n(()=>[m(" Loading namespaces data. Please wait. ")]),default:n(()=>[t(o(l),{field:"id",header:"ID"},{body:n(({data:a})=>[c("a",{href:L(a.id),target:"_new",class:"col-span-2"},[c("div",z,u(a.id),1)],8,q)]),_:1}),t(o(l),{field:"name",header:"Name"},{body:n(({data:a})=>[m(u(a.name),1)]),_:1}),t(o(l),{field:"linked",header:"Linked Asset/Address"},{body:n(({data:a})=>[c("div",G,u(a.linkedAssetAddress),1)]),_:1}),t(o(l),{field:"expiry",header:"Expiry"},{body:n(({data:a})=>[m(u(a.expiringBlock),1)]),_:1}),t(o(l),{field:"active",header:"Active"},{body:n(({data:a})=>[a.isActive?(h(),k("img",J)):(h(),k("img",Q))]),_:1}),t(o(l),{field:"actions",header:"Actions"},{body:n(({data:a,index:X})=>[t(j,{address:i.address,id:a.id,name:a.name},null,8,["address","id","name"])]),_:1})]),_:1},8,["value"]),t(s,{to:{name:"ViewServicesNamespaceCreate"},class:"mt-2 bg-blue-primary py-3 mx-6 text-gray-100 text-xs font-bold rounded-md flex items-center justify-center w-52"},{default:n(()=>[U,m(u(e.$t("namespace.registerNewNamespace")),1)]),_:1})])])}}});export{ce as default};
