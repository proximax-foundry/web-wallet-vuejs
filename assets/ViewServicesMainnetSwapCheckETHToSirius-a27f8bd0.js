import{_ as at,g as a,a1 as nt,bc as rt,n as ee,c as g,y as ot,A as te,w as S,D as it,H as se,r as A,o as r,f as i,e as t,s as u,h as o,t as f,i as m,l as x,a as b,b as ae,O as lt,R as dt}from"./index-2c45a7ef.js";import{T as ct}from"./TextInputClean-d9b842de.js";import{S as ut,_ as mt}from"./icon-dots-b74f2e91.js";import{_ as ft}from"./SelectInputAccount.vue_vue_type_script_setup_true_lang-9ac7dc2f.js";import{c as vt}from"./functions-edc91899.js";import{S as T}from"./swapUtils-5d1d181a.js";import{_ as xt}from"./eth-aa063e38.js";import{_ as yt}from"./address-ae442d6a.js";import{B as Ae,_ as Ee}from"./icon-connected-2828e2ba.js";import{_ as bt}from"./icon-xpx-072deeab.js";import"./jdenticon-module-eb1215b2.js";import"./jspdf.es.min-59d0d4fd.js";import"./qrcode-c87bed80.js";const ht={name:"ViewServicesMainnetSwapCheckETHToSirius",components:{TextInputClean:ct,SwapCertificateComponent:ut,SelectInputAccount:ft},setup(){let y;const s=a(!0);window.ethereum&&(window.ethereum.isMetaMask||(s.value=!1)),nt(()=>{y&&clearInterval(y)});let w=new rt(ee.chainNetworkName);w.init();const e=a(""),E=a("");(async()=>{try{const n=await T.fetchTokenServiceInfo(w.swap_IN_SERVICE_URL,"xpx");n.status==200?(E.value=n.data.ethInfo.scAddress,e.value=n.data.ethInfo.sinkAddress,_.value=""):_.value="Swapping service is temporary not available. Please try again later"}catch{_.value="Swapping service is temporary not available. Please try again later"}})();const ne="^[0-9A-Za-z]{66}$",l=a(""),P=g(()=>!l.value.match(ne)&&l.value.length>0);let C=w.ETHChainId,Z=w.ETHNetworkName;const N=a(!1),d=a(!1),k=a(null),Pe=a(""),R=a(!1),V=a(!1),j=a(!1),L=a("Retry"),re=a(!1),Ne=a(!1),D=a(!1),oe=a(!1),I=a(!1),Re=a("xpx"),Ve=w.ETHScanUrl,je=T.getIncoming_ETHCheckStatus_URL(w.swap_IN_SERVICE_URL,Re.value),Le=T.getIncoming_ETHSwapTransfer_URL(w.swap_IN_SERVICE_URL);let p,G;typeof window.ethereum<"u"?(p=new Ae(window.ethereum),G=p.getSigner(),N.value=!0,d.value=!!ethereum.isConnected(),ethereum.request({method:"eth_accounts"}).then(ie).catch(n=>{console.error(n)}),ethereum.request({method:"eth_chainId"}).then(n=>{le(n)}).catch(n=>{console.error(n)}),ethereum.on("accountsChanged",De),ethereum.on("chainChanged",n=>{le(n)})):console.log("MetaMask not installed");function ie(n){n.length===0?k.value="":n[0]!==k.value&&(k.value=n[0]),d.value=!!ethereum.isConnected()}function De(n){window.ethereum.isMetaMask&&(n.length===0?k.value="":n[0]!==k.value&&(k.value=n[0],_.value="")),d.value=!!ethereum.isConnected()}function le(n){Pe.value=n,C===parseInt(n)?Q.value="":Q.value="Please select "+Z+" on MetaMask to swap"}const Ue=()=>{window.ethereum.isMetaMask==null?s.value=!1:(s.value=!0,ethereum.request({method:"eth_requestAccounts"}).then(ie).catch(n=>{n.code===4001?console.log("Please connect to MetaMask."):n.code=="-32002"&&(_.value="Please click on MetaMask extension to approve connection")}))},M=a(!1),de=a(!1),ce=a(!1),ue=a(!1),me=a(!1),fe=a(!1),ve=a(""),U=a(""),B=a(""),F=a(""),O=a(""),Be=()=>{T.generateIncomingPdfCert("ETH",U.value,q.value,B.value,F.value,O.value)},Fe=ot(),Oe=n=>{let c=document.getElementById(n).getAttribute("copyValue"),v=document.getElementById(n).getAttribute("copySubject");vt(c),Fe.add({severity:"info",summary:v+" copied",detail:c,group:"br-custom",life:3e3})},K=a(1),W=a(!0),q=a(""),Q=a(""),_=a(""),We=g(()=>!(!Q.value&&!(P.value&&l.value.length>0)&&l.value.length>0)),qe=()=>{K.value=2,setTimeout(()=>ce.value=!0,1e3),setTimeout(()=>{(async()=>(await Qe()?setTimeout(()=>{me.value=!0,setTimeout(async()=>{await Ge(),setTimeout(()=>fe.value=!0,1e3)},3e3)},1e3):re.value=!0,ue.value=!0))()},2e3)},X=g(()=>Ve+l.value),xe=a(!1),Y=a(0),Qe=async()=>{try{let n=await p.getTransactionReceipt(l.value),c=await p.getTransaction(l.value);return n&&n.status===1&&c.to.toLowerCase()==E.value.toLowerCase()?c.confirmations<12?new Promise(function(v){y=setInterval(async()=>{let h=await p.getTransaction(l.value);h.confirmations<12?(I.value=!0,Y.value=h.confirmations):(I.value=!1,clearInterval(y),v(!0))},3e3)}):!0:n&&n.status===0?(oe.value=!0,xe.value=!0,!1):!n&&!c?(D.value=!0,!1):c&&c.to.toLowerCase()==E.value.toLowerCase()?new Promise(function(v){y=setInterval(async()=>{let h=await p.getTransaction(l.value);h.confirmations<12?(I.value=!0,Y.value=h.confirmations):(I.value=!1,clearInterval(y),v(!0))},3e3)}):(oe.value=!0,!1)}catch{return D.value=!0,!1}},$=g(()=>te.nativeToken.label),ze=g(()=>xe.value?"Fees might be too low. Please do not change recommended fee in MetaMask.":D.value?"ETH transaction hash is not found. Please initiate new swap from ETH to "+$.value:"ETH transaction hash is invalid. Please initiate new swap from ETH to "+$.value),z=a("");let Je=ee.currentNetworkProfile.chainExplorer.url+"/"+ee.currentNetworkProfile.chainExplorer.hashRoute+"/";const Ze=g(()=>Je+z.value),Ge=async()=>{const n={network:"eth",txnHash:l.value};try{let c=JSON.stringify(n);const v=await fetch(je,{method:"POST",headers:{"Content-Type":"application/json"},body:c});if(v.status==200){const h=await v.json();z.value=h.siriusSwapInfo.status.hash,q.value=h.siriusSwapInfo.recipient,F.value=h.remoteTxnHash,U.value=h.timestamp,B.value=h.ctxId,O.value=T.generateQRCode(X.value),M.value=!1,setTimeout(()=>W.value=!1,1e3)}else v.status==404?(M.value=!0,de.value=!0):M.value=!0}catch{M.value=!0}},ye=a(!1),be=a(!1),he=a(!1),we=a(!1),pe=a(!1),ge=a(!1),ke=a(!0),H=a(S.currentLoggedInWallet.selectDefaultAccount().address),Se=a(S.currentLoggedInWallet.selectDefaultAccount().name);it(H,n=>{let c=S.currentLoggedInWallet.accounts.find(v=>v.address==n);c||(c=S.currentLoggedInWallet.others.find(v=>v.address==n)),Se.value=c.name});const Ke=()=>{pe.value=!0},Xe=g(()=>{let n=[];return S.currentLoggedInWallet&&S.currentLoggedInWallet.accounts.forEach(c=>{n.push({label:c.name+" - "+c.address,value:c.address})}),n}),Ye=()=>{H.value=""},$e=g(()=>R.value?"Approval on MetaMask is rejected":"Please sign transaction confirmation in MetaMask"),et=()=>{ke.value=!0,ge.value=!0,setTimeout(()=>ye.value=!0,1e3),setTimeout(()=>{be.value=!0,(async()=>await Ie())()},2e3)},_e=a(0),Te=a(0),Ce=a(""),Ie=async()=>{try{R.value=!1,p=new Ae(window.ethereum,"any"),G=p.getSigner();const n=await G.signMessage(H.value);ve.value=n;const c={recipient:H.value,signature:n,txnInfo:{network:"ETH",txnHash:l.value}};Ce.value=c,await He()}catch{R.value=!0}},J=a(0),Me=a(!1),He=async()=>{he.value=!0,we.value=!0,L.value="Initiating swap...",j.value=!0;let n=JSON.stringify(Ce.value);try{const c=await fetch(Le,{method:"POST",headers:{"Content-Type":"application/json"},body:n});if(c.status==200||c.status==201){const v=await c.json();V.value=!1,z.value=v.siriusSwapInfo.status.hash,_e.value=se.convertToCurrency(v.siriusSwapInfo.amount,te.nativeToken.divisibility),Te.value=se.amountFormatterSimple(v.siriusSwapInfo.amount,te.nativeToken.divisibility)-50,q.value=v.siriusSwapInfo.recipient,F.value=v.remoteTxnHash,U.value=v.timestamp,B.value=v.ctxId,O.value=T.generateQRCode(X.value),setTimeout(()=>W.value=!1,1e3),J.value=0}else c.status==208?(Me.value=!0,setTimeout(()=>W.value=!1,1e3)):(V.value=!0,++J.value,L.value="Retry",j.value=!1)}catch{V.value=!0,++J.value,L.value="Retry",j.value=!1}},tt=()=>{K.value=3},st=a(!1);return{err:Q,isInstallMetamask:N,connectMetamask:Ue,isMetamaskConnected:d,currentAccount:k,copy:Oe,currentPage:K,isDisabledValidate:W,siriusAddress:q,checkStatus:qe,validated:tt,isDisabledCheck:We,step1:ce,step2:ue,step3:me,step4:fe,remoteTxnLink:X,messageHash:ve,transactionHash:F,swapTimestamp:U,swapId:B,swapQr:O,saveCertificate:Be,isInvalidRemoteTxnHash:re,isPendingRemoteTxnHash:Ne,serviceErr:_,verifyMetaMaskPlugin:s,showTxnHashError:P,remoteTxnHash:l,isInvalidSwapCheck:M,siriusTxnHash:z,siriusTxnLink:Ze,displayInitiateSwapPanel:Ke,isInitiateSwap:pe,siriusAddressOption:Xe,disableSiriusAddress:ge,disableConfirmAddressSelection:ke,siriusAddressSelected:H,siriusAddressSelectedName:Se,clearSiriusAddress:Ye,step5:ye,step6:be,step7:he,step8:we,isInvalidSignedMeta:R,isInvalidSwapService:V,disableRetrySwap:j,retrySwapButtonText:L,getSigned:Ie,signatureMessage:$e,afterSigned:He,swapServerErrIndex:J,confirmAddress:et,swapStatus208:Me,savedCheck:st,numConfirmation:Y,transactionPending:I,transactionNotFound:D,txtRemoteTransactionErrorMsg:ze,isCheckSwapStatusNotFound:de,walletState:S,currentNativeTokenName:$,Helper:se,amount:_e,amountReceived:Te}}},wt={class:"lg:w-9/12 ml-2 mr-2 lg:ml-auto lg:mr-auto mt-5"},pt={class:"mt-6 p-6 border filter shadow-lg text-center"},gt={class:"flex my-10"},kt={class:"flex-none"},St={class:"flex border border-gray-300 rounded-md filter shadow-md"},_t={class:"flex-none"},Tt={class:"flex border border-gray-300 rounded-md filter shadow-md"},Ct={class:"px-4 sm:px-10 self-center text-xxs sm:text-xs hidden md:inline-block lg:hidden xl:inline-block"},It={key:0},Mt={key:0,class:"error error_box mb-5"},Ht={key:1,class:"bg-yellow-200 text-yellow-900 text-tsm p-3 mb-5 rounded-2xl"},At={class:"my-2"},Et={href:"https://bit.ly/3mVayCu",target:"_new",class:"text-blue-primary"},Pt={key:2,class:"error error_box mb-5"},Nt={key:3,class:"error error_box mb-5"},Rt={class:"mb-5 mt-3 text-left"},Vt={class:"mb-5 md:flex md:justify-between border border-gray-200 rounded"},jt={class:"flex justify-left"},Lt={class:"text-left flex items-center"},Dt={class:"font-bold text-black text-tsm break-all mr-2"},Ut={key:0,class:"border-l border-gray-200 text-green-500 font-semibold text-xxs w-16 lg:w-20 flex items-center justify-center uppercase"},Bt={class:"border-l border-gray-200 text-blue-primary text-tsm font-bold w-16 lg:w-20 flex justify-center items-center"},Ft={key:0},Ot={key:1},Wt={class:"md:hidden"},qt={key:0,class:"border-t border-gray-200 text-green-500 font-semibold text-xxs uppercase p-2"},Qt={class:"border-t border-gray-200 text-blue-primary text-tsm font-bold p-3"},zt={key:0},Jt={key:1},Zt={class:"mt-10 text-center"},Gt=["disabled"],Kt={key:1},Xt={class:"text-lg my-7"},Yt={key:0,class:"error error_box mb-5"},$t={class:"flex border-b border-gray-300 p-3"},es={class:"flex-none"},ts={class:"flex h-full justify-center"},ss={key:0,class:"text-tsm text-gray-500 my-3"},as={class:"flex border-b border-gray-300 p-3"},ns={class:"flex-none"},rs={class:"flex h-full justify-center"},os={key:0,class:"mt-2"},is={key:0,class:"bg-yellow-100 py-2 px-5 mt-1 rounded-xl flex"},ls=["href","copyValue"],ds={class:"flex-none"},cs={key:1,class:"mt-2 text-sm text-gray-700"},us={class:"flex border-b border-gray-300 p-3"},ms={class:"flex-none"},fs={class:"flex h-full justify-center"},vs={class:"flex border-b border-gray-300 p-3"},xs={class:"flex-none"},ys={class:"flex h-full justify-center"},bs={key:0,class:"mt-2"},hs={key:0,class:"bg-yellow-100 py-2 px-5 mt-1 rounded-xl flex"},ws=["href","copyValue"],ps={class:"flex-none"},gs={key:1},ks={class:"sm:flex my-4"},Ss=["disabled"],_s={key:2},Ts={class:"sm:flex justify-between"},Cs={class:"w-full"},Is=["disabled"],Ms={key:1},Hs={class:"flex border-b border-gray-300 p-3"},As={class:"flex-none"},Es={class:"flex h-full justify-center"},Ps={class:"flex border-b border-gray-300 p-3"},Ns={class:"flex-none"},Rs={class:"flex h-full justify-center"},Vs={key:0,class:"mt-5"},js={class:"flex border-b border-gray-300 p-3"},Ls={class:"flex-none"},Ds={class:"flex h-full justify-center"},Us={key:0,class:"bg-yellow-100 py-2 px-5 mt-1 rounded-xl flex"},Bs=["copyValue"],Fs={class:"flex-none"},Os={class:"flex border-b border-gray-300 p-3"},Ws={class:"flex-none"},qs={class:"flex h-full justify-center"},Qs={key:0,class:"mt-5"},zs=["disabled"],Js={key:1,class:"mt-5 text-tsm sm:text-sm"},Zs={class:"mt-10 text-center"},Gs=["disabled"],Ks={key:2},Xs={class:"mt-3"},Ys=["href"],$s={class:"md:mx-20 lg:mx-10 xl:mx-40 border-2 border-gray-200 mt-4 p-5 text-xs font-bold filter shadow-lg"},ea={class:"break-all"},ta={class:"mt-1"},sa={class:"text-blue-primary mb-1"},aa={class:"mt-1"},na={class:"inline-flex items-center mb-5"},ra={class:"sm:mt-5 text-center"};function oa(y,s,w,e,E,ne){const l=A("font-awesome-icon"),P=A("TextInputClean"),C=A("router-link"),Z=A("SelectInputAccount"),N=A("swap-certificate-component");return r(),i("div",null,[t("div",wt,[t("div",pt,[s[56]||(s[56]=t("div",{class:"text-md"},"Main Network Swap",-1)),s[57]||(s[57]=t("div",{class:"text-xs my-3 mb-5 sm:mb-10"},[t("img",{src:xt,class:"mr-2 h-5 inline-block"}),u("Check swap from ETH to Proximax Sirius Chain")],-1)),t("div",gt,[t("div",kt,[t("div",St,[t("div",{class:o(["flex w-6 h-6 sm:w-10 sm:h-10",`${e.currentPage>=1?"bg-yellow-500":"bg-gray-300"}`])},[t("div",{class:o(["self-center inline-block text-center w-full text-txs sm:text-sm font-bold",`${e.currentPage>=1?"text-white":"text-gray-400"}`])},"1",2)],2),s[19]||(s[19]=t("div",{class:"px-4 sm:px-10 self-center text-xxs sm:text-xs hidden md:inline-block lg:hidden xl:inline-block"},"Input Information",-1))])]),s[20]||(s[20]=t("div",{class:"flex-grow self-center md:mx-4 h-0.5 bg-gray-100"},null,-1)),t("div",_t,[t("div",Tt,[t("div",{class:o(["flex w-6 h-6 sm:w-10 sm:h-10",`${e.currentPage>=2?"bg-yellow-500":"bg-gray-300"}`])},[t("div",{class:o(["self-center inline-block text-center w-full text-txs sm:text-sm font-bold",`${e.currentPage>=2?"text-white":"text-gray-400"}`])},"2",2)],2),t("div",Ct,f(y.$t("swap.validation")),1)])])]),e.currentPage==1?(r(),i("div",It,[s[37]||(s[37]=t("div",{class:"text-lg my-7 font-bold"},"Check Swap Status",-1)),e.isInstallMetamask?m("",!0):(r(),i("div",Mt,f(y.$t("swap.noMetamask")),1)),e.verifyMetaMaskPlugin?m("",!0):(r(),i("div",Ht,[s[24]||(s[24]=u("Please make sure there is no other crypto wallet extension currently being enabled except ")),s[25]||(s[25]=t("b",null,"MetaMask",-1)),s[26]||(s[26]=u(".")),t("div",At,[s[22]||(s[22]=u("Refer to the ")),t("a",Et,[s[21]||(s[21]=u("walkthrough")),x(l,{icon:"external-link-alt",class:"text-blue-primary w-3 h-3 self-center inline-block ml-1"})]),s[23]||(s[23]=u(" for more details."))]),s[27]||(s[27]=u("Please refresh this page after disabling other wallet extensions."))])),e.serviceErr!=""?(r(),i("div",Pt,f(e.serviceErr),1)):m("",!0),e.err!=""?(r(),i("div",Nt,f(e.err),1)):m("",!0),s[38]||(s[38]=t("p",{class:"font-bold text-xs text-left mb-1"},"Type",-1)),t("div",Rt,[s[28]||(s[28]=t("button",{class:"bg-blue-primary px-3 py-2 w-20 text-white font-bold rounded-l border border-blue-primary cursor-auto"},"In",-1)),t("button",{class:"border px-3 py-2 w-20 text-blue-primary font-bold rounded-r cursor-pointer hover:border-blue-primary hover:bg-blue-50 transition-all duration-200",onClick:s[0]||(s[0]=d=>y.$router.push({name:"ViewServicesMainnetSwapCheckSiriusToETH"}))},"Out"),s[29]||(s[29]=u()),s[30]||(s[30]=t("span",{class:"text-gray-500 ml-3 text-tsm"},"From ETH to Sirius",-1))]),t("div",Vt,[t("div",jt,[s[32]||(s[32]=t("div",{class:"w-18 flex items-center justify-center py-5 sm:h-20"},[t("img",{src:yt,class:"w-8 h-8 inline-block"})],-1)),t("div",Lt,[t("div",null,[s[31]||(s[31]=t("div",{class:"text-xxs uppercase text-blue-primary font-bold mb-1"},"From MetaMask Address",-1)),t("div",Dt,f(e.isMetamaskConnected&&e.currentAccount?e.currentAccount:"Not connected"),1)])])]),t("div",{class:o(["md:grid hidden",e.currentAccount?"grid-cols-2":"grid-cols-1"])},[e.currentAccount?(r(),i("div",Ut,s[33]||(s[33]=[t("div",null,[t("img",{src:Ee,class:"inline-block"}),t("div",null,"Connected")],-1)]))):m("",!0),t("div",Bt,[e.isInstallMetamask?(r(),i("div",Ft,[e.currentAccount?(r(),i("div",{key:1,class:"cursor-pointer",onClick:s[2]||(s[2]=d=>e.connectMetamask())},"Change")):(r(),i("div",{key:0,class:"cursor-pointer",onClick:s[1]||(s[1]=d=>e.connectMetamask())},"Connect"))])):(r(),i("div",Ot,s[34]||(s[34]=[t("a",{href:"https://metamask.io/",target:"_new"},"Download",-1)])))])],2),t("div",Wt,[e.currentAccount?(r(),i("div",qt,s[35]||(s[35]=[t("div",{class:"flex items-center justify-center"},[t("img",{src:Ee,class:"inline-block mr-2 w-4 h-4"}),u(" Connected ")],-1)]))):m("",!0),t("div",Qt,[e.isInstallMetamask?(r(),i("div",zt,[e.currentAccount?(r(),i("div",{key:1,class:"cursor-pointer",onClick:s[4]||(s[4]=d=>e.connectMetamask())},"Change")):(r(),i("div",{key:0,class:"cursor-pointer",onClick:s[3]||(s[3]=d=>e.connectMetamask())},"Connect"))])):(r(),i("div",Jt,s[36]||(s[36]=[t("a",{href:"https://metamask.io/",target:"_new"},"Download",-1)])))])])]),x(P,{placeholder:"ETH Transaction Hash",errorMessage:"Please key in valid transaction hash",modelValue:e.remoteTxnHash,"onUpdate:modelValue":s[5]||(s[5]=d=>e.remoteTxnHash=d),showError:e.showTxnHashError,class:"w-full inline-block mr-2"},null,8,["modelValue","showError"]),t("div",Zt,[t("button",{onClick:s[6]||(s[6]=d=>y.$router.push({name:"ViewServicesMainnetSwap"})),class:"text-black font-bold text-xs mr-5 focus:outline-none disabled:opacity-50"},"Cancel"),t("button",{type:"submit",class:"default-btn focus:outline-none disabled:opacity-50",disabled:e.isDisabledCheck,onClick:s[7]||(s[7]=(...d)=>e.checkStatus&&e.checkStatus(...d))},"Check Status",8,Gt)])])):m("",!0),e.currentPage==2?(r(),i("div",Kt,[t("div",Xt,[e.err!=""?(r(),i("div",Yt,f(e.err),1)):m("",!0),t("div",{class:o(["font-bold text-left text-xs md:text-sm",e.step1?"text-gray-700":"text-gray-300"])},"Step 1: Check transaction status",2),t("div",$t,[t("div",es,[t("div",{class:o(["rounded-full border w-6 h-6 transition-all duration-500",e.step1?"border-blue-primary":"border-gray-300"])},[t("div",ts,[x(l,{icon:"check",class:o([e.step1?"text-blue-primary":"text-gray-300","w-3 h-3 self-center inline-block transition-all duration-500"])},null,8,["class"])])],2)]),t("div",{class:o(["flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500",e.step1?"text-gray-700":"text-gray-300"])},[s[39]||(s[39]=u("Checking ETH transaction status")),e.transactionPending?(r(),i("div",ss,"Pending confirmation: "+f(e.numConfirmation)+" of 12 confirmations",1)):m("",!0)],2)]),t("div",as,[t("div",ns,[t("div",{class:o(["rounded-full border w-6 h-6 transition-all duration-500",e.isInvalidRemoteTxnHash?"border-red-primary":e.step2?"border-blue-primary":"border-gray-300"])},[t("div",rs,[e.isInvalidRemoteTxnHash?(r(),b(l,{key:0,icon:"times",class:"text-red-primary w-3 h-3 self-center inline-block transition-all duration-500"})):(r(),b(l,{key:1,icon:"check",class:o([e.step2?"text-blue-primary":"text-gray-300","w-3 h-3 self-center inline-block transition-all duration-500"])},null,8,["class"]))])],2)]),t("div",{class:o(["flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500",e.step2?"text-gray-700":"text-gray-300"])},[u(f(e.isInvalidRemoteTxnHash?e.transactionNotFound?"Transaction is not found":"Transaction has failed.":"ETH Transaction is successful:")+" ",1),!e.isInvalidRemoteTxnHash&&e.step2?(r(),i("div",os,[e.remoteTxnHash?(r(),i("div",is,[t("a",{href:e.remoteTxnLink,target:"_new",class:o([e.isInvalidRemoteTxnHash?"text-gray-300":"text-blue-primary","flex-grow break-all text-tsm self-center hover:underline"]),id:"validateTransfer",copyValue:e.remoteTxnHash,copySubject:"Transfer hash"},[x(l,{icon:"external-link-alt",class:"text-blue-primary w-3 h-3 self-center inline-block mr-2"}),u(f(e.remoteTxnHash),1)],10,ls),t("div",ds,[e.step2?(r(),b(l,{key:0,icon:"copy",onClick:s[8]||(s[8]=d=>e.copy("validateTransfer")),class:"w-5 h-5 text-blue-primary cursor-pointer self-center ml-3 absoltue top-2 hover:opacity-90 duration-800 transition-all"})):m("",!0)])])):m("",!0)])):m("",!0),e.isInvalidRemoteTxnHash&&e.step2?(r(),i("div",cs,[u(f(e.txtRemoteTransactionErrorMsg)+" ",1),x(C,{to:{name:"ViewServicesMainnetSwapEthOptions"},class:"bg-blue-primary text-white py-2 px-5 rounded-2xl w-24 block text-center my-3 font-bold"},{default:ae(()=>s[40]||(s[40]=[u("Swap")])),_:1})])):m("",!0)],2)]),t("div",{class:o(["font-bold text-left text-xs md:text-sm mt-4",e.step3?"text-gray-700":"text-gray-300"])},"Step 2: Check swap status",2),t("div",us,[t("div",ms,[t("div",{class:o(["rounded-full border w-6 h-6",e.step3?"border-blue-primary":"border-gray-300"])},[t("div",fs,[x(l,{icon:"check",class:o([e.step3?"text-blue-primary":"text-gray-300","w-3 h-3 self-center inline-block"])},null,8,["class"])])],2)]),t("div",{class:o(["flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500",e.step3?"text-gray-700":"text-gray-300"])},"Requesting from swap service",2)]),t("div",vs,[t("div",xs,[t("div",{class:o(["rounded-full border w-6 h-6",e.isInvalidSwapCheck&&e.step4?"border-red-primary":e.step4?"border-blue-primary":"border-gray-300"])},[t("div",ys,[e.isInvalidSwapCheck&&e.step4?(r(),b(l,{key:0,icon:"times",class:"text-red-primary w-3 h-3 self-center inline-block"})):(r(),b(l,{key:1,icon:"check",class:o([e.step4?"text-blue-primary":"text-gray-300","w-3 h-3 self-center inline-block"])},null,8,["class"]))])],2)]),t("div",{class:o(["flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500",e.step4?"text-gray-700":"text-gray-300"])},[u(f(e.isInvalidSwapCheck&&e.step4?e.isCheckSwapStatusNotFound?"Transaction is not found in swap service:":"Transaction is invalid in the swap service:":"Swap is successful:")+" ",1),!e.isInvalidSwapCheck&&e.step4?(r(),i("div",bs,[e.siriusTxnHash?(r(),i("div",hs,[t("a",{href:e.siriusTxnLink,target:"_new",class:"text-blue-primary flex-grow break-all text-tsm self-center hover:underline",id:"validateTransfer",copyValue:e.remoteTxnHash,copySubject:"Transfer hash"},[x(l,{icon:"external-link-alt",class:"text-blue-primary w-3 h-3 self-center inline-block mr-2"}),u(f(e.siriusTxnHash),1)],8,ws),t("div",ps,[e.step4?(r(),b(l,{key:0,icon:"copy",onClick:s[9]||(s[9]=d=>e.copy("validateTransfer")),class:"w-5 h-5 text-blue-primary cursor-pointer self-center ml-3 absoltue top-2 hover:opacity-90 duration-800 transition-all"})):m("",!0)])])):m("",!0),s[41]||(s[41]=t("div",{class:"text-gray-600 mt-3 text-tsm ml-2"},"Swap is already in progress or has been completed successfully.",-1))])):m("",!0),e.isInvalidSwapCheck&&e.step4?(r(),i("div",gs,[t("div",ks,[t("button",{disabled:e.isInitiateSwap,onClick:s[10]||(s[10]=(...d)=>e.displayInitiateSwapPanel&&e.displayInitiateSwapPanel(...d)),class:"sm:flex-none justify-start sm:justify-end bg-blue-primary h-15 w-40 rounded mr-5 focus:outline-none text-tsm font-bold py-2 border border-blue-primary px-8 text-white hover:shadow-lg mt-3 sm:mt-0 disabled:opacity-50 self-center",type:"button"},"Initiate swap",8,Ss),s[42]||(s[42]=t("div",{class:"py-2 sm:flex-grow text-tsm"},[t("div",{class:"mb-1"},"Initiative swap with this ETH Transaction Hash")],-1))])])):m("",!0),e.isInitiateSwap?(r(),i("div",_s,[t("div",Ts,[t("div",Cs,[x(Z,{modelValue:e.siriusAddressSelected,"onUpdate:modelValue":s[11]||(s[11]=d=>e.siriusAddressSelected=d),placeholder:"To Sirius Chain Account",selectDefault:e.walletState.currentLoggedInWallet.selectDefaultAccount().address},null,8,["modelValue","selectDefault"])]),t("button",{disabled:!e.siriusAddressSelected||!e.disableConfirmAddressSelection,onClick:s[12]||(s[12]=(...d)=>e.confirmAddress&&e.confirmAddress(...d)),class:"sm:flex-none justify-start sm:justify-end bg-blue-primary h-15 w-40 rounded-3xl sm:ml-5 focus:outline-none text-tsm font-bold py-2 border border-blue-primary px-8 text-white hover:shadow-lg mt-3 sm:mt-2 disabled:opacity-50 self-center",type:"button"},"Confirm",8,Is)])])):m("",!0)],2)]),e.isInitiateSwap?(r(),i("div",Ms,[t("div",{class:o(["font-bold text-left text-xs md:text-sm mt-4",e.step5?"text-gray-700":"text-gray-300"])},"Step 3: Validate your Sirius address",2),t("div",Hs,[t("div",As,[t("div",{class:o(["rounded-full border w-6 h-6",e.step5?"border-blue-primary":"border-gray-300"])},[t("div",Es,[x(l,{icon:"check",class:o([e.step5?"text-blue-primary":"text-gray-300","w-3 h-3 self-center inline-block"])},null,8,["class"])])],2)]),t("div",{class:o(["flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500",e.step5?"text-gray-700":"text-gray-300"])},"Sending message to MetaMask",2)]),t("div",Ps,[t("div",Ns,[t("div",{class:o(["rounded-full border w-6 h-6",e.isInvalidSignedMeta?"border-red-primary":e.step6?"border-blue-primary":"border-gray-300"])},[t("div",Rs,[e.isInvalidSignedMeta?(r(),b(l,{key:0,icon:"times",class:"text-red-primary w-3 h-3 self-center inline-block"})):(r(),b(l,{key:1,icon:"check",class:o([e.step5?"text-blue-primary":"text-gray-300","w-3 h-3 self-center inline-block"])},null,8,["class"]))])],2)]),t("div",{class:o(["flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500",e.step6?"text-gray-700":"text-gray-300"])},[u(f(e.signatureMessage)+" ",1),e.isInvalidSignedMeta?(r(),i("div",Vs,[t("button",{type:"button",class:"bg-blue-primary rounded-3xl mr-5 focus:outline-none text-tmd py-2 px-4 text-white hover:shadow-lg w-24",onClick:s[13]||(s[13]=(...d)=>e.getSigned&&e.getSigned(...d))},"Retry")])):m("",!0)],2)]),t("div",js,[t("div",Ls,[t("div",{class:o(["rounded-full border w-6 h-6",e.step7?"border-blue-primary":"border-gray-300"])},[t("div",Ds,[x(l,{icon:"check",class:o([e.step7?"text-blue-primary":"text-gray-300","w-3 h-3 self-center inline-block"])},null,8,["class"])])],2)]),t("div",{class:o(["flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500",e.step7?"text-gray-700":"text-gray-300"])},[s[43]||(s[43]=u("Message signed with signature: ")),e.messageHash&&e.step7?(r(),i("div",Us,[t("div",{class:o([e.step7?"text-gray-500":"text-gray-300","text-tsm break-all flex-grow"]),id:"validateMessage",copyValue:e.messageHash,copySubject:"Signature hash"},f(e.messageHash),11,Bs),t("div",Fs,[e.step7?(r(),b(l,{key:0,icon:"copy",onClick:s[14]||(s[14]=d=>e.copy("validateMessage")),class:"w-5 h-5 text-blue-primary cursor-pointer self-center ml-3 absoltue top-2 hover:opacity-90 duration-800 transition-all"})):m("",!0)])])):m("",!0)],2)]),t("div",{class:o(["font-bold text-left text-xs md:text-sm mt-4",e.step8?"text-gray-700":"text-gray-300"])},"Step 4: Initiate swap",2),t("div",Os,[t("div",Ws,[t("div",{class:o(["rounded-full border w-6 h-6",e.isInvalidSwapService?"border-red-primary":e.step8?"border-blue-primary":"border-gray-300"])},[t("div",qs,[e.isInvalidSwapService?(r(),b(l,{key:0,icon:"times",class:"text-red-primary w-3 h-3 self-center inline-block"})):(r(),b(l,{key:1,icon:"check",class:o([e.step8?"text-blue-primary":"text-gray-300","w-3 h-3 self-center inline-block"])},null,8,["class"]))])],2)]),t("div",{class:o(["flex-grow text-left text-xs md:text-sm ml-3 self-center transition-all duration-500",e.step8?"text-gray-700":"text-gray-300"])},[u(f(e.isInvalidSwapService?"Unable to send message to swap service":e.swapStatus208?"Swap has already been initiated earlier.":"Message sent to the swap service, swap initiated...")+" ",1),e.isInvalidSwapService&&e.swapServerErrIndex<=3?(r(),i("div",Qs,[t("button",{type:"button",class:"bg-blue-primary rounded-3xl mr-5 focus:outline-none text-tmd py-2 px-4 text-white hover:shadow-lg disabled:opacity-50",onClick:s[15]||(s[15]=(...d)=>e.afterSigned&&e.afterSigned(...d)),disabled:e.disableRetrySwap},f(e.retrySwapButtonText),9,zs)])):m("",!0),e.swapServerErrIndex>3?(r(),i("div",Js,s[44]||(s[44]=[u(" Sorry. Please save the "),t("b",null,"transaction hash",-1),u(", the "),t("b",null,"signature",-1),u(" and contact our "),t("a",{href:"https://t.me/proximaxhelpdesk",target:"_new",class:"text-blue-primary font-bold underline"},"helpdesk",-1),u(". ")]))):m("",!0)],2)])])):m("",!0)]),t("div",Zs,[e.isInitiateSwap&&!e.swapStatus208?(r(),i("button",{key:0,type:"submit",class:"default-btn focus:outline-none disabled:opacity-50",disabled:e.isDisabledValidate,onClick:s[16]||(s[16]=d=>e.validated())},f(y.$t("general.continue")),9,Gs)):(r(),b(C,{key:1,to:{name:"ViewServicesMainnetSwap"},class:o(["default-btn focus:outline-none w-40 inline-block",e.isDisabledValidate?"opacity-50":""]),is:e.isDisabledValidate?"span":"router-link",tag:"button"},{default:ae(()=>s[45]||(s[45]=[u("Done")])),_:1},8,["class","is"]))])])):m("",!0),e.currentPage==3?(r(),i("div",Ks,[t("div",null,[s[52]||(s[52]=t("h1",{class:"default-title font-bold mt-5 mb-2"},"Congratulations!",-1)),s[53]||(s[53]=t("div",{class:"text-tsm mb-7"},"The swap process has already started!",-1)),x(N,{networkTerm:"ETH",swapType:"In",swapId:e.swapId,swapTimestamp:e.swapTimestamp,transactionHash:e.transactionHash,siriusName:e.siriusAddressSelectedName,swappedAmount:e.amount,siriusAddress:e.Helper.createAddress(e.siriusAddressSelected).pretty(),swapQr:e.swapQr,swapLink:e.remoteTxnLink},null,8,["swapId","swapTimestamp","transactionHash","siriusName","swappedAmount","siriusAddress","swapQr","swapLink"]),t("button",{type:"button",class:"w-40 hover:shadow-lg bg-blue-primary text-white text-xs hover:opacity-50 rounded font-bold px-4 py-3 border border-blue-primary outline-none mr-4 mt-6",onClick:s[17]||(s[17]=(...d)=>e.saveCertificate&&e.saveCertificate(...d))},"Download Certificate"),t("div",Xs,[t("a",{href:e.remoteTxnLink,target:"_new",class:"underline self-center text-xs font-bold text-blue-primary"},[s[46]||(s[46]=u("View Transaction")),x(l,{icon:"external-link-alt",class:"ml-2 text-blue-500 w-3 h-3 self-center inline-block"})],8,Ys)]),s[54]||(s[54]=t("div",{class:"md:mx-20 lg:mx-40 font-bold text-center text-tsm py-5 sm:py-10 mt-5 sm:mt-10 border-t border-gray-200"},"Swap Details",-1)),t("div",$s,[s[48]||(s[48]=t("div",{class:"text-blue-primary mb-1"},"From: MetaMask Account",-1)),t("div",ea,f(e.currentAccount),1),t("div",ta,"Swap Amount "+f(e.amount),1),s[49]||(s[49]=t("div",null,[t("img",{src:mt,class:"inline-block h-8 my-2"})],-1)),t("div",sa,"To: "+f(e.siriusAddressSelectedName),1),t("div",null,f(e.Helper.createAddress(e.siriusAddress).pretty()),1),t("div",aa,[u("Equivalent to "+f(e.amountReceived)+" of "+f(e.currentNativeTokenName)+" ",1),s[47]||(s[47]=t("img",{src:bt,class:"w-3 h-3 ml-2 inline relative",style:{top:"-2px"}},null,-1))])]),s[55]||(s[55]=t("div",{class:"my-5 sm:my-7 text-gray-500 text-xs md:mx-20 lg:mx-10 xl:mx-40"},"Swap process may take a few hours to complete. Please save a copy of your certificate. It is needed in the event of an error.",-1)),t("label",na,[lt(t("input",{type:"checkbox",class:"h-5 w-5 bg-blue-primary",value:"true","onUpdate:modelValue":s[18]||(s[18]=d=>e.savedCheck=d)},null,512),[[dt,e.savedCheck]]),s[50]||(s[50]=t("span",{class:"ml-2 cursor-pointer text-xs font-bold"},"I confirm that I have downloaded a copy of my certificate.",-1))]),t("div",ra,[x(C,{to:{name:"ViewServicesMainnetSwap"},class:o(["default-btn mr-5 focus:outline-none w-40 inline-block mt-1",e.savedCheck?"":"opacity-50"]),is:e.savedCheck?"router-link":"span",tag:"button"},{default:ae(()=>s[51]||(s[51]=[u("Done")])),_:1},8,["class","is"])])])])):m("",!0)])])])}const pa=at(ht,[["render",oa]]);export{pa as default};
