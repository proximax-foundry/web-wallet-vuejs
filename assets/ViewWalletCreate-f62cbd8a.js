import{d as Y,j as Z,y as ee,c as B,A as te,n as se,g as d,K as le,w as I,W as M,x as oe,D as ae,r as A,o as m,f as b,e as t,l as r,b as _,s as F,m as re,v as c,t as o,i as p,V,a as S,X as ne,F as ie}from"./index-f4fa05bb.js";import{_ as de}from"./chevron_left-0423cb29.js";import{_ as ce}from"./icon-green-tick-1b766454.js";import{t as me,o as ue,s as P,u as pe,a as C,_ as ve,b as H}from"./vee-validate-zod.esm-fead55b2.js";import{c as we}from"./functions-19d5b840.js";import{_ as fe}from"./SelectNetwork.vue_vue_type_script_setup_true_lang-0dd2ceda.js";import{t as be}from"./jdenticon-module-14cc3de9.js";import{E as _e}from"./jspdf.es.min-452dff5d.js";import{q as ge}from"./qrcode-f7caa088.js";import{p as ye}from"./pdfPaperWalletBackground-9b716104.js";const xe={class:"md:col-span-1 bg-white mx-5 md:mx-0 px-30 pt-1 md:pt-0 rounded-md"},he=t("img",{src:de,class:"w-5 inline-block"},null,-1),ke={class:"text-sm text-center mt-20 mb-6 font-semibold"},$e={class:"w-8/12 ml-auto mr-auto"},Ve={key:0,class:"error error_box"},Se={class:"w-8/12 mx-auto"},Pe={class:"w-8/12 ml-auto mr-auto mt-3"},Ce={type:"submit",class:"text-center mt-3 font-bold blue-btn py-3 block ml-auto mr-auto w-8/12 disabled:opacity-50"},Ee={class:"mt-12 text-center text-xs mb-1"},We={class:"text-center text-xs text-blue-link font-semibold"},Ne=t("div",{class:"h-20"},null,-1),Te={class:"mr-auto ml-auto w-10/12 mt-3"},Ke={class:"mb-8"},je={class:"border border-green-300 px-6 pb-3 bg-green-50"},Be={class:"flex items-center gap-3"},Ie=t("img",{src:ce,class:"h-10 w-10 pt-3 mr-2"},null,-1),Me={class:"flex flex-col w-full"},Ae={class:"flex"},Fe={class:"text-xs text-green-500 font-semibold pt-3"},He={class:"text-xxs mt-1"},Ue={class:"border-2 shadow-lg filter mb-10 bg-white"},De={class:"flex items-center"},Re=["innerHTML"],Le={class:"flex flex-col justify-center ml-4"},qe={class:"flex"},ze={class:"font-semibold text-md"},Ge={class:"flex"},Je=["copyValue"],Oe={class:"border p-6 bg-white"},Qe={class:"text-xxs text-blue-primary mt-2 font-semibold uppercase"},Xe={class:"flex"},Ye=["copyValue","copySubject"],Ze=t("div",{class:"my-6 gray-line"},null,-1),et={class:"text-xxs text-blue-primary mt-0.5 font-semibold uppercase"},tt={class:"flex"},st={key:0,class:"break-all font-semibold w-44 truncate md:w-auto"},lt={class:"flex"},ot=["copyValue","copySubject"],at={class:"text-txs mt-2 text-red-400 border px-1.5 py-2 border-red-400 rounded-md"},rt=t("div",{class:"my-6 gray-line"},null,-1),nt={class:"flex flex-col md:flex-row gap-3 text-center"},it={class:"blue-btn cursor-pointer py-3 px-3"},U="^[^ ]{8,}$",yt=Y({__name:"ViewWalletCreate",setup(dt){const{t:u}=Z(),D=me(ue({name:P().min(1,{message:u("wallet.nameErrMsg")}),password:P().regex(new RegExp(U),{message:u("wallet.passwordErrMsg")}),confirmPassword:P().regex(new RegExp(U),{message:u("wallet.passwordErrMsg")})}).refine(({password:e,confirmPassword:s})=>s==e,{message:u("wallet.confirmPasswordErrMsg"),path:["confirmPassword"]})),{handleSubmit:R,resetForm:L}=pe({validationSchema:D,initialValues:{name:"",password:"",confirmPassword:""}}),{value:g,errors:q}=C("name"),{value:y,errors:z}=C("password"),{value:x,errors:G}=C("confirmPassword"),J=ee(),E=B(()=>te.networkType),W=B(()=>se.chainNetworkName),f=d(""),N=d(null),v=d(""),n=d(!1),h=d(!1),w=d(""),k=d(""),T=d(""),K=new le("ThemeStyleConfig");K.init();const O=d(be(w.value,75,K.jdenticonConfig)),$=e=>{let s=document.getElementById(e).getAttribute("copyValue"),i=document.getElementById(e).getAttribute("copySubject");we(s),J.add({severity:"info",detail:i+" "+u("general.copied"),group:"br-custom",life:3e3})},j=R(({name:e,password:s})=>{if(f.value="",I.wallets.filterByNetworkNameAndName(W.value,e))f.value=u("wallet.walletNameExist");else{let i=M.createPassword(s);const a=M.addNewWallet(I.wallets,i,e,W.value,E.value);N.value=a.wallet,v.value=a.privateKey,T.value=a.wallet.name;let l=oe.Account.createFromPrivateKey(v.value,E.value,1);w.value=l.address.pretty(),k.value=l.publicKey,L()}}),Q=(e,s=2,i=0)=>{const a=ge(10,"H");return a.addData(e),a.make(),a.createDataURL(s,i)},X=()=>{const e=new _e({unit:"px"});e.addImage(ye,"JPEG",120,60,205,132),e.addImage(Q(v.value,1,0),"JPEG",151.5,105,40,40),e.setFontSize(8),e.setTextColor("#000000"),e.text(w.value,146,164,{maxWidth:132}),e.save("Your_Paper_Wallet")};return ae(N,e=>{e&&(h.value=!0)}),(e,s)=>{const i=A("router-link"),a=A("font-awesome-icon");return m(),b(ie,null,[t("div",xe,[r(i,{to:{name:"ViewWalletCreateSelection"},class:"text-xs m-2 text-blue-link items-center flex"},{default:_(()=>[he,F("Back")]),_:1}),t("form",{onSubmit:s[3]||(s[3]=re((...l)=>c(j)&&c(j)(...l),["prevent"]))},[t("div",ke,o(e.$t("wallet.createWallet")),1),t("div",$e,[f.value!=""?(m(),b("div",Ve,o(f.value),1)):p("",!0)]),t("div",Se,[r(fe)]),t("div",Pe,[r(ve,{placeholder:e.$t("wallet.namePlaceholder"),modelValue:c(g),"onUpdate:modelValue":s[0]||(s[0]=l=>V(g)?g.value=l:null),errors:c(q)},null,8,["placeholder","modelValue","errors"]),r(H,{placeholder:e.$t("wallet.enterPassword"),modelValue:c(y),"onUpdate:modelValue":s[1]||(s[1]=l=>V(y)?y.value=l:null),errors:c(z)},null,8,["placeholder","modelValue","errors"]),r(H,{placeholder:e.$t("wallet.confirmPassword"),modelValue:c(x),"onUpdate:modelValue":s[2]||(s[2]=l=>V(x)?x.value=l:null),errors:c(G)},null,8,["placeholder","modelValue","errors"])]),t("button",Ce,o(e.$t("wallet.createWallet")),1),t("div",Ee,o(e.$t("wallet.haveWallet")),1),t("div",We,[r(i,{to:{name:"Home"}},{default:_(()=>[F(o(e.$t("wallet.signInHere"))+" >",1)]),_:1})]),Ne],32)]),r(c(ne),{visible:h.value,"onUpdate:visible":s[9]||(s[9]=l=>h.value=l),closable:!1,dismissableMask:!1,closeOnEscape:!1,class:"lg:w-9/12",modal:""},{default:_(()=>[t("div",Te,[t("div",Ke,[t("div",je,[t("div",Be,[Ie,t("div",Me,[t("div",Ae,[t("div",Fe,o(e.$t("general.congratz")),1)]),t("div",He,o(e.$t("wallet.walletCreated"))+" "+o(e.$t("general.pkWarning")),1)])])])]),t("div",Ue,[t("div",De,[t("div",{innerHTML:O.value},null,8,Re),t("div",Le,[t("div",qe,[t("div",ze,o(T.value),1)]),t("div",Ge,[t("div",{id:"address",copyValue:w.value,copySubject:"Address",class:"text-xs font-semibold mt-1 w-36 truncate md:w-auto"},o(w.value),9,Je),r(a,{icon:"copy",title:e.$t("general.copy"),onClick:s[4]||(s[4]=l=>$("address")),class:"ml-2 w-5 h-5 text-blue-link cursor-pointer"},null,8,["title"])])])])]),t("div",Oe,[t("div",Qe,o(e.$t("general.publicKey")),1),t("div",Xe,[t("div",{id:"public",class:"text-xs font-semibold mt-1 break-all w-44 truncate md:w-auto",copyValue:k.value,copySubject:e.$t("general.publicKey")},o(k.value),9,Ye),r(a,{icon:"copy",onClick:s[5]||(s[5]=l=>$("public")),title:e.$t("general.copy"),class:"ml-2 mt-0.5 pb-1 w-5 h-5 text-blue-link cursor-pointer"},null,8,["title"])]),Ze,t("div",null,[t("div",et,o(e.$t("general.privateKey")),1),t("div",tt,[n.value?p("",!0):(m(),b("div",st," **************************************************************** ")),n.value?p("",!0):(m(),S(a,{key:1,icon:"eye",title:e.$t("general.view")+" "+e.$t("general.privateKey"),class:"text-blue-link relative cursor-pointer ml-1",onClick:s[6]||(s[6]=l=>n.value=!n.value)},null,8,["title"]))]),t("div",lt,[n.value?(m(),b("div",{key:0,id:"private",class:"text-xs mt-1 font-semibold break-all w-44 truncate md:w-auto",type:"text",copyValue:v.value,copySubject:e.$t("general.privateKey")},o(v.value),9,ot)):p("",!0),n.value?(m(),S(a,{key:1,title:e.$t("general.copy"),icon:"copy",onClick:s[7]||(s[7]=l=>$("private")),class:"ml-2 pb-1 w-5 h-5 text-blue-link mt-0.5 cursor-pointer"},null,8,["title"])):p("",!0),n.value?(m(),S(a,{key:2,icon:"eye-slash",title:e.$t("general.hide")+" "+e.$t("general.privateKey"),class:"text-blue-link relative cursor-pointer mt-0.5 ml-1",onClick:s[8]||(s[8]=l=>n.value=!n.value)},null,8,["title"])):p("",!0)]),t("div",at,o(e.$t("general.pkWarning")),1)]),rt,t("div",nt,[t("div",{onClick:X,class:"blue-btn cursor-pointer py-3 px-3"},o(e.$t("general.downloadPaperWallet")),1),r(i,{class:"md:ml-auto",to:{name:"Home"}},{default:_(()=>[t("div",it,o(e.$t("wallet.continueLogIn")),1)]),_:1})])])])]),_:1},8,["visible"])],64)}}});export{yt as default};
