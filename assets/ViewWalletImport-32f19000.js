import{d as W,aa as B,y as C,k as F,j as A,c as f,A as E,n as I,g as $,r as M,o as T,f as V,l as d,b as x,s as h,e as a,t as o,C as b,W as p,w as g}from"./index-f4fa05bb.js";import{_ as U}from"./chevron_left-0423cb29.js";import{_ as H}from"./SelectNetwork.vue_vue_type_script_setup_true_lang-0dd2ceda.js";const j={class:"md:col-span-1 bg-white mx-5 md:mx-0 px-30 pt-1 md:pt-0 rounded-md"},J=a("img",{src:U,class:"w-5 inline-block"},null,-1),L={class:"text-lg text-center mt-10 font-semibold"},O={class:"text-xxs text-center text-blue-primary font-bold uppercase"},R={class:"text-xs mt-8 ml-auto mr-auto w-8/12 text-center mb-5"},q={class:"mx-auto w-8/12"},D={class:"cursor-pointer"},z={class:"mt-3 font-bold text-xs text-center blue-btn py-2 px-10 block ml-auto mr-auto w-8/12"},G={class:"text-center text-xs mt-6 mb-1"},K={class:"text-center text-xs text-blue-primary font-semibold"},P=a("div",{class:"h-10"},null,-1),ee=W({__name:"ViewWalletImport",setup(Q){const k=B(),m=C(),v=F(),{t:s}=A(),u=f(()=>E.networkType),c=f(()=>I.chainNetworkName),N=$(""),y=e=>{const l=e.target.files[0],t=new FileReader;t.onload=r=>{const S=b.enc.Base64.parse(r.target.result);try{const n=JSON.parse(S.toString(b.enc.Utf8));if(n.networkName===void 0||n.networkName!==c.value)k.require({message:s("wallet.importMsg",{network:c.value}),header:s("wallet.confirmImport"),acceptLabel:s("general.yes"),rejectLabel:s("general.no"),icon:"pi pi-exclamation-triangle",accept:()=>{var i=w(n);m.add({severity:i.status,detail:i.msg,group:"br-custom",life:3e3}),v.push({name:"Home"})}});else{var _=w(n);m.add({severity:_.status,detail:_.msg,group:"br-custom",life:3e3})}}catch{let i=s("wallet.importFail");m.add({severity:"error",detail:i,group:"br-custom",life:5e3})}},t.readAsText(l)},w=e=>{let l="success",t=s("wallet.importSuccess");if(p.checkIsNewFormat(e))try{p.importWalletNewFormat(g.wallets,e,c.value,u.value)}catch(r){l="error",r.name==="SAME_NAME"?t=s("wallet.walletNameExist"):t=s("wallet.unableImport")}else try{p.importWltOldFormat(g.wallets,e,c.value,u.value)}catch(r){l="error",r.name==="SAME_NAME"?t=s("wallet.walletNameExist"):t=s("wallet.unableImport")}return{msg:t,status:l}};return(e,l)=>{const t=M("router-link");return T(),V("div",j,[d(t,{to:{name:"ViewWalletCreateSelection"},class:"text-xs m-2 text-blue-link items-center flex"},{default:x(()=>[J,h("Back")]),_:1}),a("div",L,o(e.$t("wallet.createWallet")),1),a("div",O,o(e.$t("wallet.fromBackUp")),1),a("div",R,o(e.$t("wallet.backUpDescription")),1),a("div",q,[d(H)]),a("label",D,[a("span",z,o(e.$t("wallet.importFile")),1),a("input",{type:"file",onChange:y,ref_key:"walletFile",ref:N,hidden:""},null,544)]),a("div",G,o(e.$t("wallet.haveWallet")),1),a("div",K,[d(t,{to:{name:"Home"}},{default:x(()=>[h(o(e.$t("wallet.signInHere"))+" >",1)]),_:1})]),P])}}});export{ee as default};
