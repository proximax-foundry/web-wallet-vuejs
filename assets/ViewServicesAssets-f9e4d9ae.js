import{_ as H,a7 as ee,ad as te,u as se,r as y,ac as oe,ab as ne,O as ae,A as V,c as D,w as g,E as T,H as z,n as B,k as S,o as r,b as d,s as k,z as m,e as s,t as n,B as _,m as w,F as $,h as O,f,i as R,p as re,j as le}from"./index-9545ec17.js";import"./assetsUtils-c3ec0930.js";import{S as ie}from"./SelectInputPluginClean-dfb39b1f.js";import{a as de,s as ce}from"./column.esm-30f49205.js";import{_ as ue}from"./icon-more-options-3f3cfda9.js";import{_ as me}from"./icon-link-new-caba1c4b.js";import{_ as pe}from"./icon-plus-7207f329.js";import"./multiselect-995af275.js";const he={components:{DataTable:de,Column:ce,SelectInputPluginClean:ie},name:"AssetDataTable",props:{assets:Array,account:ee,address:String},directives:{tooltip:te},setup(o){const{t:p}=se(),x=y(!1),e=()=>{window.innerWidth<"1024"?x.value=!1:x.value=!0};e(),oe(()=>{window.addEventListener("resize",e)}),ne(()=>{window.removeEventListener("resize",e)});const L=R().appContext.config.globalProperties.emitter,b=y([]),c=y([]),A=y(""),{address:E}=ae(o);o.address&&(A.value=V.Address.createFromRawAddress(E.value).plain());const t=D(()=>{let a=[];return a.push({value:"",label:p("general.showAll")}),g.currentLoggedInWallet.accounts.forEach(h=>{a.push({value:h.address,label:h.name})}),g.currentLoggedInWallet.others.forEach(h=>{a.push({value:h.address,label:h.name})}),a}),i=D(()=>{let a=[];if(v.value){let l=g.currentLoggedInWallet.accounts.find(u=>u.address==v.value)||g.currentLoggedInWallet.others.find(u=>u.address==v.value);if(!l)return[];l.assets.filter(u=>u.creator===l.publicKey).forEach(u=>{a.push({asset:u,account:l})})}else g.currentLoggedInWallet.accounts.forEach(l=>{l.assets.filter(u=>u.creator===l.publicKey).forEach(u=>{a.push({asset:u,account:l})})}),g.currentLoggedInWallet.others.forEach(l=>{l.assets.filter(u=>u.creator===l.publicKey).forEach(u=>{a.push({asset:u,account:l})})});let h=[];for(let l=0;l<a.length;++l){let u=[],C=a[l].asset.idHex;if(C!=T.nativeToken.assetId){let W=a[l].account.findNamespaceNameByAsset(C);for(let P=0;P<W.length;++P){let Z={name:W[P].name};u.push(Z)}let Y={i:l,idHex:C,owner:a[l].asset.creator,address:V.PublicAccount.createFromPublicKey(a[l].asset.creator,T.networkType).address.pretty(),amount:z.toCurrencyFormat(a[l].asset.amount,a[l].asset.divisibility),supply:z.toCurrencyFormat(a[l].asset.getExactSupply(),a[l].asset.divisibility),linkedNamespace:u,height:a[l].asset.height,explorerLink:T.isReady?B.currentNetworkProfile.chainExplorer.url+"/"+B.currentNetworkProfile.chainExplorer.assetInfoRoute+"/"+C:""};h.push(Y)}}return h}),v=y(""),F=y("border border-gray-400"),j=a=>{M.value=a,c.value[a]=!c.value[a]},K=a=>{I.value=a,b.value[a]=!b.value[a]};L.on("PAGE_CLICK",()=>{for(var a=0;a<c.value.length;)a!=M.value&&(c.value[a]=!1),a++;for(var h=0;h<b.value.length;)h!=I.value&&(b.value[h]=!1),h++});const I=y("empty"),M=y("empty"),U=a=>{I.value=a},G=()=>{I.value="empty"},Q=a=>{M.value=a},X=()=>{M.value="empty"},q=a=>{if(g.currentLoggedInWallet){let h=g.currentLoggedInWallet.accounts.find(l=>l.address==a)||g.currentLoggedInWallet.others.find(l=>l.address==a);return h?h.name:""}else return""},J=D(()=>g.currentLoggedInWallet?g.currentLoggedInWallet.name:"");return{borderColor:F,showMenu:K,showNsList:j,isMenuShow:b,isNsListShow:c,hoverOverMenu:U,hoverOutMenu:G,hoverOverNsList:Q,hoverOutNsList:X,listAccounts:t,filterAssets:v,walletState:g,generateAssetDatatable:i,selectedAddress:A,wideScreen:x,getNameByAddress:q,walletName:J}}},ge=o=>(re("data-v-0e06f90d"),o=o(),le(),o),ve={class:"flex justify-between"},_e={class:"text-sm pt-1 text-gray-700 ml-2 lg:ml-7"},fe={class:"uppercase text-xxs text-gray-300 font-bold mb-1"},ye={class:"uppercase font-bold text-txs"},be={class:"uppercase text-xxs text-gray-300 font-bold mb-1 mt-5"},we={class:"uppercase font-bold text-txs"},xe={key:0},ke={key:0},Ne={class:"mb-1 text-txs"},Le={key:1},Ae={class:"mb-1 text-txs"},Se=["onClick","onMouseover"],Ie={class:"font-bold"},Me=["onMouseover"],Ce={key:1},$e={class:"uppercase text-xxs text-gray-300 font-bold mb-1"},Oe={class:"uppercase font-bold text-txs"},Ee={class:"uppercase text-xxs text-gray-300 font-bold mt-2 mb-1"},Pe={class:"uppercase font-bold text-txs"},De={class:"uppercase text-xxs text-gray-300 font-bold mt-2 mb-1"},Te={class:"uppercase font-bold text-txs"},We={class:"uppercase font-bold text-txs"},Ve={key:0},ze={key:0},Be={class:"mb-1 text-txs"},He={key:1},Re={class:"mb-1 text-txs"},Fe=["onClick","onMouseover"],je={class:"font-bold"},Ke=["onMouseover"],Ue={key:1},Ge={class:"uppercase text-txs"},Qe={class:"uppercase font-bold text-txs"},Xe={class:"text-txs"},qe=["onMouseover"],Je=["onClick"],Ye={key:0,class:"mt-1 pop-option absolute right-0 w-32 rounded-sm shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none z-10 text-left lg:mr-2",role:"menu","aria-orientation":"vertical","aria-labelledby":"options-menu"},Ze={role:"none",class:"my-2"},et=["href"],tt=ge(()=>s("img",{src:me,class:"inline-block ml-2 relative -top-1"},null,-1));function st(o,p,x,e,N,L){const b=S("SelectInputPluginClean"),c=S("Column"),A=S("router-link"),E=S("DataTable");return r(),d("div",null,[k(E,{value:e.generateAssetDatatable,paginator:!0,rows:20,responsiveLayout:"scroll",scrollDirection:"horizontal",alwaysShowPaginator:!1,paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",currentPageReportTemplate:"",tableStyle:"",class:"w-full"},{header:m(()=>[s("div",ve,[s("span",_e,n(o.$t("general.asset",2))+" ("+n(e.getNameByAddress(e.filterAssets)==""?o.$t("asset.assetCreatedInWallet",{walletName:e.walletName}):o.$t("asset.assetCreatedByAcc",{accountName:e.getNameByAddress(e.filterAssets)}))+")",1),k(b,{modelValue:e.filterAssets,"onUpdate:modelValue":p[0]||(p[0]=t=>e.filterAssets=t),options:e.listAccounts,selectDefault:e.selectedAddress,class:"w-48 lg:w-60 inline-block"},null,8,["modelValue","options","selectDefault"])])]),empty:m(()=>[_(n(o.$t("general.noRecord")),1)]),loading:m(()=>[_(n(o.$t("dashboard.fetchingTx")),1)]),default:m(()=>[e.wideScreen?f("",!0):(r(),w(c,{key:0,style:{width:"250px"}},{body:m(({data:t})=>[s("div",null,[s("div",fe,n(o.$t("general.assetId")),1),s("div",ye,n(t.idHex),1)]),s("div",null,[s("div",be,n(o.$t("general.namespace")),1),s("div",we,[t.linkedNamespace.length>0?(r(),d("div",xe,[t.linkedNamespace.length==1?(r(),d("div",ke,[(r(!0),d($,null,O(t.linkedNamespace,(i,v)=>(r(),d("div",{key:v},[s("div",Ne,n(i.name),1)]))),128))])):(r(),d("div",Le,[s("div",Ae,[_(n(t.linkedNamespace[0].name)+" ",1),s("div",{class:"inline-block border border-gray-300 p-1 rounded-sm ml-2 cursor-pointer",onClick:i=>e.showNsList(t.i),onMouseover:i=>e.hoverOverNsList(t.i),onMouseout:p[1]||(p[1]=(...i)=>e.hoverOutNsList&&e.hoverOutNsList(...i))},[_("+ "),s("span",Ie,n(t.linkedNamespace.length-1),1)],40,Se)]),e.isNsListShow[t.i]?(r(),d("div",{key:0,class:"border p-3 w-28 border-gray-100 shadow-sm absolute bg-white",onMouseover:i=>e.hoverOverNsList(t.i),onMouseout:p[2]||(p[2]=(...i)=>e.hoverOutNsList&&e.hoverOutNsList(...i))},[(r(!0),d($,null,O(t.linkedNamespace.slice(1),(i,v)=>(r(),d("div",{key:v},n(i.name),1))),128))],40,Me)):f("",!0)]))])):(r(),d("div",Ce,n(o.$t("general.noLinkedNamespace")),1))])])]),_:1})),e.wideScreen?f("",!0):(r(),w(c,{key:1,style:{width:"250px"}},{body:m(({data:t})=>[s("div",null,[s("div",$e,n(o.$t("general.supply")),1),s("div",Oe,n(t.supply),1),s("div",Ee,n(o.$t("general.amount")),1),s("div",Pe,n(t.amount),1),s("div",De,n(o.$t("general.block")),1),s("div",Te,n(t.height),1)])]),_:1})),e.wideScreen?(r(),w(c,{key:2,style:{width:"50px"}})):f("",!0),e.wideScreen?(r(),w(c,{key:3,field:"assetId",header:o.$t("general.assetId"),style:{"`wideScreen?'min-width":"200px'?'width: 200px'`"}},{body:m(({data:t})=>[s("span",We,n(t.idHex),1)]),_:1},8,["header"])):f("",!0),e.wideScreen?(r(),w(c,{key:4,field:"linkedNamespace",header:o.$t("general.namespace"),style:{"`wideScreen?'min-width":"180px'?'width: 180px'`"}},{body:m(({data:t})=>[t.linkedNamespace.length>0?(r(),d("div",Ve,[t.linkedNamespace.length==1?(r(),d("div",ze,[(r(!0),d($,null,O(t.linkedNamespace,(i,v)=>(r(),d("div",{key:v},[s("div",Be,n(i.name),1)]))),128))])):(r(),d("div",He,[s("div",Re,[_(n(t.linkedNamespace[0].name)+" ",1),s("div",{class:"inline-block border border-gray-300 p-1 rounded-sm ml-2 cursor-pointer",onClick:i=>e.showNsList(t.i),onMouseover:i=>e.hoverOverNsList(t.i),onMouseout:p[3]||(p[3]=(...i)=>e.hoverOutNsList&&e.hoverOutNsList(...i))},[_("+ "),s("span",je,n(t.linkedNamespace.length-1),1)],40,Fe)]),e.isNsListShow[t.i]?(r(),d("div",{key:0,class:"border p-3 w-28 border-gray-100 shadow-sm absolute bg-white",onMouseover:i=>e.hoverOverNsList(t.i),onMouseout:p[4]||(p[4]=(...i)=>e.hoverOutNsList&&e.hoverOutNsList(...i))},[(r(!0),d($,null,O(t.linkedNamespace.slice(1),(i,v)=>(r(),d("div",{key:v},n(i.name),1))),128))],40,Ke)):f("",!0)]))])):(r(),d("div",Ue,n(o.$t("general.noLinkedNamespace")),1))]),_:1},8,["header"])):f("",!0),e.wideScreen?(r(),w(c,{key:5,field:"supply",header:o.$t("general.supply"),style:{"`wideScreen?'min-width":"180px'?'width: 180px'`"}},{body:m(({data:t})=>[s("span",Ge,n(t.supply),1)]),_:1},8,["header"])):f("",!0),e.wideScreen?(r(),w(c,{key:6,field:"amount",header:o.$t("general.amount"),style:{"`wideScreen?'min-width":"180px'?'width: 180px'`"}},{body:m(({data:t})=>[s("span",Qe,n(t.amount),1)]),_:1},8,["header"])):f("",!0),e.wideScreen?(r(),w(c,{key:7,field:"height",header:o.$t("general.block"),style:{"`wideScreen?'min-width":"180px'?'width: 180px'`"}},{body:m(({data:t})=>[s("span",Xe,n(t.height),1)]),_:1},8,["header"])):f("",!0),k(c,{style:{width:"50px"}},{body:m(({data:t})=>[s("div",{class:"text-txs text-center lg:mr-2",onMouseover:i=>e.hoverOverMenu(t.i),onMouseout:p[5]||(p[5]=(...i)=>e.hoverOutMenu&&e.hoverOutMenu(...i))},[s("img",{src:ue,class:"w-4 h-4 cursor-pointer inline-block",onClick:i=>e.showMenu(t.i)},null,8,Je),e.isMenuShow[t.i]?(r(),d("div",Ye,[s("div",Ze,[k(A,{to:{name:"ViewServicesAssetsModifySupplyChange",params:{assetId:t.idHex,address:t.address}},class:"block hover:bg-gray-100 transition duration-200 p-2 z-20"},{default:m(()=>[_(n(o.$t("general.modifySupply")),1)]),_:2},1032,["to"]),k(A,{to:{name:"ViewServicesAssetsLinkToNamespace",params:{assetId:t.idHex,address:t.address}},class:"block hover:bg-gray-100 transition duration-200 p-2 z-20"},{default:m(()=>[_(n(o.$t("general.linkToNamespace")),1)]),_:2},1032,["to"]),k(A,{to:{name:"ViewUpdateAssetMetadata",params:{targetId:t.idHex}},class:"block hover:bg-gray-100 transition duration-200 p-2 z-20"},{default:m(()=>[_("Update Metadata")]),_:2},1032,["to"]),s("a",{href:t.explorerLink,class:"block hover:bg-gray-100 transition duration-200 p-2 z-20",target:"_new"},[_(n(o.$t("general.viewInExplorer")),1),tt],8,et)])])):f("",!0)],40,qe)]),_:1})]),_:1},8,["value"])])}const ot=H(he,[["render",st],["__scopeId","data-v-0e06f90d"]]),nt="/web-wallet-vuejs/assets/asset_default-634344fc.svg",at={name:"ViewServicesAssets",components:{AssetDataTable:ot},props:{address:String},setup(){const o=y(0),x=R().appContext.config.globalProperties.emitter,e=y([]);return g.currentLoggedInWallet&&(g.currentLoggedInWallet.accounts.forEach(N=>{N.assets.forEach(L=>{e.value.push(L)})}),g.currentLoggedInWallet.others.forEach(N=>{N.assets.forEach(L=>{e.value.push(L)})})),x.on("TXN_CONFIRMED",N=>{setTimeout(()=>{++o.value},1e3)}),{assets:e,defaultIndex:o,walletState:g}}},rt={class:"ml-2 mr-2 lg:ml-auto lg:mr-auto mt-5"},lt={key:0},it=s("img",{src:pe,class:"inline-block mr-2"},null,-1),dt={key:1,class:"lg:w-9/12 ml-2 mr-2 lg:ml-auto lg:mr-auto mt-5"},ct={class:"flex justify-between text-sm mb-5"},ut={class:"text-gray-700"},mt={class:"border border-gray-200 filter drop-shadow-xl py-2 sm:py-14 px-2 sm:px-28 text-center bg-white"},pt=s("img",{src:nt,class:"inline-block h-18 w-18"},null,-1),ht={class:"text-gray-700 text-sm my-5"},gt={class:"text-gray-600 text-tsm my-5"},vt={class:"sm:grid sm:grid-cols-2 mt-10 lg:mt-16"},_t={class:"mb-8"},ft={href:"https://bcdocs.xpxsirius.io/docs/built-in-features/mosaic/",target:"_new",class:"sm:h-9 lg:h-5 text-blue-primary font-bold text-tsm flex items-start"},yt={class:"text-gray-400 text-xs lg:text-tsm my-3 sm:pr-2"},bt={class:"mb-8"},wt={href:"https://t.me/proximaxhelpdesk",target:"_new",class:"sm:h-9 lg:h-5 text-blue-primary font-bold text-tsm items-start flex"},xt={class:"text-gray-400 text-tsm my-3"};function kt(o,p,x,e,N,L){const b=S("AssetDataTable"),c=S("router-link");return r(),d("div",null,[s("div",rt,[e.assets.length>0?(r(),d("div",lt,[(r(),w(b,{class:"mt-10 w-full",key:e.walletState,address:x.address},null,8,["address"])),k(c,{to:{name:"ViewServicesAssetsCreate"},class:"mt-10 lg:mt-0 bg-blue-primary px-5 py-3 text-gray-100 text-xs font-bold rounded-md flex items-center justify-center w-44"},{default:m(()=>[it,_(n(o.$t("asset.createNewAsset")),1)]),_:1})])):(r(),d("div",dt,[s("div",ct,[s("div",null,[s("span",ut,n(o.$t("general.asset",2)),1)])]),s("div",mt,[pt,s("div",ht,n(o.$t("asset.noAsset")),1),s("div",gt,n(o.$t("asset.assetDescription")),1),k(c,{to:{name:"ViewServicesAssetsCreate"},class:"bg-blue-primary py-2 px-7 rounded-lg text-white font-bold mt-4 inline-block"},{default:m(()=>[_(n(o.$t("asset.createAssets",2)),1)]),_:1})]),s("div",vt,[s("div",_t,[s("a",ft,n(o.$t("general.assetQues")),1),s("div",yt,n(o.$t("asset.assetAns")),1)]),s("div",bt,[s("a",wt,n(o.$t("general.feedback")),1),s("div",xt,n(o.$t("general.feedbackDescription")),1)])])]))])])}const Ot=H(at,[["render",kt]]);export{Ot as default};
