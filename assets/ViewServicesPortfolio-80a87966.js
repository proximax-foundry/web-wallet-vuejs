import{d as R,g as v,ah as S,$ as M,o as n,f as l,l as g,b as x,a as k,e as t,t as u,v as _,H as A,i as p,n as f,_ as w,c as y,O as P,P as V,F as W,K as B,R as F,w as h,r as C}from"./index-ec24e299.js";import{_ as L}from"./proximax-logo-ecfc3767.js";import{_ as D}from"./xarcade-logo-c4d3fd5c.js";import{_ as E}from"./metx-logo-27f23eae.js";import{_ as $}from"./icon-proximax-logo-gray-c2486ce1.js";import{s as b,a as z}from"./column.esm-af6c9cf6.js";import{_ as N}from"./icon-arrow-down-83b4f5a8.js";const H={class:"uppercase cursor-pointer font-bold text-txs"},O=["href"],X={class:"uppercase inline-block text-xs mt-1.5 cursor-pointer text-blue-primary pr-7"},Q={class:"flex items-center pr-7"},U={key:0,src:L,class:"inline-block h-7 w-7 mr-2 border-2 rounded-3xl"},K={key:1,src:D,class:"inline-block h-7 w-7 mr-2 border-2 rounded-3xl"},j={key:2,src:E,class:"inline-block h-7 w-7 mr-2 border-2 rounded-3xl"},q={key:3},G={key:4,src:$,class:"inline-block h-6 w-6 mr-2"},J={key:5,class:"inline-block text-xs ml-2 mt-1 cursor-pointer text-blue-primary"},Y=["href"],Z={key:6,class:"inline-block text-xs ml-2 cursor-pointer text-blue-primary mt-1"},ee=["href"],te={class:"uppercase font-bold text-xs truncate"},oe=["href"],se={class:"uppercase inline-block text-xs mt-1.5 cursor-pointer text-blue-primary pr-7"},re={class:"flex items-center pr-7"},ne={key:0,src:L,class:"inline-block h-7 w-7 mr-2 border-2 rounded-3xl"},le={key:1,src:D,class:"inline-block h-7 w-7 mr-2 border-2 rounded-3xl"},ie={key:2,src:E,class:"inline-block h-7 w-7 mr-2 border-2 rounded-3xl"},ce={key:3},ae={key:4,src:$,class:"inline-block h-6 w-6 mr-2"},de={key:5,class:"inline-block text-xs ml-2 mt-1 cursor-pointer text-blue-primary"},ue=["href"],me={key:6,class:"inline-block text-xs ml-2 cursor-pointer text-blue-primary mt-1"},_e=["href"],pe={class:"uppercase font-semibold text-xs"},fe=R({__name:"PortfolioAssetDataTable",props:{assets:Array},setup(c){const s=v(!1),m=()=>{window.innerWidth<1024?s.value=!1:s.value=!0};m(),S(()=>{window.removeEventListener("resize",m)}),M(()=>{window.addEventListener("resize",m)});const r=o=>o=="prx.xpx"?{name:"XPX",registered:!0}:o=="prx.metx"?{name:"METX",registered:!0}:o=="xarcade.xar"?{name:"XAR",registered:!0}:{name:o,registered:!1},a=o=>f.currentNetworkProfile?f.currentNetworkProfile.chainExplorer.url+"/"+f.currentNetworkProfile.chainExplorer.assetInfoRoute+"/"+o:"",d=o=>f.currentNetworkProfile?f.currentNetworkProfile.chainExplorer.url+"/"+f.currentNetworkProfile.chainExplorer.namespaceInfoRoute+"/"+o:"";return(o,i)=>(n(),l("div",null,[g(_(z),{value:c.assets,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink  RowsPerPageDropdown",rowsPerPageOptions:[10,20,30,40,50],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} entries",responsiveLayout:"scroll"},{default:x(()=>[s.value?p("",!0):(n(),k(_(b),{key:0,style:{width:"200px"},headerClass:"hidden"},{body:x(({data:e})=>[t("div",null,[i[0]||(i[0]=t("div",{class:"uppercase text-xxs font-bold mb-1"},"Asset ID",-1)),t("div",H,[t("a",{href:a(e.id),target:"_blank"},[t("div",X,u(e.id),1)],8,O)])]),t("div",null,[i[1]||(i[1]=t("div",{class:"uppercase text-xxs text-gray-300 font-bold mb-1 mt-5"},"Alias",-1)),t("div",Q,[e.name=="prx.xpx"?(n(),l("img",U)):e.name=="xarcade.xar"?(n(),l("img",K)):e.name=="prx.metx"?(n(),l("img",j)):e.name?(n(),l("img",G)):(n(),l("div",q,"-")),r(e.name).registered?(n(),l("div",J,[t("a",{href:d(e.name),target:"_blank"},u(r(e.name).name),9,Y)])):(n(),l("div",Z,[t("a",{href:d(e.name),target:"_blank"},u(e.name),9,ee)]))])]),t("div",null,[i[2]||(i[2]=t("div",{class:"uppercase text-xxs text-gray-300 font-bold mb-1 mt-5"},"Balance",-1)),t("div",te,u(_(A).toCurrencyFormat(e.balance,e.divisibility)),1)])]),_:1})),s.value?(n(),k(_(b),{key:1,field:"assetId",header:o.$t("general.assetId")},{body:x(({data:e})=>[t("a",{href:a(e.id),target:"_blank"},[t("div",se,u(e.id),1)],8,oe)]),_:1},8,["header"])):p("",!0),s.value?(n(),k(_(b),{key:2,field:"alias",header:"Alias"},{body:x(({data:e})=>[t("div",re,[e.name=="prx.xpx"?(n(),l("img",ne)):e.name=="xarcade.xar"?(n(),l("img",le)):e.name=="prx.metx"?(n(),l("img",ie)):e.name?(n(),l("img",ae)):(n(),l("div",ce,"-")),r(e.name).registered?(n(),l("div",de,[t("a",{href:d(e.name),target:"_blank"},u(r(e.name).name),9,ue)])):(n(),l("div",me,[t("a",{href:d(e.name),target:"_blank"},u(e.name),9,_e)]))])]),_:1})):p("",!0),s.value?(n(),k(_(b),{key:3,field:"amount",header:o.$t("general.amount")},{body:x(({data:e})=>[t("span",pe,u(_(A).toCurrencyFormat(e.balance,e.divisibility)),1)]),_:1},8,["header"])):p("",!0)]),_:1},8,["value"])]))}});const xe=w(fe,[["__scopeId","data-v-556109dc"]]),he={name:"MultiDropdownPortfolioAccountComponent",props:["account"],setup(c){const s=v([]),m=v(!1),r=v(""),a=y(()=>{const i=r.value.toLowerCase();return r.value==""?c.account:c.account.filter(e=>e.name.toLowerCase().includes(i))});return{show:m,filterQuery:r,filteredAccount:a,clearAll:()=>{s.value=[]},selectAll:()=>{s.value=c.account},selectedAccount:s}},watch:{selectedAccount(c){this.$emit("checked",c)}}},ve={class:"flex flex-col"},ke={key:0,src:N,class:"w-3 ml-2 h-3",style:{"margin-top":"0.12em"}},be={key:1,src:N,class:"w-3 ml-2 h-3",style:{"margin-top":"0.12em",transform:"rotate(180deg)"}},ge={key:0,class:"relative z-50"},ye={class:"absolute w-60 border bg-white"},we=["placeholder"],Ae={class:"flex justify-between p-2 text-xs"},Pe={class:"max-h-40 overflow-auto px-2 filter drop-shadow-xl"},Ce=["id","value"],Le={for:"index",class:"pl-1"};function De(c,s,m,r,a,d){return n(),l("div",ve,[t("div",{class:"border p-2 cursor-pointer w-40 bg-white text-xs flex justify-between",onClick:s[0]||(s[0]=o=>r.show=!r.show)},[s[5]||(s[5]=t("div",null,"Account",-1)),r.show?(n(),l("img",be)):(n(),l("img",ke))]),r.show?(n(),l("div",ge,[t("div",ye,[P(t("input",{"onUpdate:modelValue":s[1]||(s[1]=o=>r.filterQuery=o),type:"text",class:"pl-2 pt-2 text-xs outline-none text-black",placeholder:c.$t("general.search")},null,8,we),[[V,r.filterQuery]]),t("div",Ae,[r.selectedAccount.length==0?(n(),l("div",{key:0,onClick:s[2]||(s[2]=(...o)=>r.selectAll&&r.selectAll(...o))},"Select all")):p("",!0),r.selectedAccount.length>0?(n(),l("div",{key:1,onClick:s[3]||(s[3]=(...o)=>r.clearAll&&r.clearAll(...o))},"Clear all")):p("",!0),t("div",null,u(r.selectedAccount.length)+" SELECTED",1)]),t("ul",Pe,[(n(!0),l(W,null,B(r.filteredAccount,(o,i)=>(n(),l("li",{key:i},[P(t("input",{type:"checkbox",id:i,value:o,"onUpdate:modelValue":s[4]||(s[4]=e=>r.selectedAccount=e)},null,8,Ce),[[F,r.selectedAccount]]),t("label",Le,u(o.name),1)]))),128))])])])):p("",!0)])}const Ee=w(he,[["render",De]]),$e={name:"ViewServicesPortfolio",components:{PortfolioAssetDataTable:xe,MultiDropdownPortfolioAccountComponent:Ee},setup(){const c=v([]),s=y(()=>h.currentLoggedInWallet?h.currentLoggedInWallet.others?h.currentLoggedInWallet.accounts.concat(h.currentLoggedInWallet.others).filter(d=>d.type!=="DELEGATE"):h.currentLoggedInWallet.accounts:null),m=a=>{c.value=a};return{mosaics:y(()=>{if(c.value.length){var a=[],d=[];for(let o=0;o<c.value.length;o++)c.value[o].assets.forEach((i,e)=>{a.push({i:e,id:i.idHex,name:i.namespaceNames.length>0?i.namespaceNames[0]:"",balance:i.amount})});return d=a.reduce((o,i)=>{let e=o.find(I=>I.id===i.id),T={...i};return e?e.balance+=i.balance:o.push(T),o},[]),d}else return null}),onCheck:m,accounts:s,selectedAccount:c}}},Ne={class:"mt-10 flex-grow px-5"},Te={class:"w-11/12 ml-auto mr-auto"},Ie={class:"flex"},Re={class:"py-3 px-6 lg:flex items-center"},Se={class:"mt-2 py-3"},Me={class:"w-11/12 ml-auto mr-auto border-2"};function Ve(c,s,m,r,a,d){const o=C("MultiDropdownPortfolioAccountComponent"),i=C("PortfolioAssetDataTable");return n(),l("div",Ne,[t("div",Te,[t("div",Ie,[t("div",Re,[s[0]||(s[0]=t("div",{class:"text-xl mr-2 mb-2"},"Portfolio",-1)),g(o,{account:r.accounts,onChecked:r.onCheck},null,8,["account","onChecked"])])])]),t("div",Se,[t("div",Me,[g(i,{assets:r.mosaics},null,8,["assets"])])]),s[1]||(s[1]=t("div",{class:"mb-36"},null,-1))])}const Qe=w($e,[["render",Ve]]);export{Qe as default};
