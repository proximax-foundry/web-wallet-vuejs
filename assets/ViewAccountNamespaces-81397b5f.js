import{d as P,u as I,r as w,l as R,o as h,b as k,e as c,m as a,y as i,$ as S,F as V,c as N,w as x,z as B,B as b,a as C,i as $,v as n,x as m,t as u,n as A}from"./index-f7254215.js";import{_ as E}from"./icon-green-tick-1b766454.js";import{_ as H}from"./icon-red-x-a5511f99.js";import{_ as D}from"./icon-plus-7207f329.js";import{s as l,a as F}from"./column.esm-b38fe128.js";import{A as T,_ as W}from"./AccountTabs.vue_vue_type_script_setup_true_lang-55a55490.js";import{_ as M}from"./icon-more-options-3f3cfda9.js";import"./jdenticon-module-93d43574.js";import"./functions-4e4d0d83.js";import"./TextInput-0301a725.js";import"./TextInputClean-406c8cad.js";import"./icon-key-5b3f7dda.js";const j=P({__name:"NamespaceAction",props:{address:{},id:{},name:{}},setup(o){const{t:p}=I(),d=w(),f=R(),y=w([{label:p("general.extendDuration"),command:()=>{f.push({name:"ViewServicesNamespaceExtend",params:{address:o.address,namespaceId:o.id}})}},{label:"View Metadata",command:()=>{f.push({name:"ViewNamespaceMetadata",params:{namespaceId:o.name,address:o.address}})}}]),g=_=>{d.value.toggle(_)};return(_,v)=>(h(),k(V,null,[c("img",{src:M,class:"w-4 h-4 cursor-pointer ml-2 mt-0.5",onClick:g}),a(i(S),{ref_key:"menu",ref:d,model:y.value,popup:!0},null,8,["model"])],64))}}),z={class:"lg:w-9/12 ml-2 mr-2 lg:ml-auto lg:mr-auto mt-5"},K={class:"border-2 border-t-0 pb-3"},O=["href"],q={class:"min-w-min uppercase inline-block text-xs mt-1.5 cursor-pointer text-blue-primary pr-7"},G={class:"truncate"},J={key:0,src:E,class:"h-5 w-5 ml-1"},Q={key:1,src:H,class:"h-5 w-5 ml-1"},U=c("img",{src:D,class:"inline-block mr-2"},null,-1),ce=P({__name:"ViewAccountNamespaces",props:{address:String},setup(o){const p=o,d=N(()=>{if(!x.currentLoggedInWallet)return null;let e=x.currentLoggedInWallet.accounts.find(r=>r.address==p.address)||x.currentLoggedInWallet.others.find(r=>r.address==p.address);return e||null}),f=w([]),y=w([]),g=N(()=>{if(!d.value)return;let e=[];for(let r=0;r<d.value.namespaces.length;r++){let t=d.value.namespaces[r];e.push({name:t.name,id:t.idHex,linkedAssetAddress:t.linkedId!=""?t.linkType==2?B.Address.createFromRawAddress(t.linkedId).pretty():t.linkedId:"-",expiringBlock:t.endHeight,isActive:_(t.name)?!0:!!(t.endHeight??0>b.readBlockHeight)})}return e}),_=e=>!!e.includes("prx"),v=async()=>{for(let e=0;e<g.value.length;e++)y.value.push(!1),f.value.push(!1)};if(b.isReady)v();else{let e=C(b,r=>{r.isReady&&(v(),e())})}const L=e=>A.currentNetworkProfile?A.currentNetworkProfile.chainExplorer.url+"/"+A.currentNetworkProfile.chainExplorer.namespaceInfoRoute+"/"+e:"";return(e,r)=>{const t=$("router-link");return h(),k("div",z,[a(T,{address:o.address,class:"mb-6"},null,8,["address"]),a(W,{address:o.address,selected:"namespaces"},null,8,["address"]),c("div",K,[a(i(F),{value:g.value,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink  RowsPerPageDropdown",rowsPerPageOptions:[10,20,30,40,50],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} entries",responsiveLayout:"scroll"},{empty:n(()=>[m(" No namespaces found. ")]),loading:n(()=>[m(" Loading namespaces data. Please wait. ")]),default:n(()=>[a(i(l),{field:"id",header:"ID"},{body:n(({data:s})=>[c("a",{href:L(s.id),target:"_new",class:"col-span-2"},[c("div",q,u(s.id),1)],8,O)]),_:1}),a(i(l),{field:"name",header:"Name"},{body:n(({data:s})=>[m(u(s.name),1)]),_:1}),a(i(l),{field:"linked",header:"Linked Asset/Address"},{body:n(({data:s})=>[c("div",G,u(s.linkedAssetAddress),1)]),_:1}),a(i(l),{field:"expiry",header:"Expiry"},{body:n(({data:s})=>[m(u(s.expiringBlock),1)]),_:1}),a(i(l),{field:"active",header:"Active"},{body:n(({data:s})=>[s.isActive?(h(),k("img",J)):(h(),k("img",Q))]),_:1}),a(i(l),{field:"actions",header:"Actions"},{body:n(({data:s,index:X})=>[a(j,{address:o.address,id:s.id,name:s.name},null,8,["address","id","name"])]),_:1})]),_:1},8,["value"]),a(t,{to:{name:"ViewServicesNamespaceCreate"},class:"mt-2 bg-blue-primary py-3 mx-6 text-gray-100 text-xs font-bold rounded-md flex items-center justify-center w-52"},{default:n(()=>[U,m(u(e.$t("namespace.registerNewNamespace")),1)]),_:1})])])}}});export{ce as default};
