import{d as S,g as c,L as T,D as P,r as d,o as p,f as v,v as h,l as g,e as y,t as A,i as _,b as L,a as N,w as a,x as r,A as u}from"./index-aa0744c5.js";const C={class:"text-xxs text-blue-primary font-semibold uppercase ml-auto mr-auto"},F={class:"text-xxs text-blue-primary font-semibold uppercase ml-auto mr-auto"},V=S({__name:"SelectInputMultisigAccount",props:{selectedAddress:{type:String,required:!1}},emits:["select-multisig-account","update:modelValue"],setup(w,{emit:K}){const s=c(!1),I=w,m=K,{selectedAddress:b}=T(I),o=c([]);c(null),c(null),P(b,t=>{if(t==null){o.value=[];return}const l=a.currentLoggedInWallet.accounts.find(e=>e.address==t),i=l.multisigInfo.find(e=>e.level==0);o.value=i?[...l.multisigInfo].filter(e=>e.level<0).map(e=>{const n=[...a.currentLoggedInWallet.accounts,...a.currentLoggedInWallet.others].find(x=>x.publicKey==e.publicKey);return{label:n?a.currentLoggedInWallet.convertAddressToName(n.address):a.currentLoggedInWallet.convertAddressToName(r.PublicAccount.createFromPublicKey(e.publicKey,u.networkType).address.plain())?a.currentLoggedInWallet.convertAddressToName(r.PublicAccount.createFromPublicKey(e.publicKey,u.networkType).address.plain()):r.PublicAccount.createFromPublicKey(e.publicKey,u.networkType).address.plain(),value:r.PublicAccount.createFromPublicKey(e.publicKey,u.networkType).address.plain(),publicKey:e.publicKey}}):[]});const k=t=>{m("update:modelValue",t==null?void 0:t.value),m("select-multisig-account",t),s.value=!1};return(t,l)=>{const i=d("font-awesome-icon"),e=d("Tree"),f=d("Sidebar");return p(),v("div",null,[o.value.length&&!s.value&&h(b)?(p(),v("button",{key:0,class:"border rounded-md cursor-pointer flex flex-col justify-center py-1 px-1.5",onClick:l[0]||(l[0]=n=>s.value=!0)},[g(i,{icon:"id-card-alt",class:"text-blue-primary ml-auto mr-auto"}),y("div",C,A(t.$t("general.select")),1),y("div",F,A(t.$t("general.multisig")),1)])):_("",!0),g(f,{visible:s.value,"onUpdate:visible":l[1]||(l[1]=n=>s.value=n),baseZIndex:1e4,position:"full"},{default:L(()=>[s.value&&o.value.length?(p(),N(e,{key:0,showClear:!0,style:{width:"100%"},value:o.value,filter:!0,selectionMode:"single",filterFields:["label","value"],emptyFilterMessage:" ",onNodeSelect:k},null,8,["value"])):_("",!0)]),_:1},8,["visible"])])}}});export{V as _};
