import{d as L,r as v,i as q,o as l,b as r,e as o,t as d,k as F,f,j as V,_ as N,I as O,J as z,L as R,a as E,c as T,S as K,x as A,P as J,B as U,D as X,w as S,H,F as j,g as G}from"./index-077dd2ca.js";import{_ as Q}from"./index-febff57f.js";import{_ as Y}from"./icon-info-8b4f1351.js";import{t as D}from"./jdenticon-module-f65f0bd0.js";import{_ as Z}from"./delete-8b454e7f.js";const ee={class:"border border-gray-200 px-2 py-2 text-left flex justify-between items-center"},te={class:"uppercase text-gray-400 font-light text-txs text-left mb-2"},se=["type","disabled","value","placeholder"],oe={class:"h-3 mb-2"},le={key:0,class:"error error-text text-left"},ct=L({__name:"PasswordInputClean",props:{placeholder:{type:String},errorMessage:{type:String},icon:{type:String},showError:{type:Boolean},modelValue:{type:String},disabled:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:u}){const c=e,k=u,x=$=>{k("update:modelValue",$.target.value)},p=v("password"),n=v(!1),m=v(!1),g=()=>{n.value=!n.value,n.value?p.value="text":p.value="password"},_=()=>{c.modelValue==""||Object.keys(c.modelValue).length<8?m.value=!0:m.value=!1};return($,h)=>{const b=q("font-awesome-icon");return l(),r("div",{class:V(e.disabled?"opacity-50":"")},[o("div",ee,[o("div",null,[o("div",te,d(e.placeholder),1),o("input",{type:p.value,disabled:e.disabled==!0,value:e.modelValue,onInput:x,class:"text_input",placeholder:e.placeholder,onBlur:h[0]||(h[0]=y=>_()),autocomplete:"off"},null,40,se)]),n.value?f("",!0):(l(),F(b,{key:0,icon:"eye",class:"text-gray-500 relative cursor-pointer text-right mr-2",onClick:h[1]||(h[1]=y=>{g()})})),n.value?(l(),F(b,{key:1,icon:"eye-slash",class:"text-gray-500 relative cursor-pointer text-right mr-2",onClick:h[2]||(h[2]=y=>{g()})})):f("",!0)]),o("div",oe,[m.value||e.showError?(l(),r("div",le,d(e.errorMessage),1)):f("",!0)])],2)}}});const re={props:{placeholder:String,errorMessage:String,icon:String,showError:Boolean,disabled:Boolean,modelValue:String,imgRequired:Boolean},emits:["update:modelValue"],name:"MetamaskAddressInput",data(){return{inputText:"",borderColor:"border border-gray-300",textErr:!1}},methods:{clickInputText:function(){!this.showError&&!this.disabled&&(this.borderColor="border-2 border-blue-primary")},getIcon(){return require(`@/${this.icon}`)},blurInputText:function(){this.disabled||(this.modelValue==""?(this.borderColor="border-2 border-red-primary",this.textErr=!0):(this.borderColor="border-2 border-gray-300",this.textErr=!1))},focusInputText:function(){this.borderColor="border-2 border-blue-primary",this.textErr=!1}},mounted(){this.emitter.on("CLEAR_TEXT",e=>{this.inputText=e,this.textErr=!1,this.borderColor="border border-gray-300"})}},ae=e=>(O("data-v-f8460dfd"),e=e(),z(),e),ne={class:"border border-gray-200 rounded"},ie={class:"flex justify-left"},de=ae(()=>o("div",{class:"w-18 flex items-center justify-center py-5 sm:h-20 flex-none"},[o("img",{src:Q,class:"w-8 h-8 inline-block"})],-1)),ue={class:"text-left flex items-center"},ce={class:"block"},pe={class:"text-xxs uppercase text-blue-primary font-bold"},me=["disabled","value","placeholder"],ve={key:0,class:"error error-text text-left"};function fe(e,u,c,k,x,p){return l(),r("div",null,[o("div",ne,[o("div",ie,[de,o("div",ue,[o("div",ce,[o("div",pe,d(e.$t("swap.toMetamaskAddress")),1),o("input",{disabled:c.disabled,value:c.modelValue,onInput:u[0]||(u[0]=n=>e.$emit("update:modelValue",n.target.value)),type:"text",size:"80",class:"placeholder bg-white",placeholder:c.placeholder,onClick:u[1]||(u[1]=n=>p.clickInputText()),onFocus:u[2]||(u[2]=n=>p.focusInputText()),onBlur:u[3]||(u[3]=n=>p.blurInputText())},null,40,me)])])])]),x.textErr||c.showError?(l(),r("div",ve,d(c.errorMessage),1)):f("",!0)])}const pt=N(re,[["render",fe],["__scopeId","data-v-f8460dfd"]]),ge={class:"border border-gray-200 px-2 py-1 h-14 rounded-md"},he={class:"uppercase text-gray-500 text-txs text-left mb-1"},xe={key:0,src:Y,class:"inline-block ml-1 relative cursor-pointer",style:{top:"-1px"}},be={class:"flex justify-between items-center"},ye=["value","placeholder"],ke=["disabled"],_e={key:0,class:"h-3 mb-2 error error-text text-left"},$e={key:1,class:"h-3 mb-2 error error-text text-left"},we={key:2,class:"text-gray-600 text-xs mr-3 my-1 mb-5 text-left"},P=16,Se=L({__name:"SwapInputClean",props:{placeholder:String,errorMessage:String,emptyErrorMessage:String,icon:String,showError:Boolean,modelValue:{type:Number,required:!0},title:String,disabled:Boolean,maxAmount:{type:Number,required:!0},remarkOption:Boolean,transactionFee:String,gasFee:Number,toolTip:String,decimal:{type:Number,required:!0}},emits:["update:modelValue","clickedMaxAvailable"],setup(e,{emit:u}){const c=e,k=u,{modelValue:x}=R(c),p=v(!1),n=v(!1),m=v(!1),g=v(c.modelValue),_=v(0);E(x,t=>{t==c.maxAmount?n.value=!0:n.value=!1});const $=()=>{n.value=!0},h=()=>{p.value=!1,m.value=!1},b=t=>{const s=t.target;s.value=s.value?s.value:"0",c.maxAmount<Number(s.value.replace(/,/g,""))?p.value=!0:p.value=!1},y=t=>{const s=t.target;s.value===""||Number(s.value)===0||s.value==="0"?m.value=!0:m.value=!1},I=(t,s)=>{const a=t.key;return a>="0"&&a<="9"||a==="."||a==="Backspace"||a==="Delete"||a==="ArrowLeft"||a==="ArrowRight"?(a==="."&&s.includes(".")&&t.preventDefault(),!0):(t.preventDefault(),!1)},M=t=>{isNaN(parseFloat(t))?g.value=0:g.value=parseFloat(t)},B=t=>{t.target.value=C.value},C=T(()=>Intl.NumberFormat("en-US",{maximumFractionDigits:_.value}).format(g.value));return E(g,(t,s)=>{if(t.toString().includes(".")){const[a,i]=t.toString().split(".");_.value=P-a.length,i&&i.length>_.value&&(g.value=s)}else t.toString().length>P&&(g.value=s);k("update:modelValue",g.value)}),(t,s)=>{const a=K("tooltip");return l(),r("div",{class:V(e.disabled?"opacity-50":"")},[o("div",ge,[o("div",he,[A(d(e.placeholder)+" ",1),e.toolTip?J((l(),r("img",xe,null,512)),[[a,{value:"<tiptext>"+e.toolTip+"</tiptext>",escape:!1},void 0,{bottom:!0}]]):f("",!0)]),o("div",be,[o("input",{value:C.value,class:"supply_input",placeholder:e.placeholder,onKeyup:s[0]||(s[0]=i=>(b(i),y(i))),onInput:s[1]||(s[1]=i=>M(parseFloat(i.target.value.replace(/,/g,"")).toString())),onKeypress:s[2]||(s[2]=i=>I(i,i.target.value)),onBlur:s[3]||(s[3]=i=>B(i))},null,40,ye),o("button",{disabled:e.disabled==!0,class:"w-24 cursor-pointer focus:outline-none text-blue-primary text-xs font-bold",onClick:s[4]||(s[4]=i=>{$(),t.$emit("clickedMaxAvailable",!0),h()})},d(t.$t("swap.maxAmount")),9,ke)])]),p.value||e.showError?(l(),r("div",_e,d(e.errorMessage),1)):f("",!0),m.value?(l(),r("div",$e,d(e.emptyErrorMessage),1)):f("",!0),n.value==!0&&e.remarkOption?(l(),r("div",we,[A(d(t.$t("swap.inputRemark1"))+" ",1),o("b",null,d(e.transactionFee)+" xpx",1),A(" "+d(t.$t("swap.inputRemark2"))+" ",1),o("b",null,d(e.gasFee)+" xpx",1)])):f("",!0)],2)}}});const mt=N(Se,[["__scopeId","data-v-55cd348b"]]),W="/web-wallet-vuejs/assets/icon-caret-down-7a395602.svg",Te=L({emits:["select-account","update:modelValue"],name:"SelectInputAccountOutgoingSwap",props:["modelValue","selectDefault","placeholder","otherToken","otherTokenId","name","divisibility"],setup(e){const u=T(()=>U.nativeToken.label),c=v(!1);let k=new X("ThemeStyleConfig");k.init();let x=k.jdenticonConfig;const{otherToken:p,divisibility:n,otherTokenId:m}=R(e),g=v(!1),_=T(()=>{var t=[];let s;return g.value?s=S.currentLoggedInWallet.accounts.concat(S.currentLoggedInWallet.others):s=S.currentLoggedInWallet.accounts.filter(a=>a.getDirectParentMultisig().length==0),s.forEach(a=>{t.push({value:a.address,label:a.name})}),t}),$=v(""),h=v(""),b=v(0),y=v(0),I=v(""),M=(t,s)=>{$.value=t,h.value=s;let a;g.value?a=S.currentLoggedInWallet.accounts.concat(S.currentLoggedInWallet.others):a=S.currentLoggedInWallet.accounts;let i=a.find(w=>w.address==s);b.value=p.value!="prx.xpx"&&i.assets.find(w=>w.idHex==m.value)?i.assets.find(w=>w.idHex==m.value).amount:0,y.value=a.find(w=>w.address==s).balance,I.value=D(s,25,x),c.value=!c.value};E(p,t=>{let s=S.currentLoggedInWallet.accounts,a=s.find(i=>i.address==h.value);a&&(b.value=t!="prx.xpx"&&a.assets.find(i=>i.idHex==m.value)?a.assets.find(i=>i.idHex==m.value).amount:0,y.value=s.find(i=>i.address==h.value).balance)});const B=T(()=>{let t=H.convertToCurrency(b.value,0).split(".");return'<span class="font-bold text-xs">'+t[0]+"</span>"+(t[1]?'.<span class="text-xxs">'+t[1]+"</span>":"")}),C=T(()=>{let t=H.convertToCurrency(y.value,0).split(".");return'<span class="font-bold text-xs">'+t[0]+"</span>"+(t[1]?'.<span class="text-xxs">'+t[1]+"</span>":"")});return{currentNativeTokenName:u,selectAccount:M,selectedAddress:h,otherTokenBalanceFormatted:B,otherTokenBalance:b,selectedImg:I,accounts:_,toggleSelection:c,selectedAccount:$,jdenticonConfig:x,toSvg:D,nativeTokenBalance:y,nativeTokenBalanceFormatted:C}}}),Ie={class:"flex items-center justify-between"},Ce={class:"flex"},Ae=["innerHTML"],Me=["innerHTML"],Be={class:"flex flex-col ml-2 text-left"},Ee={class:"text-blue-primary font-semibold text-xxs uppercase",style:{"line-height":"9px"}},Le={key:0,class:"mt-1 text-tsm font-bold text-left"},Ve={key:1,class:"text-tsm font-bold mt-1 text-left"},Ne={class:"flex"},Fe={key:0,class:"text-xs mr-3"},He={class:"flex gap-2"},je={class:"flex gap-2"},De=["innerHTML"],Pe={key:1,class:"text-xs uppercase"},Re={class:"flex gap-2"},We=["innerHTML"],qe={class:"text-xs"},Oe={key:1,class:"text-xxs ml-auto cursor-pointer text-blue-primary font-semibold mt-auto mb-auto"},ze=o("img",{src:W},null,-1),Ke=[ze],Je={key:2,class:"text-xxs ml-auto cursor-pointer text-blue-primary font-semibold mt-auto mb-auto"},Ue=o("img",{src:W},null,-1),Xe=[Ue],Ge={class:"relative"},Qe={key:0,class:"absolute border border-t-0 w-full z-50 bg-white max-h-40 overflow-auto px-3 filter drop-shodow-xl uppercase"},Ye={key:0,class:"pl-2 pt-4 text-xxs text-gray-400 text-left"},Ze={key:1,class:"text-xxs pt-2 pl-2 pb-2"},et=["onClick"],tt=["innerHTML"],st={class:"text-xs ml-2 font-semibold"},ot={key:0,class:"cursor-pointer text-blue-primary text-xxs mt-0.5 ml-auto font-semibold uppercase"},lt={key:1,class:"text-gray-500 text-xxs mt-0.5 ml-auto uppercase"};function rt(e,u,c,k,x,p){return l(),r(j,null,[o("div",{onClick:u[1]||(u[1]=n=>e.toggleSelection=!e.toggleSelection),class:"border ml-auto mr-auto py-3 px-2 cursor-pointer rounded-md"},[o("div",Ie,[o("div",Ce,[e.selectedImg?(l(),r("div",{key:1,innerHTML:e.selectedImg},null,8,Me)):(l(),r("div",{key:0,innerHTML:e.toSvg("account",25,e.jdenticonConfig)},null,8,Ae)),o("div",Be,[o("div",Ee,d(e.placeholder?e.placeholder:e.$t("general.account")),1),e.selectedAccount!=""?(l(),r("div",Le,d(e.selectedAccount),1)):(l(),r("div",Ve,d(e.$t("general.selectAccount")),1))])]),o("div",Ne,[e.selectedAccount!=""?(l(),r("div",Fe,[o("div",He,[A(d(e.$t("general.balance"))+" ",1),o("div",je,[e.otherToken!="prx.xpx"?(l(),r("div",{key:0,innerHTML:e.otherTokenBalanceFormatted},null,8,De)):f("",!0),e.otherToken!="prx.xpx"?(l(),r("div",Pe,d(e.otherToken!="prx.xpx"?e.name:e.currentNativeTokenName),1)):f("",!0)]),o("div",Re,[o("div",{innerHTML:e.nativeTokenBalanceFormatted},null,8,We),o("div",qe,d(e.currentNativeTokenName),1)])])])):f("",!0),!e.toggleSelection&&e.selectedAccount==""?(l(),r("div",Oe,Ke)):f("",!0),!e.toggleSelection&&e.selectedAccount!=""?(l(),r("div",Je,Xe)):f("",!0),e.toggleSelection?(l(),r("img",{key:3,onClick:u[0]||(u[0]=n=>{e.selectedAccount="",e.$emit("update:modelValue","")}),src:Z,class:"h-5 w-5 ml-auto cursor-pointer text-blue-primary font-semibold mt-auto mb-auto"})):f("",!0)])])]),o("div",Ge,[e.toggleSelection?(l(),r("div",Qe,[e.accounts.length>0?(l(),r("div",Ye,d(e.$t("general.selectAccount")),1)):(l(),r("div",Ze,d(e.$t("general.listEmpty")),1)),(l(!0),r(j,null,G(e.accounts,(n,m)=>(l(),r("div",{key:n,class:V(["px-2 py-3 flex cursor-pointer items-center",`${m!=e.accounts.length-1?"border-b border-gray-200":""}`]),onClick:g=>{e.selectAccount(n.label,n.value),e.$emit("update:modelValue",e.selectedAddress),e.$emit("select-account",e.selectedAddress)}},[o("div",{innerHTML:e.toSvg(n.value,20,e.jdenticonConfig)},null,8,tt),o("div",st,d(n.label),1),n.label!=e.selectedAccount?(l(),r("div",ot,d(e.$t("general.select")),1)):(l(),r("div",lt,d(e.$t("general.current")),1))],10,et))),128))])):f("",!0)])],64)}const vt=N(Te,[["render",rt]]);export{pt as M,mt as S,ct as _,vt as a};
