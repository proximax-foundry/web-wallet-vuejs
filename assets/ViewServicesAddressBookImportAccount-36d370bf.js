import"./vue-86063517.js";import{_ as N}from"./icon-download-26660e63.js";import{w as r,t as T,_ as K}from"./index-5a7a9eaf.js";import{u as O}from"./vue-i18n-728f748b.js";import{u as R,j}from"./primevue-e09f7e84.js";import{A as C}from"./addressBookUtils-0d3294bf.js";import{d as F,r as c,c as M,B as P,o as _,z as h,A as a,a as u,m as A,l as g,g as s,e as L,bf as H,u as U}from"./@vue-a9ecc9f1.js";import"./@js-joda-d98eb16f.js";import"./tsjs-xpx-chain-sdk-84426b6a.js";import"./rxjs-1250b26d.js";import"./tslib-8dbab242.js";import"./@noble-f8eff84a.js";import"./js-sha3-d7d4f583.js";import"./node-stdlib-browser-23a8bc7f.js";import"./buffer-6d367910.js";import"./base64-js-50a5cdf9.js";import"./ieee754-44f7831e.js";import"./process-2209b2b3.js";import"./utf8-c941a4a0.js";import"./bip39-936aefa9.js";import"./axios-b48d2c29.js";import"./flatbuffers-edc4f8d7.js";import"./ws-0a714537.js";import"./vue-router-21fffbbf.js";import"./crypto-js-e64ac54c.js";import"./crypto-browserify-4fd8cccd.js";import"./randombytes-685e9383.js";import"./safe-buffer-c463177b.js";import"./create-hash-92c04a28.js";import"./inherits-804453d8.js";import"./md5.js-8d474739.js";import"./hash-base-bb85fc42.js";import"./readable-stream-2241ee9e.js";import"./events-86ccc6d8.js";import"./util-06f7ff32.js";import"./is-arguments-86164331.js";import"./has-tostringtag-7c6352d6.js";import"./has-symbols-cd7870b9.js";import"./call-bind-9e7f09da.js";import"./get-intrinsic-f35014ba.js";import"./has-proto-8ede3a55.js";import"./function-bind-68631a08.js";import"./has-ab8e2922.js";import"./is-generator-function-06dfaf9d.js";import"./which-typed-array-cf6b6a29.js";import"./for-each-f57c5052.js";import"./is-callable-7492318c.js";import"./available-typed-arrays-61974ec7.js";import"./gopd-bab4d6bd.js";import"./is-typed-array-037eef20.js";import"./util-deprecate-c3aabb3c.js";import"./string_decoder-ef7b01fe.js";import"./ripemd160-58dcfa02.js";import"./sha.js-cea3da2e.js";import"./cipher-base-aee0e03d.js";import"./stream-browserify-7496a08f.js";import"./create-hmac-e8b5ea4a.js";import"./browserify-sign-a708a95f.js";import"./browserify-rsa-bfbdcbb6.js";import"./bn.js-1ae23332.js";import"./elliptic-75e883ee.js";import"./minimalistic-assert-4cc49674.js";import"./minimalistic-crypto-utils-6f869a51.js";import"./brorand-03f0f79d.js";import"./hash.js-4f5dfe73.js";import"./hmac-drbg-87799258.js";import"./parse-asn1-465c125b.js";import"./asn1.js-405e93e4.js";import"./safer-buffer-2ac6237e.js";import"./evp_bytestokey-e91543fa.js";import"./browserify-aes-ce20a0e6.js";import"./buffer-xor-87a7236a.js";import"./pbkdf2-e2ae8643.js";import"./browserify-cipher-c4c37ca3.js";import"./browserify-des-3f7e64d9.js";import"./des.js-d262604a.js";import"./diffie-hellman-c8260aab.js";import"./miller-rabin-de27bf02.js";import"./create-ecdh-ffe720e9.js";import"./public-encrypt-fc0568a2.js";import"./randomfill-2874e5f1.js";import"./mathjs-2a513dae.js";import"./@babel-484168fe.js";import"./typed-function-4896e4f1.js";import"./decimal.js-d133ee8e.js";import"./complex.js-cf2520e8.js";import"./fraction.js-39e7906a.js";import"./javascript-natural-sort-c4dd0c27.js";import"./escape-latex-c8a96e7a.js";import"./seedrandom-c8f991ad.js";import"./tiny-emitter-56d49cfd.js";import"./crypto-random-string-d158262e.js";import"./jose-92e5544c.js";import"./vue-loading-overlay-b89251b1.js";import"./jspdf-30014160.js";import"./fflate-8981c52c.js";import"./vue-debounce-3bbbf8c6.js";import"./mitt-f7ef348c.js";/* empty css                   */import"./maska-6f10db43.js";import"./@fortawesome-014b81f2.js";import"./vue3-blocks-tree-e53499e3.js";import"./@intlify-16888cd3.js";const z={class:"w-9/12 ml-auto mr-auto mt-5"},D={class:"flex text-xs font-semibold border-b-2 menu_title_div"},q={class:"w-18 text-center border-b-2 pb-3 border-yellow-500"},G={class:"mt-10"},J={class:"text-md my-5 font-semibold"},Q={class:"flex cursor-pointer"},X={class:"border-2 border-blue-primary p-1 mb-3 w-16 text-white bg-blue-primary text-xs text-center font-semibold"},Y={class:"text-tsm"},Z={key:0,class:"bg-blue-200 text-left text-sm p-2 rounded-lg text-gray-800 mb-2"},tt={key:1,class:"bg-yellow-200 text-left text-sm p-2 rounded-lg text-gray-800 mb-2"},et={class:"mt-4"},ot=a("img",{src:N,class:"inline-block mr-4 relative top-1"},null,-1),rt=F({__name:"ViewServicesAddressBookImportAccount",setup(st){const{t:k}=O(),W=R(),y=U().appContext.config.globalProperties.emitter,f=c([]),l=c(0),p=c(0),v=c([]),x=t=>{const o=r.currentLoggedInWallet.contacts.find(e=>e.address==t.address);return o?o.name:t.name},S=M(()=>{if(!r.currentLoggedInWallet)return[];let t=r.currentLoggedInWallet.accounts.map(e=>({name:x(e),address:e.address,publicKey:e.publicKey,group:"Account"})),o=r.currentLoggedInWallet.others.map(e=>({name:x(e),address:e.address,publicKey:e.publicKey,group:"OtherAccount"}));return t.concat(o)}),I=()=>{r.currentLoggedInWallet&&(f.value=[],r.currentLoggedInWallet.contacts!=null&&r.currentLoggedInWallet.contacts.length>0&&(r.currentLoggedInWallet.contacts.forEach(t=>{f.value.push(t)}),f.value.sort((t,o)=>t.name>o.name?1:t.name<o.name?-1:0)))};I(),y.on("REFRESH_CONTACT_LIST",t=>{t&&setTimeout(()=>{I()},1e3)});const V=()=>{if(!r.currentLoggedInWallet)return;const t=r.currentLoggedInWallet;let o=[],e=[];v.value.forEach(i=>{let d=i.name,m=i.address,b=i.group,w=i.publicKey;const $=t.contacts!=null?t.contacts.findIndex(n=>n.address==m):-1,E=t.contacts!=null?t.contacts.findIndex(n=>n.name.toLowerCase()==d.toLowerCase()):-1,B=r.currentLoggedInWallet.accounts.find(n=>n.default==!0);$>=0?o.push({label:d,address:m,group:b,publicKey:w}):E>=0?C.verifyNetworkAddress(B.address,m).isPassed&&e.push({label:d+" - 2",address:m,group:b,publicKey:w}):C.verifyNetworkAddress(B.address,m).isPassed&&e.push({label:d,address:m,group:b,publicKey:w})}),o.length>0&&(p.value=o.length),e.length>0&&(e.forEach(i=>{let d=new T(i.label,i.address,i.group,i.publicKey);r.currentLoggedInWallet.addAddressBook(d)}),r.wallets.saveMyWalletOnlytoLocalStorage(r.currentLoggedInWallet),l.value=e.length,y.emit("REFRESH_CONTACT_LIST",!0),W.add({severity:"info",summary:k("general.addressBook"),detail:k("addressBook.newContactImported",l.value),group:"br-custom",life:5e3}))};return(t,o)=>{const e=P("router-link");return _(),h("div",null,[a("div",z,[a("div",D,[u(e,{to:{name:"ViewServicesAddressBook"},class:"w-18 text-center border-b pb-3"},{default:A(()=>[g(s(t.$t("general.list")),1)]),_:1}),a("div",q,s(t.$t("general.import")),1),u(e,{to:{name:"ViewServicesAddressBookExport"},class:"w-18 text-center border-b pb-3"},{default:A(()=>[g(s(t.$t("general.export")),1)]),_:1})]),a("div",G,[a("div",J,s(t.$t("addressBook.importContacts")),1),a("div",Q,[u(e,{to:{name:"ViewServicesAddressBookImport"},class:"border-2 border-blue-primary p-1 mb-3 w-20 text-blue-primary text-xs text-center font-semibold"},{default:A(()=>[g(s(t.$t("wallet.importFile")),1)]),_:1}),a("div",X,s(t.$t("general.account")),1)]),a("div",Y,s(t.$t("addressBook.addAccountContact")),1),l.value>0?(_(),h("div",Z,s(l.value)+" "+s(t.$t("general.contact",l.value))+" "+s(t.$t("addressBook.addressBookMessage1")),1)):L("v-if",!0),p.value>0?(_(),h("div",tt,s(p.value)+" "+s(t.$t("general.contact",p.value))+" "+s(t.$t("addressBook.addressBookMessage2")),1)):L("v-if",!0),a("div",et,[u(H(j),{modelValue:v.value,"onUpdate:modelValue":o[0]||(o[0]=i=>v.value=i),options:S.value,filter:"",optionLabel:"name",placeholder:"Accounts",class:"w-60 inline-block mr-2"},null,8,["modelValue","options"])]),a("div",{onClick:o[1]||(o[1]=i=>V()),class:"w-36 cursor-pointer mt-5 py-2 px-5 rounded-md bg-blue-primary text-white text-tsm drop-shadow-lg filter hover:bg-blue-600 transition-all duration-500"},[ot,g(s(t.$t("general.import")),1)])])])])}}}),eo=K(rt,[["__file","/home/runner/work/web-wallet-vuejs/web-wallet-vuejs/src/modules/services/submodule/addressbook/views/ViewServicesAddressBookImportAccount.vue"]]);export{eo as default};
