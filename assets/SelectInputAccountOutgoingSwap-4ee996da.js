import{d as H,g as d,r as K,o as l,f as a,e as s,t as n,a as j,i as x,h as F,_ as D,I as z,J,O,D as N,c as C,S as Q,s as M,Q as U,A as X,K as Z,w as I,H as P,F as R,M as G}from"./index-f4fa05bb.js";import{_ as Y}from"./index-1849632e.js";import{_ as ee}from"./icon-info-8b4f1351.js";import{t as W}from"./jdenticon-module-14cc3de9.js";import{_ as te}from"./delete-8b454e7f.js";const se={class:"border border-gray-200 px-2 py-2 text-left flex justify-between items-center"},oe={class:"uppercase text-gray-400 font-light text-txs text-left mb-2"},le=["type","disabled","value","placeholder"],ae={class:"h-3 mb-2"},re={key:0,class:"error error-text text-left"},mt=H({__name:"PasswordInputClean",props:{placeholder:{type:String},errorMessage:{type:String},icon:{type:String},showError:{type:Boolean},modelValue:{type:String},disabled:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:i}){const u=e,S=i,_=k=>{S("update:modelValue",k.target.value)},c=d("password"),r=d(!1),p=d(!1),v=()=>{r.value=!r.value,r.value?c.value="text":c.value="password"},T=()=>{u.modelValue==""||Object.keys(u.modelValue).length<8?p.value=!0:p.value=!1};return(k,f)=>{const $=K("font-awesome-icon");return l(),a("div",{class:F(e.disabled?"opacity-50":"")},[s("div",se,[s("div",null,[s("div",oe,n(e.placeholder),1),s("input",{type:c.value,disabled:e.disabled==!0,value:e.modelValue,onInput:_,class:"text_input",placeholder:e.placeholder,onBlur:f[0]||(f[0]=w=>T()),autocomplete:"off"},null,40,le)]),r.value?x("",!0):(l(),j($,{key:0,icon:"eye",class:"text-gray-500 relative cursor-pointer text-right mr-2",onClick:f[1]||(f[1]=w=>{v()})})),r.value?(l(),j($,{key:1,icon:"eye-slash",class:"text-gray-500 relative cursor-pointer text-right mr-2",onClick:f[2]||(f[2]=w=>{v()})})):x("",!0)]),s("div",ae,[p.value||e.showError?(l(),a("div",re,n(e.errorMessage),1)):x("",!0)])],2)}}});const ne={props:{placeholder:String,errorMessage:String,icon:String,showError:Boolean,disabled:Boolean,modelValue:String,imgRequired:Boolean},emits:["update:modelValue"],name:"MetamaskAddressInput",data(){return{inputText:"",borderColor:"border border-gray-300",textErr:!1}},methods:{clickInputText:function(){!this.showError&&!this.disabled&&(this.borderColor="border-2 border-blue-primary")},getIcon(){return require(`@/${this.icon}`)},blurInputText:function(){this.disabled||(this.modelValue==""?(this.borderColor="border-2 border-red-primary",this.textErr=!0):(this.borderColor="border-2 border-gray-300",this.textErr=!1))},focusInputText:function(){this.borderColor="border-2 border-blue-primary",this.textErr=!1}},mounted(){this.emitter.on("CLEAR_TEXT",e=>{this.inputText=e,this.textErr=!1,this.borderColor="border border-gray-300"})}},ie=e=>(z("data-v-f8460dfd"),e=e(),J(),e),ue={class:"border border-gray-200 rounded"},de={class:"flex justify-left"},ce=ie(()=>s("div",{class:"w-18 flex items-center justify-center py-5 sm:h-20 flex-none"},[s("img",{src:Y,class:"w-8 h-8 inline-block"})],-1)),pe={class:"text-left flex items-center"},me={class:"block"},ve={class:"text-xxs uppercase text-blue-primary font-bold"},fe=["disabled","value","placeholder"],ge={key:0,class:"error error-text text-left"};function he(e,i,u,S,_,c){return l(),a("div",null,[s("div",ue,[s("div",de,[ce,s("div",pe,[s("div",me,[s("div",ve,n(e.$t("swap.toMetamaskAddress")),1),s("input",{disabled:u.disabled,value:u.modelValue,onInput:i[0]||(i[0]=r=>e.$emit("update:modelValue",r.target.value)),type:"text",size:"80",class:"placeholder bg-white",placeholder:u.placeholder,onClick:i[1]||(i[1]=r=>c.clickInputText()),onFocus:i[2]||(i[2]=r=>c.focusInputText()),onBlur:i[3]||(i[3]=r=>c.blurInputText())},null,40,fe)])])])]),_.textErr||u.showError?(l(),a("div",ge,n(u.errorMessage),1)):x("",!0)])}const vt=D(ne,[["render",he],["__scopeId","data-v-f8460dfd"]]),xe={class:"border border-gray-200 px-2 py-1 h-14 rounded-md"},be={class:"uppercase text-gray-500 text-txs text-left mb-1"},ye={key:0,src:ee,class:"inline-block ml-1 relative cursor-pointer",style:{top:"-1px"}},ke={class:"flex justify-between items-center"},_e=["value","placeholder","maxlength"],$e=["disabled"],we={key:0,class:"h-3 mb-2 error error-text text-left"},Se={key:1,class:"h-3 mb-2 error error-text text-left"},Te={key:2,class:"text-gray-600 text-xs mr-3 my-1 mb-5 text-left"},B=16,Ie=H({__name:"SwapInputClean",props:{placeholder:String,errorMessage:String,emptyErrorMessage:String,icon:String,showError:Boolean,modelValue:{type:Number,required:!0},title:String,disabled:Boolean,maxAmount:{type:Number,required:!0},remarkOption:Boolean,transactionFee:String,gasFee:Number,toolTip:String,decimal:{type:Number,required:!0}},emits:["update:modelValue","clickedMaxAvailable"],setup(e,{emit:i}){const u=e,S=i,{modelValue:_}=O(u),c=d(!1),r=d(!1),p=d(!1),v=d(u.modelValue),T=d(0),k=d(!1),f=d(!1);N(_,t=>{t==u.maxAmount?r.value=!0:r.value=!1});const $=()=>{r.value=!0},w=()=>{c.value=!1,p.value=!1},A=t=>{const o=t.target;o.value=o.value?o.value:"0",u.maxAmount<Number(o.value.replace(/,/g,""))?c.value=!0:c.value=!1},L=t=>{const o=t.target;o.value===""||Number(o.value)===0||o.value==="0"?p.value=!0:p.value=!1},E=(t,o)=>{const b=t.key;return b>="0"&&b<="9"||b==="."||b==="Backspace"||b==="Delete"||b==="ArrowLeft"||b==="ArrowRight"?(b==="."&&o.includes(".")&&t.preventDefault(),!0):(t.preventDefault(),!1)},V=t=>t.split(",").length-1,m=t=>{t.includes(".")?(t.includes(".0")&&(f.value=!0),k.value=!0):(k.value=!1,f.value=!1),isNaN(parseFloat(t))?v.value=0:v.value=parseFloat(t)},g=C(()=>{let t=Intl.NumberFormat("en-US",{maximumFractionDigits:T.value}).format(v.value);return k.value&&!t.includes(".")&&(t=t+"."),f.value&&v.value.toString()!==t&&(t=t+"0"),t}),h=C(()=>{let t=0;return g.value.includes(",")&&(t=t+V(g.value)),k.value&&(t=t+1),B+t});return N(v,(t,o)=>{if(t.toString().includes(".")){const[b,y]=t.toString().split(".");T.value=B-b.length,y&&y.length>T.value&&(v.value=o)}else t.toString().length>B&&(v.value=o);S("update:modelValue",v.value)}),(t,o)=>{const b=Q("tooltip");return l(),a("div",{class:F(e.disabled?"opacity-50":"")},[s("div",xe,[s("div",be,[M(n(e.placeholder)+" ",1),e.toolTip?U((l(),a("img",ye,null,512)),[[b,{value:"<tiptext>"+e.toolTip+"</tiptext>",escape:!1},void 0,{bottom:!0}]]):x("",!0)]),s("div",ke,[s("input",{value:g.value,class:"supply_input",placeholder:e.placeholder,maxlength:h.value,onKeyup:o[0]||(o[0]=y=>(A(y),L(y))),onInput:o[1]||(o[1]=y=>m(y.target.value.replace(/,/g,""))),onKeypress:o[2]||(o[2]=y=>E(y,y.target.value))},null,40,_e),s("button",{disabled:e.disabled==!0,class:"w-24 cursor-pointer focus:outline-none text-blue-primary text-xs font-bold",onClick:o[3]||(o[3]=y=>{$(),t.$emit("clickedMaxAvailable",!0),w()})},n(t.$t("swap.maxAmount")),9,$e)])]),c.value||e.showError?(l(),a("div",we,n(e.errorMessage),1)):x("",!0),p.value?(l(),a("div",Se,n(e.emptyErrorMessage),1)):x("",!0),r.value==!0&&e.remarkOption?(l(),a("div",Te,[M(n(t.$t("swap.inputRemark1"))+" ",1),s("b",null,n(e.transactionFee)+" xpx",1),M(" "+n(t.$t("swap.inputRemark2"))+" ",1),s("b",null,n(e.gasFee)+" xpx",1)])):x("",!0)],2)}}});const ft=D(Ie,[["__scopeId","data-v-3d47c7dd"]]),q="/web-wallet-vuejs/assets/icon-caret-down-7a395602.svg",Ce=H({emits:["select-account","update:modelValue"],name:"SelectInputAccountOutgoingSwap",props:["modelValue","selectDefault","placeholder","otherToken","otherTokenId","name","divisibility"],setup(e){const i=C(()=>X.nativeToken.label),u=d(!1);let S=new Z("ThemeStyleConfig");S.init();let _=S.jdenticonConfig;const{otherToken:c,divisibility:r,otherTokenId:p}=O(e),v=d(!1),T=C(()=>{var m=[];let g;return v.value?g=I.currentLoggedInWallet.accounts.concat(I.currentLoggedInWallet.others):g=I.currentLoggedInWallet.accounts.filter(h=>h.getDirectParentMultisig().length==0),g.forEach(h=>{m.push({value:h.address,label:h.name})}),m}),k=d(""),f=d(""),$=d(0),w=d(0),A=d(""),L=(m,g)=>{k.value=m,f.value=g;let h;v.value?h=I.currentLoggedInWallet.accounts.concat(I.currentLoggedInWallet.others):h=I.currentLoggedInWallet.accounts;let t=h.find(o=>o.address==g);$.value=c.value!="prx.xpx"&&t.assets.find(o=>o.idHex==p.value)?t.assets.find(o=>o.idHex==p.value).amount:0,w.value=h.find(o=>o.address==g).balance,A.value=W(g,25,_),u.value=!u.value};N(c,m=>{let g=I.currentLoggedInWallet.accounts,h=g.find(t=>t.address==f.value);h&&($.value=m!="prx.xpx"&&h.assets.find(t=>t.idHex==p.value)?h.assets.find(t=>t.idHex==p.value).amount:0,w.value=g.find(t=>t.address==f.value).balance)});const E=C(()=>{let m=P.convertToCurrency($.value,0).split(".");return'<span class="font-bold text-xs">'+m[0]+"</span>"+(m[1]?'.<span class="text-xxs">'+m[1]+"</span>":"")}),V=C(()=>{let m=P.convertToCurrency(w.value,0).split(".");return'<span class="font-bold text-xs">'+m[0]+"</span>"+(m[1]?'.<span class="text-xxs">'+m[1]+"</span>":"")});return{currentNativeTokenName:i,selectAccount:L,selectedAddress:f,otherTokenBalanceFormatted:E,otherTokenBalance:$,selectedImg:A,accounts:T,toggleSelection:u,selectedAccount:k,jdenticonConfig:_,toSvg:W,nativeTokenBalance:w,nativeTokenBalanceFormatted:V}}}),Ae={class:"flex items-center justify-between"},Me={class:"flex"},Le=["innerHTML"],Ee=["innerHTML"],Ve={class:"flex flex-col ml-2 text-left"},Be={class:"text-blue-primary font-semibold text-xxs uppercase",style:{"line-height":"9px"}},Ne={key:0,class:"mt-1 text-tsm font-bold text-left"},He={key:1,class:"text-tsm font-bold mt-1 text-left"},Fe={class:"flex"},De={key:0,class:"text-xs mr-3"},je={class:"flex gap-2"},Pe={class:"flex gap-2"},Re=["innerHTML"],We={key:1,class:"text-xs uppercase"},Oe={class:"flex gap-2"},qe=["innerHTML"],Ke={class:"text-xs"},ze={key:1,class:"text-xxs ml-auto cursor-pointer text-blue-primary font-semibold mt-auto mb-auto"},Je=s("img",{src:q},null,-1),Qe=[Je],Ue={key:2,class:"text-xxs ml-auto cursor-pointer text-blue-primary font-semibold mt-auto mb-auto"},Xe=s("img",{src:q},null,-1),Ze=[Xe],Ge={class:"relative"},Ye={key:0,class:"absolute border border-t-0 w-full z-50 bg-white max-h-40 overflow-auto px-3 filter drop-shodow-xl uppercase"},et={key:0,class:"pl-2 pt-4 text-xxs text-gray-400 text-left"},tt={key:1,class:"text-xxs pt-2 pl-2 pb-2"},st=["onClick"],ot=["innerHTML"],lt={class:"text-xs ml-2 font-semibold"},at={key:0,class:"cursor-pointer text-blue-primary text-xxs mt-0.5 ml-auto font-semibold uppercase"},rt={key:1,class:"text-gray-500 text-xxs mt-0.5 ml-auto uppercase"};function nt(e,i,u,S,_,c){return l(),a(R,null,[s("div",{onClick:i[1]||(i[1]=r=>e.toggleSelection=!e.toggleSelection),class:"border ml-auto mr-auto py-3 px-2 cursor-pointer rounded-md"},[s("div",Ae,[s("div",Me,[e.selectedImg?(l(),a("div",{key:1,innerHTML:e.selectedImg},null,8,Ee)):(l(),a("div",{key:0,innerHTML:e.toSvg("account",25,e.jdenticonConfig)},null,8,Le)),s("div",Ve,[s("div",Be,n(e.placeholder?e.placeholder:e.$t("general.account")),1),e.selectedAccount!=""?(l(),a("div",Ne,n(e.selectedAccount),1)):(l(),a("div",He,n(e.$t("general.selectAccount")),1))])]),s("div",Fe,[e.selectedAccount!=""?(l(),a("div",De,[s("div",je,[M(n(e.$t("general.balance"))+" ",1),s("div",Pe,[e.otherToken!="prx.xpx"?(l(),a("div",{key:0,innerHTML:e.otherTokenBalanceFormatted},null,8,Re)):x("",!0),e.otherToken!="prx.xpx"?(l(),a("div",We,n(e.otherToken!="prx.xpx"?e.name:e.currentNativeTokenName),1)):x("",!0)]),s("div",Oe,[s("div",{innerHTML:e.nativeTokenBalanceFormatted},null,8,qe),s("div",Ke,n(e.currentNativeTokenName),1)])])])):x("",!0),!e.toggleSelection&&e.selectedAccount==""?(l(),a("div",ze,Qe)):x("",!0),!e.toggleSelection&&e.selectedAccount!=""?(l(),a("div",Ue,Ze)):x("",!0),e.toggleSelection?(l(),a("img",{key:3,onClick:i[0]||(i[0]=r=>{e.selectedAccount="",e.$emit("update:modelValue","")}),src:te,class:"h-5 w-5 ml-auto cursor-pointer text-blue-primary font-semibold mt-auto mb-auto"})):x("",!0)])])]),s("div",Ge,[e.toggleSelection?(l(),a("div",Ye,[e.accounts.length>0?(l(),a("div",et,n(e.$t("general.selectAccount")),1)):(l(),a("div",tt,n(e.$t("general.listEmpty")),1)),(l(!0),a(R,null,G(e.accounts,(r,p)=>(l(),a("div",{key:r,class:F(["px-2 py-3 flex cursor-pointer items-center",`${p!=e.accounts.length-1?"border-b border-gray-200":""}`]),onClick:v=>{e.selectAccount(r.label,r.value),e.$emit("update:modelValue",e.selectedAddress),e.$emit("select-account",e.selectedAddress)}},[s("div",{innerHTML:e.toSvg(r.value,20,e.jdenticonConfig)},null,8,ot),s("div",lt,n(r.label),1),r.label!=e.selectedAccount?(l(),a("div",at,n(e.$t("general.select")),1)):(l(),a("div",rt,n(e.$t("general.current")),1))],10,st))),128))])):x("",!0)])],64)}const gt=D(Ce,[["render",nt]]);export{vt as M,ft as S,mt as _,gt as a};
